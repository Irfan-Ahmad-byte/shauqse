(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const y of m)if(y.type==="childList")for(const h of y.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&d(h)}).observe(document,{childList:!0,subtree:!0});function u(m){const y={};return m.integrity&&(y.integrity=m.integrity),m.referrerPolicy&&(y.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?y.credentials="include":m.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function d(m){if(m.ep)return;m.ep=!0;const y=u(m);fetch(m.href,y)}})();function Im(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var uo={exports:{}},bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function bg(){if(_m)return bs;_m=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function u(d,m,y){var h=null;if(y!==void 0&&(h=""+y),m.key!==void 0&&(h=""+m.key),"key"in m){y={};for(var j in m)j!=="key"&&(y[j]=m[j])}else y=m;return m=y.ref,{$$typeof:s,type:d,key:h,ref:m!==void 0?m:null,props:y}}return bs.Fragment=c,bs.jsx=u,bs.jsxs=u,bs}var Cm;function vg(){return Cm||(Cm=1,uo.exports=bg()),uo.exports}var l=vg(),fo={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function jg(){if(Em)return we;Em=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),h=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),z=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=z&&N[z]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,ae={};function le(N,H,te){this.props=N,this.context=H,this.refs=ae,this.updater=te||E}le.prototype.isReactComponent={},le.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},le.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Z(){}Z.prototype=le.prototype;function V(N,H,te){this.props=N,this.context=H,this.refs=ae,this.updater=te||E}var ne=V.prototype=new Z;ne.constructor=V,K(ne,le.prototype),ne.isPureReactComponent=!0;var ee=Array.isArray;function Y(){}var A={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function J(N,H,te){var ue=te.ref;return{$$typeof:s,type:N,key:H,ref:ue!==void 0?ue:null,props:te}}function F(N,H){return J(N.type,H,N.props)}function me(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function se(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(te){return H[te]})}var M=/\/+/g;function q(N,H){return typeof N=="object"&&N!==null&&N.key!=null?se(""+N.key):H.toString(36)}function pe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Y,Y):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function v(N,H,te,ue,be){var re=typeof N;(re==="undefined"||re==="boolean")&&(N=null);var B=!1;if(N===null)B=!0;else switch(re){case"bigint":case"string":case"number":B=!0;break;case"object":switch(N.$$typeof){case s:case c:B=!0;break;case C:return B=N._init,v(B(N._payload),H,te,ue,be)}}if(B)return be=be(N),B=ue===""?"."+q(N,0):ue,ee(be)?(te="",B!=null&&(te=B.replace(M,"$&/")+"/"),v(be,H,te,"",function(il){return il})):be!=null&&(me(be)&&(be=F(be,te+(be.key==null||N&&N.key===be.key?"":(""+be.key).replace(M,"$&/")+"/")+B)),H.push(be)),1;B=0;var ye=ue===""?".":ue+":";if(ee(N))for(var Ue=0;Ue<N.length;Ue++)ue=N[Ue],re=ye+q(ue,Ue),B+=v(ue,H,te,re,be);else if(Ue=D(N),typeof Ue=="function")for(N=Ue.call(N),Ue=0;!(ue=N.next()).done;)ue=ue.value,re=ye+q(ue,Ue++),B+=v(ue,H,te,re,be);else if(re==="object"){if(typeof N.then=="function")return v(pe(N),H,te,ue,be);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return B}function T(N,H,te){if(N==null)return N;var ue=[],be=0;return v(N,ue,"","",function(re){return H.call(te,re,be++)}),ue}function ie(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(te){(N._status===0||N._status===-1)&&(N._status=1,N._result=te)},function(te){(N._status===0||N._status===-1)&&(N._status=2,N._result=te)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var L=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},de={map:T,forEach:function(N,H,te){T(N,function(){H.apply(this,arguments)},te)},count:function(N){var H=0;return T(N,function(){H++}),H},toArray:function(N){return T(N,function(H){return H})||[]},only:function(N){if(!me(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return we.Activity=S,we.Children=de,we.Component=le,we.Fragment=u,we.Profiler=m,we.PureComponent=V,we.StrictMode=d,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,we.__COMPILER_RUNTIME={__proto__:null,c:function(N){return A.H.useMemoCache(N)}},we.cache=function(N){return function(){return N.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(N,H,te){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ue=K({},N.props),be=N.key;if(H!=null)for(re in H.key!==void 0&&(be=""+H.key),H)!$.call(H,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&H.ref===void 0||(ue[re]=H[re]);var re=arguments.length-2;if(re===1)ue.children=te;else if(1<re){for(var B=Array(re),ye=0;ye<re;ye++)B[ye]=arguments[ye+2];ue.children=B}return J(N.type,be,ue)},we.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:y,_context:N},N},we.createElement=function(N,H,te){var ue,be={},re=null;if(H!=null)for(ue in H.key!==void 0&&(re=""+H.key),H)$.call(H,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=H[ue]);var B=arguments.length-2;if(B===1)be.children=te;else if(1<B){for(var ye=Array(B),Ue=0;Ue<B;Ue++)ye[Ue]=arguments[Ue+2];be.children=ye}if(N&&N.defaultProps)for(ue in B=N.defaultProps,B)be[ue]===void 0&&(be[ue]=B[ue]);return J(N,re,be)},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:j,render:N}},we.isValidElement=me,we.lazy=function(N){return{$$typeof:C,_payload:{_status:-1,_result:N},_init:ie}},we.memo=function(N,H){return{$$typeof:x,type:N,compare:H===void 0?null:H}},we.startTransition=function(N){var H=A.T,te={};A.T=te;try{var ue=N(),be=A.S;be!==null&&be(te,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Y,L)}catch(re){L(re)}finally{H!==null&&te.types!==null&&(H.types=te.types),A.T=H}},we.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},we.use=function(N){return A.H.use(N)},we.useActionState=function(N,H,te){return A.H.useActionState(N,H,te)},we.useCallback=function(N,H){return A.H.useCallback(N,H)},we.useContext=function(N){return A.H.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N,H){return A.H.useDeferredValue(N,H)},we.useEffect=function(N,H){return A.H.useEffect(N,H)},we.useEffectEvent=function(N){return A.H.useEffectEvent(N)},we.useId=function(){return A.H.useId()},we.useImperativeHandle=function(N,H,te){return A.H.useImperativeHandle(N,H,te)},we.useInsertionEffect=function(N,H){return A.H.useInsertionEffect(N,H)},we.useLayoutEffect=function(N,H){return A.H.useLayoutEffect(N,H)},we.useMemo=function(N,H){return A.H.useMemo(N,H)},we.useOptimistic=function(N,H){return A.H.useOptimistic(N,H)},we.useReducer=function(N,H,te){return A.H.useReducer(N,H,te)},we.useRef=function(N){return A.H.useRef(N)},we.useState=function(N){return A.H.useState(N)},we.useSyncExternalStore=function(N,H,te){return A.H.useSyncExternalStore(N,H,te)},we.useTransition=function(){return A.H.useTransition()},we.version="19.2.0",we}var Am;function Co(){return Am||(Am=1,fo.exports=jg()),fo.exports}var p=Co();const Qm=Im(p);var mo={exports:{}},vs={},ho={exports:{}},xo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function Ng(){return Tm||(Tm=1,(function(s){function c(v,T){var ie=v.length;v.push(T);e:for(;0<ie;){var L=ie-1>>>1,de=v[L];if(0<m(de,T))v[L]=T,v[ie]=de,ie=L;else break e}}function u(v){return v.length===0?null:v[0]}function d(v){if(v.length===0)return null;var T=v[0],ie=v.pop();if(ie!==T){v[0]=ie;e:for(var L=0,de=v.length,N=de>>>1;L<N;){var H=2*(L+1)-1,te=v[H],ue=H+1,be=v[ue];if(0>m(te,ie))ue<de&&0>m(be,te)?(v[L]=be,v[ue]=ie,L=ue):(v[L]=te,v[H]=ie,L=H);else if(ue<de&&0>m(be,ie))v[L]=be,v[ue]=ie,L=ue;else break e}}return T}function m(v,T){var ie=v.sortIndex-T.sortIndex;return ie!==0?ie:v.id-T.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;s.unstable_now=function(){return y.now()}}else{var h=Date,j=h.now();s.unstable_now=function(){return h.now()-j}}var g=[],x=[],C=1,S=null,z=3,D=!1,E=!1,K=!1,ae=!1,le=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function ne(v){for(var T=u(x);T!==null;){if(T.callback===null)d(x);else if(T.startTime<=v)d(x),T.sortIndex=T.expirationTime,c(g,T);else break;T=u(x)}}function ee(v){if(K=!1,ne(v),!E)if(u(g)!==null)E=!0,Y||(Y=!0,se());else{var T=u(x);T!==null&&pe(ee,T.startTime-v)}}var Y=!1,A=-1,$=5,J=-1;function F(){return ae?!0:!(s.unstable_now()-J<$)}function me(){if(ae=!1,Y){var v=s.unstable_now();J=v;var T=!0;try{e:{E=!1,K&&(K=!1,Z(A),A=-1),D=!0;var ie=z;try{t:{for(ne(v),S=u(g);S!==null&&!(S.expirationTime>v&&F());){var L=S.callback;if(typeof L=="function"){S.callback=null,z=S.priorityLevel;var de=L(S.expirationTime<=v);if(v=s.unstable_now(),typeof de=="function"){S.callback=de,ne(v),T=!0;break t}S===u(g)&&d(g),ne(v)}else d(g);S=u(g)}if(S!==null)T=!0;else{var N=u(x);N!==null&&pe(ee,N.startTime-v),T=!1}}break e}finally{S=null,z=ie,D=!1}T=void 0}}finally{T?se():Y=!1}}}var se;if(typeof V=="function")se=function(){V(me)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=me,se=function(){q.postMessage(null)}}else se=function(){le(me,0)};function pe(v,T){A=le(function(){v(s.unstable_now())},T)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(v){v.callback=null},s.unstable_forceFrameRate=function(v){0>v||125<v?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<v?Math.floor(1e3/v):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_next=function(v){switch(z){case 1:case 2:case 3:var T=3;break;default:T=z}var ie=z;z=T;try{return v()}finally{z=ie}},s.unstable_requestPaint=function(){ae=!0},s.unstable_runWithPriority=function(v,T){switch(v){case 1:case 2:case 3:case 4:case 5:break;default:v=3}var ie=z;z=v;try{return T()}finally{z=ie}},s.unstable_scheduleCallback=function(v,T,ie){var L=s.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?L+ie:L):ie=L,v){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ie+de,v={id:C++,callback:T,priorityLevel:v,startTime:ie,expirationTime:de,sortIndex:-1},ie>L?(v.sortIndex=ie,c(x,v),u(g)===null&&v===u(x)&&(K?(Z(A),A=-1):K=!0,pe(ee,ie-L))):(v.sortIndex=de,c(g,v),E||D||(E=!0,Y||(Y=!0,se()))),v},s.unstable_shouldYield=F,s.unstable_wrapCallback=function(v){var T=z;return function(){var ie=z;z=T;try{return v.apply(this,arguments)}finally{z=ie}}}})(xo)),xo}var Mm;function Sg(){return Mm||(Mm=1,ho.exports=Ng()),ho.exports}var go={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function wg(){if(km)return xt;km=1;var s=Co();function c(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)x+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var d={d:{f:u,r:function(){throw Error(c(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},m=Symbol.for("react.portal");function y(g,x,C){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:S==null?null:""+S,children:g,containerInfo:x,implementation:C}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function j(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,xt.createPortal=function(g,x){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(c(299));return y(g,x,null,C)},xt.flushSync=function(g){var x=h.T,C=d.p;try{if(h.T=null,d.p=2,g)return g()}finally{h.T=x,d.p=C,d.d.f()}},xt.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,d.d.C(g,x))},xt.prefetchDNS=function(g){typeof g=="string"&&d.d.D(g)},xt.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var C=x.as,S=j(C,x.crossOrigin),z=typeof x.integrity=="string"?x.integrity:void 0,D=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;C==="style"?d.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:S,integrity:z,fetchPriority:D}):C==="script"&&d.d.X(g,{crossOrigin:S,integrity:z,fetchPriority:D,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},xt.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var C=j(x.as,x.crossOrigin);d.d.M(g,{crossOrigin:C,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&d.d.M(g)},xt.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var C=x.as,S=j(C,x.crossOrigin);d.d.L(g,C,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},xt.preloadModule=function(g,x){if(typeof g=="string")if(x){var C=j(x.as,x.crossOrigin);d.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:C,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else d.d.m(g)},xt.requestFormReset=function(g){d.d.r(g)},xt.unstable_batchedUpdates=function(g,x){return g(x)},xt.useFormState=function(g,x,C){return h.H.useFormState(g,x,C)},xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},xt.version="19.2.0",xt}var Rm;function _g(){if(Rm)return go.exports;Rm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),go.exports=wg(),go.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Cg(){if(Om)return vs;Om=1;var s=Sg(),c=Co(),u=_g();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(y(e)!==e)throw Error(d(188))}function x(e){var t=e.alternate;if(!t){if(t=y(e),t===null)throw Error(d(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var r=i.alternate;if(r===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===a)return g(i),e;if(r===n)return g(i),t;r=r.sibling}throw Error(d(188))}if(a.return!==n.return)a=i,n=r;else{for(var o=!1,f=i.child;f;){if(f===a){o=!0,a=i,n=r;break}if(f===n){o=!0,n=i,a=r;break}f=f.sibling}if(!o){for(f=r.child;f;){if(f===a){o=!0,a=r,n=i;break}if(f===n){o=!0,n=r,a=i;break}f=f.sibling}if(!o)throw Error(d(189))}}if(a.alternate!==n)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:t}function C(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=C(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,z=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),V=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case le:return"Profiler";case ae:return"StrictMode";case ee:return"Suspense";case Y:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case V:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case $:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}var pe=Array.isArray,v=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},L=[],de=-1;function N(e){return{current:e}}function H(e){0>de||(e.current=L[de],L[de]=null,de--)}function te(e,t){de++,L[de]=e.current,e.current=t}var ue=N(null),be=N(null),re=N(null),B=N(null);function ye(e,t){switch(te(re,t),te(be,e),te(ue,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kf(t),e=Jf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(ue),te(ue,e)}function Ue(){H(ue),H(be),H(re)}function il(e){e.memoizedState!==null&&te(B,e);var t=ue.current,a=Jf(t,e.type);t!==a&&(te(be,e),te(ue,a))}function rl(e){be.current===e&&(H(ue),H(be)),B.current===e&&(H(B),xs._currentValue=ie)}var Nn,Sn;function ct(e){if(Nn===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Nn=t&&t[1]||"",Sn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nn+e+Sn}var Tt=!1;function Ut(e,t){if(!e||Tt)return"";Tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(U){var O=U}Reflect.construct(e,[],X)}else{try{X.call()}catch(U){O=U}e.call(X.prototype)}}else{try{throw Error()}catch(U){O=U}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(U){if(U&&O&&typeof U.stack=="string")return[U.stack,O.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),o=r[0],f=r[1];if(o&&f){var b=o.split(`
`),R=f.split(`
`);for(i=n=0;n<b.length&&!b[n].includes("DetermineComponentFrameRoot");)n++;for(;i<R.length&&!R[i].includes("DetermineComponentFrameRoot");)i++;if(n===b.length||i===R.length)for(n=b.length-1,i=R.length-1;1<=n&&0<=i&&b[n]!==R[i];)i--;for(;1<=n&&0<=i;n--,i--)if(b[n]!==R[i]){if(n!==1||i!==1)do if(n--,i--,0>i||b[n]!==R[i]){var G=`
`+b[n].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=n&&0<=i);break}}}finally{Tt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ct(a):""}function Ji(e,t){switch(e.tag){case 26:case 27:case 5:return ct(e.type);case 16:return ct("Lazy");case 13:return e.child!==t&&t!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Ut(e.type,!1);case 11:return Ut(e.type.render,!1);case 1:return Ut(e.type,!0);case 31:return ct("Activity");default:return""}}function ws(e){try{var t="",a=null;do t+=Ji(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var wn=Object.prototype.hasOwnProperty,_n=s.unstable_scheduleCallback,Tl=s.unstable_cancelCallback,Fi=s.unstable_shouldYield,Cn=s.unstable_requestPaint,ot=s.unstable_now,$i=s.unstable_getCurrentPriorityLevel,_s=s.unstable_ImmediatePriority,Cs=s.unstable_UserBlockingPriority,Ra=s.unstable_NormalPriority,En=s.unstable_LowPriority,Es=s.unstable_IdlePriority,Jt=s.log,Ft=s.unstable_setDisableYieldValue,cl=null,ht=null;function na(e){if(typeof Jt=="function"&&Ft(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(cl,e)}catch{}}var yt=Math.clz32?Math.clz32:er,Wi=Math.log,Pi=Math.LN2;function er(e){return e>>>=0,e===0?32:31-(Wi(e)/Pi|0)|0}var Ml=256,sa=262144,kl=4194304;function $t(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rl(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var f=n&134217727;return f!==0?(n=f&~r,n!==0?i=$t(n):(o&=f,o!==0?i=$t(o):a||(a=f&~e,a!==0&&(i=$t(a))))):(f=n&~r,f!==0?i=$t(f):o!==0?i=$t(o):a||(a=n&~e,a!==0&&(i=$t(a)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:i}function ol(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function As(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var e=kl;return kl<<=1,(kl&62914560)===0&&(kl=4194304),e}function I(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function fe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,t,a,n,i,r){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,b=e.expirationTimes,R=e.hiddenUpdates;for(a=o&~a;0<a;){var G=31-yt(a),X=1<<G;f[G]=0,b[G]=-1;var O=R[G];if(O!==null)for(R[G]=null,G=0;G<O.length;G++){var U=O[G];U!==null&&(U.lane&=-536870913)}a&=~X}n!==0&&Re(e,n,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(o&~t))}function Re(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-yt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Ie(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-yt(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function ia(e,t){var a=t&-t;return a=(a&42)!==0?1:Oa(a),(a&(e.suspendedLanes|t))!==0?0:a}function Oa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wt(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:ym(e.type))}function Tn(e,t){var a=T.p;try{return T.p=e,t()}finally{T.p=a}}var Pt=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Pt,jt="__reactProps$"+Pt,Ol="__reactContainer$"+Pt,tr="__reactEvents$"+Pt,ch="__reactListeners$"+Pt,oh="__reactHandles$"+Pt,Lo="__reactResources$"+Pt,Mn="__reactMarker$"+Pt;function ar(e){delete e[Qe],delete e[jt],delete e[tr],delete e[ch],delete e[oh]}function Ll(e){var t=e[Qe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ol]||a[Qe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=am(e);e!==null;){if(a=e[Qe])return a;e=am(e)}return t}e=a,a=e.parentNode}return null}function Dl(e){if(e=e[Qe]||e[Ol]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function kn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function zl(e){var t=e[Lo];return t||(t=e[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Mn]=!0}var Do=new Set,zo={};function dl(e,t){Ul(e,t),Ul(e+"Capture",t)}function Ul(e,t){for(zo[e]=t,e=0;e<t.length;e++)Do.add(t[e])}var dh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Bo={};function uh(e){return wn.call(Bo,e)?!0:wn.call(Uo,e)?!1:dh.test(e)?Bo[e]=!0:(Uo[e]=!0,!1)}function Ts(e,t,a){if(uh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ms(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ma(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ho(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fh(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){a=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lr(e){if(!e._valueTracker){var t=Ho(e)?"checked":"value";e._valueTracker=fh(e,t,""+e[t])}}function qo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Ho(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mh=/[\n"\\]/g;function Ht(e){return e.replace(mh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function nr(e,t,a,n,i,r,o,f){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?sr(e,o,Bt(t)):a!=null?sr(e,o,Bt(a)):n!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+Bt(f):e.removeAttribute("name")}function Yo(e,t,a,n,i,r,o,f){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){lr(e);return}a=a!=null?""+Bt(a):"",t=t!=null?""+Bt(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=f?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),lr(e)}function sr(e,t,a){t==="number"&&ks(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bl(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Bt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Go(e,t,a){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Bt(a):""}function Vo(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(d(92));if(pe(n)){if(1<n.length)throw Error(d(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Bt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),lr(e)}function Hl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||hh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Qo(e,t,a){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&Io(e,i,n)}else for(var r in t)t.hasOwnProperty(r)&&Io(e,r,t[r])}function ir(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(e){return gh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ha(){}var rr=null;function cr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,Yl=null;function Xo(e){var t=Dl(e);if(t&&(e=t.stateNode)){var a=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(nr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[jt]||null;if(!i)throw Error(d(90));nr(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&qo(n)}break e;case"textarea":Go(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Bl(e,!!a.multiple,t,!1)}}}var or=!1;function Zo(e,t,a){if(or)return e(t,a);or=!0;try{var n=e(t);return n}finally{if(or=!1,(ql!==null||Yl!==null)&&(bi(),ql&&(t=ql,e=Yl,Yl=ql=null,Xo(t),e)))for(t=0;t<e.length;t++)Xo(e[t])}}function Rn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[jt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,t,typeof a));return a}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(xa)try{var On={};Object.defineProperty(On,"passive",{get:function(){dr=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{dr=!1}var La=null,ur=null,Os=null;function Ko(){if(Os)return Os;var e,t=ur,a=t.length,n,i="value"in La?La.value:La.textContent,r=i.length;for(e=0;e<a&&t[e]===i[e];e++);var o=a-e;for(n=1;n<=o&&t[a-n]===i[r-n];n++);return Os=i.slice(e,1<n?1-n:void 0)}function Ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Jo(){return!1}function Nt(e){function t(a,n,i,r,o){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(r):r[f]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ds:Jo,this.isPropagationStopped=Jo,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=Nt(ul),Ln=S({},ul,{view:0,detail:0}),ph=Nt(Ln),fr,mr,Dn,Us=S({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dn&&(Dn&&e.type==="mousemove"?(fr=e.screenX-Dn.screenX,mr=e.screenY-Dn.screenY):mr=fr=0,Dn=e),fr)},movementY:function(e){return"movementY"in e?e.movementY:mr}}),Fo=Nt(Us),yh=S({},Us,{dataTransfer:0}),bh=Nt(yh),vh=S({},Ln,{relatedTarget:0}),hr=Nt(vh),jh=S({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),Nh=Nt(jh),Sh=S({},ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wh=Nt(Sh),_h=S({},ul,{data:0}),$o=Nt(_h),Ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Th(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ah[e])?!!t[e]:!1}function xr(){return Th}var Mh=S({},Ln,{key:function(e){if(e.key){var t=Ch[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kh=Nt(Mh),Rh=S({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Nt(Rh),Oh=S({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),Lh=Nt(Oh),Dh=S({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),zh=Nt(Dh),Uh=S({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bh=Nt(Uh),Hh=S({},ul,{newState:0,oldState:0}),qh=Nt(Hh),Yh=[9,13,27,32],gr=xa&&"CompositionEvent"in window,zn=null;xa&&"documentMode"in document&&(zn=document.documentMode);var Gh=xa&&"TextEvent"in window&&!zn,Po=xa&&(!gr||zn&&8<zn&&11>=zn),ed=" ",td=!1;function ad(e,t){switch(e){case"keyup":return Yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gl=!1;function Vh(e,t){switch(e){case"compositionend":return ld(t);case"keypress":return t.which!==32?null:(td=!0,ed);case"textInput":return e=t.data,e===ed&&td?null:e;default:return null}}function Ih(e,t){if(Gl)return e==="compositionend"||!gr&&ad(e,t)?(e=Ko(),Os=ur=La=null,Gl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Po&&t.locale!=="ko"?null:t.data;default:return null}}var Qh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qh[e.type]:t==="textarea"}function sd(e,t,a,n){ql?Yl?Yl.push(n):Yl=[n]:ql=n,t=Ci(t,"onChange"),0<t.length&&(a=new zs("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Un=null,Bn=null;function Xh(e){Gf(e,0)}function Bs(e){var t=kn(e);if(qo(t))return e}function id(e,t){if(e==="change")return t}var rd=!1;if(xa){var pr;if(xa){var yr="oninput"in document;if(!yr){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),yr=typeof cd.oninput=="function"}pr=yr}else pr=!1;rd=pr&&(!document.documentMode||9<document.documentMode)}function od(){Un&&(Un.detachEvent("onpropertychange",dd),Bn=Un=null)}function dd(e){if(e.propertyName==="value"&&Bs(Bn)){var t=[];sd(t,Bn,e,cr(e)),Zo(Xh,t)}}function Zh(e,t,a){e==="focusin"?(od(),Un=t,Bn=a,Un.attachEvent("onpropertychange",dd)):e==="focusout"&&od()}function Kh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bs(Bn)}function Jh(e,t){if(e==="click")return Bs(t)}function Fh(e,t){if(e==="input"||e==="change")return Bs(t)}function $h(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:$h;function Hn(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!wn.call(t,i)||!Mt(e[i],t[i]))return!1}return!0}function ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,t){var a=ud(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ud(a)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ks(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ks(e.document)}return t}function br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Wh=xa&&"documentMode"in document&&11>=document.documentMode,Vl=null,vr=null,qn=null,jr=!1;function xd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jr||Vl==null||Vl!==ks(n)||(n=Vl,"selectionStart"in n&&br(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qn&&Hn(qn,n)||(qn=n,n=Ci(vr,"onSelect"),0<n.length&&(t=new zs("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Vl)))}function fl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Il={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionrun:fl("Transition","TransitionRun"),transitionstart:fl("Transition","TransitionStart"),transitioncancel:fl("Transition","TransitionCancel"),transitionend:fl("Transition","TransitionEnd")},Nr={},gd={};xa&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function ml(e){if(Nr[e])return Nr[e];if(!Il[e])return e;var t=Il[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in gd)return Nr[e]=t[a];return e}var pd=ml("animationend"),yd=ml("animationiteration"),bd=ml("animationstart"),Ph=ml("transitionrun"),ex=ml("transitionstart"),tx=ml("transitioncancel"),vd=ml("transitionend"),jd=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sr.push("scrollEnd");function ea(e,t){jd.set(e,t),dl(t,[e])}var Hs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],Ql=0,wr=0;function qs(){for(var e=Ql,t=wr=Ql=0;t<e;){var a=qt[t];qt[t++]=null;var n=qt[t];qt[t++]=null;var i=qt[t];qt[t++]=null;var r=qt[t];if(qt[t++]=null,n!==null&&i!==null){var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}r!==0&&Nd(a,i,r)}}function Ys(e,t,a,n){qt[Ql++]=e,qt[Ql++]=t,qt[Ql++]=a,qt[Ql++]=n,wr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function _r(e,t,a,n){return Ys(e,t,a,n),Gs(e)}function hl(e,t){return Ys(e,null,null,t),Gs(e)}function Nd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,r=e.return;r!==null;)r.childLanes|=a,n=r.alternate,n!==null&&(n.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-yt(a),e=r.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),r):null}function Gs(e){if(50<cs)throw cs=0,Lc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xl={};function ax(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,a,n){return new ax(e,t,a,n)}function Cr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ga(e,t){var a=e.alternate;return a===null?(a=kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vs(e,t,a,n,i,r){var o=0;if(n=e,typeof e=="function")Cr(e)&&(o=1);else if(typeof e=="string")o=rg(e,a,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=kt(31,a,t,i),e.elementType=J,e.lanes=r,e;case K:return xl(a.children,i,r,t);case ae:o=8,i|=24;break;case le:return e=kt(12,a,t,i|2),e.elementType=le,e.lanes=r,e;case ee:return e=kt(13,a,t,i),e.elementType=ee,e.lanes=r,e;case Y:return e=kt(19,a,t,i),e.elementType=Y,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:o=10;break e;case Z:o=9;break e;case ne:o=11;break e;case A:o=14;break e;case $:o=16,n=null;break e}o=29,a=Error(d(130,e===null?"null":typeof e,"")),n=null}return t=kt(o,a,t,i),t.elementType=e,t.type=n,t.lanes=r,t}function xl(e,t,a,n){return e=kt(7,e,n,t),e.lanes=a,e}function Er(e,t,a){return e=kt(6,e,null,t),e.lanes=a,e}function wd(e){var t=kt(18,null,null,0);return t.stateNode=e,t}function Ar(e,t,a){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _d=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var a=_d.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ws(t)},_d.set(e,t),t)}return{value:e,source:t,stack:ws(t)}}var Zl=[],Kl=0,Is=null,Yn=0,Gt=[],Vt=0,Da=null,ra=1,ca="";function pa(e,t){Zl[Kl++]=Yn,Zl[Kl++]=Is,Is=e,Yn=t}function Cd(e,t,a){Gt[Vt++]=ra,Gt[Vt++]=ca,Gt[Vt++]=Da,Da=e;var n=ra;e=ca;var i=32-yt(n)-1;n&=~(1<<i),a+=1;var r=32-yt(t)+i;if(30<r){var o=i-i%5;r=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ra=1<<32-yt(t)+i|a<<i|n,ca=r+e}else ra=1<<r|a<<i|n,ca=e}function Tr(e){e.return!==null&&(pa(e,1),Cd(e,1,0))}function Mr(e){for(;e===Is;)Is=Zl[--Kl],Zl[Kl]=null,Yn=Zl[--Kl],Zl[Kl]=null;for(;e===Da;)Da=Gt[--Vt],Gt[Vt]=null,ca=Gt[--Vt],Gt[Vt]=null,ra=Gt[--Vt],Gt[Vt]=null}function Ed(e,t){Gt[Vt++]=ra,Gt[Vt++]=ca,Gt[Vt++]=Da,ra=t.id,ca=t.overflow,Da=e}var dt=null,Xe=null,ke=!1,za=null,It=!1,kr=Error(d(519));function Ua(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gn(Yt(t,e)),kr}function Ad(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Qe]=e,t[jt]=n,a){case"dialog":Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":case"embed":Ae("load",t);break;case"video":case"audio":for(a=0;a<ds.length;a++)Ae(ds[a],t);break;case"source":Ae("error",t);break;case"img":case"image":case"link":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"input":Ae("invalid",t),Yo(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Ae("invalid",t);break;case"textarea":Ae("invalid",t),Vo(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Xf(t.textContent,a)?(n.popover!=null&&(Ae("beforetoggle",t),Ae("toggle",t)),n.onScroll!=null&&Ae("scroll",t),n.onScrollEnd!=null&&Ae("scrollend",t),n.onClick!=null&&(t.onclick=ha),t=!0):t=!1,t||Ua(e,!0)}function Td(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:dt=dt.return}}function Jl(e){if(e!==dt)return!1;if(!ke)return Td(e),ke=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jc(e.type,e.memoizedProps)),a=!a),a&&Xe&&Ua(e),Td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Xe=tm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Xe=tm(e)}else t===27?(t=Xe,$a(e.type)?(e=eo,eo=null,Xe=e):Xe=t):Xe=dt?Xt(e.stateNode.nextSibling):null;return!0}function gl(){Xe=dt=null,ke=!1}function Rr(){var e=za;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),za=null),e}function Gn(e){za===null?za=[e]:za.push(e)}var Or=N(null),pl=null,ya=null;function Ba(e,t,a){te(Or,t._currentValue),t._currentValue=a}function ba(e){e._currentValue=Or.current,H(Or)}function Lr(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Dr(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var o=i.child;r=r.firstContext;e:for(;r!==null;){var f=r;r=i;for(var b=0;b<t.length;b++)if(f.context===t[b]){r.lanes|=a,f=r.alternate,f!==null&&(f.lanes|=a),Lr(r.return,a,e),n||(o=null);break e}r=f.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(d(341));o.lanes|=a,r=o.alternate,r!==null&&(r.lanes|=a),Lr(o,a,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Fl(e,t,a,n){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(d(387));if(o=o.memoizedProps,o!==null){var f=i.type;Mt(i.pendingProps.value,o.value)||(e!==null?e.push(f):e=[f])}}else if(i===B.current){if(o=i.alternate,o===null)throw Error(d(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(xs):e=[xs])}i=i.return}e!==null&&Dr(t,e,a,n),t.flags|=262144}function Qs(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function yl(e){pl=e,ya=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Md(pl,e)}function Xs(e,t){return pl===null&&yl(e),Md(e,t)}function Md(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ya===null){if(e===null)throw Error(d(308));ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ya=ya.next=t;return a}var lx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},nx=s.unstable_scheduleCallback,sx=s.unstable_NormalPriority,tt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zr(){return{controller:new lx,data:new Map,refCount:0}}function Vn(e){e.refCount--,e.refCount===0&&nx(sx,function(){e.controller.abort()})}var In=null,Ur=0,$l=0,Wl=null;function ix(e,t){if(In===null){var a=In=[];Ur=0,$l=qc(),Wl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Ur++,t.then(kd,kd),t}function kd(){if(--Ur===0&&In!==null){Wl!==null&&(Wl.status="fulfilled");var e=In;In=null,$l=0,Wl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rx(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Rd=v.S;v.S=function(e,t){gf=ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ix(e,t),Rd!==null&&Rd(e,t)};var bl=N(null);function Br(){var e=bl.current;return e!==null?e:Ve.pooledCache}function Zs(e,t){t===null?te(bl,bl.current):te(bl,t.pool)}function Od(){var e=Br();return e===null?null:{parent:tt._currentValue,pool:e}}var Pl=Error(d(460)),Hr=Error(d(474)),Ks=Error(d(542)),Js={then:function(){}};function Ld(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ha,ha),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ud(e),e;default:if(typeof t.status=="string")t.then(ha,ha);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ud(e),e}throw jl=t,Pl}}function vl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jl=a,Pl):a}}var jl=null;function zd(){if(jl===null)throw Error(d(459));var e=jl;return jl=null,e}function Ud(e){if(e===Pl||e===Ks)throw Error(d(483))}var en=null,Qn=0;function Fs(e){var t=Qn;return Qn+=1,en===null&&(en=[]),Dd(en,e,t)}function Xn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $s(e,t){throw t.$$typeof===z?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bd(e){function t(_,w){if(e){var k=_.deletions;k===null?(_.deletions=[w],_.flags|=16):k.push(w)}}function a(_,w){if(!e)return null;for(;w!==null;)t(_,w),w=w.sibling;return null}function n(_){for(var w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(_,w){return _=ga(_,w),_.index=0,_.sibling=null,_}function r(_,w,k){return _.index=k,e?(k=_.alternate,k!==null?(k=k.index,k<w?(_.flags|=67108866,w):k):(_.flags|=67108866,w)):(_.flags|=1048576,w)}function o(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function f(_,w,k,Q){return w===null||w.tag!==6?(w=Er(k,_.mode,Q),w.return=_,w):(w=i(w,k),w.return=_,w)}function b(_,w,k,Q){var ve=k.type;return ve===K?G(_,w,k.props.children,Q,k.key):w!==null&&(w.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&vl(ve)===w.type)?(w=i(w,k.props),Xn(w,k),w.return=_,w):(w=Vs(k.type,k.key,k.props,null,_.mode,Q),Xn(w,k),w.return=_,w)}function R(_,w,k,Q){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=Ar(k,_.mode,Q),w.return=_,w):(w=i(w,k.children||[]),w.return=_,w)}function G(_,w,k,Q,ve){return w===null||w.tag!==7?(w=xl(k,_.mode,Q,ve),w.return=_,w):(w=i(w,k),w.return=_,w)}function X(_,w,k){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Er(""+w,_.mode,k),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case D:return k=Vs(w.type,w.key,w.props,null,_.mode,k),Xn(k,w),k.return=_,k;case E:return w=Ar(w,_.mode,k),w.return=_,w;case $:return w=vl(w),X(_,w,k)}if(pe(w)||se(w))return w=xl(w,_.mode,k,null),w.return=_,w;if(typeof w.then=="function")return X(_,Fs(w),k);if(w.$$typeof===V)return X(_,Xs(_,w),k);$s(_,w)}return null}function O(_,w,k,Q){var ve=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ve!==null?null:f(_,w,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case D:return k.key===ve?b(_,w,k,Q):null;case E:return k.key===ve?R(_,w,k,Q):null;case $:return k=vl(k),O(_,w,k,Q)}if(pe(k)||se(k))return ve!==null?null:G(_,w,k,Q,null);if(typeof k.then=="function")return O(_,w,Fs(k),Q);if(k.$$typeof===V)return O(_,w,Xs(_,k),Q);$s(_,k)}return null}function U(_,w,k,Q,ve){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _=_.get(k)||null,f(w,_,""+Q,ve);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return _=_.get(Q.key===null?k:Q.key)||null,b(w,_,Q,ve);case E:return _=_.get(Q.key===null?k:Q.key)||null,R(w,_,Q,ve);case $:return Q=vl(Q),U(_,w,k,Q,ve)}if(pe(Q)||se(Q))return _=_.get(k)||null,G(w,_,Q,ve,null);if(typeof Q.then=="function")return U(_,w,k,Fs(Q),ve);if(Q.$$typeof===V)return U(_,w,k,Xs(w,Q),ve);$s(w,Q)}return null}function he(_,w,k,Q){for(var ve=null,Oe=null,ge=w,Ce=w=0,Me=null;ge!==null&&Ce<k.length;Ce++){ge.index>Ce?(Me=ge,ge=null):Me=ge.sibling;var Le=O(_,ge,k[Ce],Q);if(Le===null){ge===null&&(ge=Me);break}e&&ge&&Le.alternate===null&&t(_,ge),w=r(Le,w,Ce),Oe===null?ve=Le:Oe.sibling=Le,Oe=Le,ge=Me}if(Ce===k.length)return a(_,ge),ke&&pa(_,Ce),ve;if(ge===null){for(;Ce<k.length;Ce++)ge=X(_,k[Ce],Q),ge!==null&&(w=r(ge,w,Ce),Oe===null?ve=ge:Oe.sibling=ge,Oe=ge);return ke&&pa(_,Ce),ve}for(ge=n(ge);Ce<k.length;Ce++)Me=U(ge,_,Ce,k[Ce],Q),Me!==null&&(e&&Me.alternate!==null&&ge.delete(Me.key===null?Ce:Me.key),w=r(Me,w,Ce),Oe===null?ve=Me:Oe.sibling=Me,Oe=Me);return e&&ge.forEach(function(al){return t(_,al)}),ke&&pa(_,Ce),ve}function Ne(_,w,k,Q){if(k==null)throw Error(d(151));for(var ve=null,Oe=null,ge=w,Ce=w=0,Me=null,Le=k.next();ge!==null&&!Le.done;Ce++,Le=k.next()){ge.index>Ce?(Me=ge,ge=null):Me=ge.sibling;var al=O(_,ge,Le.value,Q);if(al===null){ge===null&&(ge=Me);break}e&&ge&&al.alternate===null&&t(_,ge),w=r(al,w,Ce),Oe===null?ve=al:Oe.sibling=al,Oe=al,ge=Me}if(Le.done)return a(_,ge),ke&&pa(_,Ce),ve;if(ge===null){for(;!Le.done;Ce++,Le=k.next())Le=X(_,Le.value,Q),Le!==null&&(w=r(Le,w,Ce),Oe===null?ve=Le:Oe.sibling=Le,Oe=Le);return ke&&pa(_,Ce),ve}for(ge=n(ge);!Le.done;Ce++,Le=k.next())Le=U(ge,_,Ce,Le.value,Q),Le!==null&&(e&&Le.alternate!==null&&ge.delete(Le.key===null?Ce:Le.key),w=r(Le,w,Ce),Oe===null?ve=Le:Oe.sibling=Le,Oe=Le);return e&&ge.forEach(function(yg){return t(_,yg)}),ke&&pa(_,Ce),ve}function Ge(_,w,k,Q){if(typeof k=="object"&&k!==null&&k.type===K&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case D:e:{for(var ve=k.key;w!==null;){if(w.key===ve){if(ve=k.type,ve===K){if(w.tag===7){a(_,w.sibling),Q=i(w,k.props.children),Q.return=_,_=Q;break e}}else if(w.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&vl(ve)===w.type){a(_,w.sibling),Q=i(w,k.props),Xn(Q,k),Q.return=_,_=Q;break e}a(_,w);break}else t(_,w);w=w.sibling}k.type===K?(Q=xl(k.props.children,_.mode,Q,k.key),Q.return=_,_=Q):(Q=Vs(k.type,k.key,k.props,null,_.mode,Q),Xn(Q,k),Q.return=_,_=Q)}return o(_);case E:e:{for(ve=k.key;w!==null;){if(w.key===ve)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){a(_,w.sibling),Q=i(w,k.children||[]),Q.return=_,_=Q;break e}else{a(_,w);break}else t(_,w);w=w.sibling}Q=Ar(k,_.mode,Q),Q.return=_,_=Q}return o(_);case $:return k=vl(k),Ge(_,w,k,Q)}if(pe(k))return he(_,w,k,Q);if(se(k)){if(ve=se(k),typeof ve!="function")throw Error(d(150));return k=ve.call(k),Ne(_,w,k,Q)}if(typeof k.then=="function")return Ge(_,w,Fs(k),Q);if(k.$$typeof===V)return Ge(_,w,Xs(_,k),Q);$s(_,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,w!==null&&w.tag===6?(a(_,w.sibling),Q=i(w,k),Q.return=_,_=Q):(a(_,w),Q=Er(k,_.mode,Q),Q.return=_,_=Q),o(_)):a(_,w)}return function(_,w,k,Q){try{Qn=0;var ve=Ge(_,w,k,Q);return en=null,ve}catch(ge){if(ge===Pl||ge===Ks)throw ge;var Oe=kt(29,ge,null,_.mode);return Oe.lanes=Q,Oe.return=_,Oe}finally{}}}var Nl=Bd(!0),Hd=Bd(!1),Ha=!1;function qr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(De&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Gs(e),Nd(e,null,a),t}return Ys(e,n,t,a),Gs(e)}function Zn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ie(e,a)}}function Gr(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?i=r=o:r=r.next=o,a=a.next}while(a!==null);r===null?i=r=t:r=r.next=t}else i=r=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Vr=!1;function Kn(){if(Vr){var e=Wl;if(e!==null)throw e}}function Jn(e,t,a,n){Vr=!1;var i=e.updateQueue;Ha=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var b=f,R=b.next;b.next=null,o===null?r=R:o.next=R,o=b;var G=e.alternate;G!==null&&(G=G.updateQueue,f=G.lastBaseUpdate,f!==o&&(f===null?G.firstBaseUpdate=R:f.next=R,G.lastBaseUpdate=b))}if(r!==null){var X=i.baseState;o=0,G=R=b=null,f=r;do{var O=f.lane&-536870913,U=O!==f.lane;if(U?(Te&O)===O:(n&O)===O){O!==0&&O===$l&&(Vr=!0),G!==null&&(G=G.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var he=e,Ne=f;O=t;var Ge=a;switch(Ne.tag){case 1:if(he=Ne.payload,typeof he=="function"){X=he.call(Ge,X,O);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ne.payload,O=typeof he=="function"?he.call(Ge,X,O):he,O==null)break e;X=S({},X,O);break e;case 2:Ha=!0}}O=f.callback,O!==null&&(e.flags|=64,U&&(e.flags|=8192),U=i.callbacks,U===null?i.callbacks=[O]:U.push(O))}else U={lane:O,tag:f.tag,payload:f.payload,callback:f.callback,next:null},G===null?(R=G=U,b=X):G=G.next=U,o|=O;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;U=f,f=U.next,U.next=null,i.lastBaseUpdate=U,i.shared.pending=null}}while(!0);G===null&&(b=X),i.baseState=b,i.firstBaseUpdate=R,i.lastBaseUpdate=G,r===null&&(i.shared.lanes=0),Xa|=o,e.lanes=o,e.memoizedState=X}}function qd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function Yd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qd(a[e],t)}var tn=N(null),Ws=N(0);function Gd(e,t){e=Aa,te(Ws,e),te(tn,t),Aa=e|t.baseLanes}function Ir(){te(Ws,Aa),te(tn,tn.current)}function Qr(){Aa=Ws.current,H(tn),H(Ws)}var Rt=N(null),Qt=null;function Ga(e){var t=e.alternate;te(Pe,Pe.current&1),te(Rt,e),Qt===null&&(t===null||tn.current!==null||t.memoizedState!==null)&&(Qt=e)}function Xr(e){te(Pe,Pe.current),te(Rt,e),Qt===null&&(Qt=e)}function Vd(e){e.tag===22?(te(Pe,Pe.current),te(Rt,e),Qt===null&&(Qt=e)):Va()}function Va(){te(Pe,Pe.current),te(Rt,Rt.current)}function Ot(e){H(Rt),Qt===e&&(Qt=null),H(Pe)}var Pe=N(0);function Ps(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wc(a)||Pc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var va=0,_e=null,qe=null,at=null,ei=!1,an=!1,Sl=!1,ti=0,Fn=0,ln=null,cx=0;function Fe(){throw Error(d(321))}function Zr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Mt(e[a],t[a]))return!1;return!0}function Kr(e,t,a,n,i,r){return va=r,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,v.H=e===null||e.memoizedState===null?Cu:oc,Sl=!1,r=a(n,i),Sl=!1,an&&(r=Qd(t,a,n,i)),Id(e),r}function Id(e){v.H=Pn;var t=qe!==null&&qe.next!==null;if(va=0,at=qe=_e=null,ei=!1,Fn=0,ln=null,t)throw Error(d(300));e===null||lt||(e=e.dependencies,e!==null&&Qs(e)&&(lt=!0))}function Qd(e,t,a,n){_e=e;var i=0;do{if(an&&(ln=null),Fn=0,an=!1,25<=i)throw Error(d(301));if(i+=1,at=qe=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}v.H=Eu,r=t(a,n)}while(an);return r}function ox(){var e=v.H,t=e.useState()[0];return t=typeof t.then=="function"?$n(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(_e.flags|=1024),t}function Jr(){var e=ti!==0;return ti=0,e}function Fr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function $r(e){if(ei){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ei=!1}va=0,at=qe=_e=null,an=!1,Fn=ti=0,ln=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?_e.memoizedState=at=e:at=at.next=e,at}function et(){if(qe===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=at===null?_e.memoizedState:at.next;if(t!==null)at=t,qe=e;else{if(e===null)throw _e.alternate===null?Error(d(467)):Error(d(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},at===null?_e.memoizedState=at=e:at=at.next=e}return at}function ai(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $n(e){var t=Fn;return Fn+=1,ln===null&&(ln=[]),e=Dd(ln,e,t),t=_e,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,v.H=t===null||t.memoizedState===null?Cu:oc),e}function li(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $n(e);if(e.$$typeof===V)return ut(e)}throw Error(d(438,String(e)))}function Wr(e){var t=null,a=_e.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=_e.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ai(),_e.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=F;return t.index++,a}function ja(e,t){return typeof t=="function"?t(e):t}function ni(e){var t=et();return Pr(t,qe,e)}function Pr(e,t,a){var n=e.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=a;var i=e.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}t.baseQueue=i=r,n.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var f=o=null,b=null,R=t,G=!1;do{var X=R.lane&-536870913;if(X!==R.lane?(Te&X)===X:(va&X)===X){var O=R.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),X===$l&&(G=!0);else if((va&O)===O){R=R.next,O===$l&&(G=!0);continue}else X={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(f=b=X,o=r):b=b.next=X,_e.lanes|=O,Xa|=O;X=R.action,Sl&&a(r,X),r=R.hasEagerState?R.eagerState:a(r,X)}else O={lane:X,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(f=b=O,o=r):b=b.next=O,_e.lanes|=X,Xa|=X;R=R.next}while(R!==null&&R!==t);if(b===null?o=r:b.next=f,!Mt(r,e.memoizedState)&&(lt=!0,G&&(a=Wl,a!==null)))throw a;e.memoizedState=r,e.baseState=o,e.baseQueue=b,n.lastRenderedState=r}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function ec(e){var t=et(),a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,r=t.memoizedState;if(i!==null){a.pending=null;var o=i=i.next;do r=e(r,o.action),o=o.next;while(o!==i);Mt(r,t.memoizedState)||(lt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,n]}function Xd(e,t,a){var n=_e,i=et(),r=ke;if(r){if(a===void 0)throw Error(d(407));a=a()}else a=t();var o=!Mt((qe||i).memoizedState,a);if(o&&(i.memoizedState=a,lt=!0),i=i.queue,lc(Jd.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,nn(9,{destroy:void 0},Kd.bind(null,n,i,a,t),null),Ve===null)throw Error(d(349));r||(va&127)!==0||Zd(n,t,a)}return a}function Zd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=_e.updateQueue,t===null?(t=ai(),_e.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Kd(e,t,a,n){t.value=a,t.getSnapshot=n,Fd(t)&&$d(e)}function Jd(e,t,a){return a(function(){Fd(t)&&$d(e)})}function Fd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Mt(e,a)}catch{return!0}}function $d(e){var t=hl(e,2);t!==null&&Et(t,e,2)}function tc(e){var t=bt();if(typeof e=="function"){var a=e;if(e=a(),Sl){na(!0);try{a()}finally{na(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t}function Wd(e,t,a,n){return e.baseState=a,Pr(e,qe,typeof n=="function"?n:ja)}function dx(e,t,a,n,i){if(ri(e))throw Error(d(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){r.listeners.push(o)}};v.T!==null?a(!0):r.isTransition=!1,n(r),a=t.pending,a===null?(r.next=t.pending=r,Pd(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Pd(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var r=v.T,o={};v.T=o;try{var f=a(i,n),b=v.S;b!==null&&b(o,f),eu(e,t,f)}catch(R){ac(e,t,R)}finally{r!==null&&o.types!==null&&(r.types=o.types),v.T=r}}else try{r=a(i,n),eu(e,t,r)}catch(R){ac(e,t,R)}}function eu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){tu(e,t,n)},function(n){return ac(e,t,n)}):tu(e,t,a)}function tu(e,t,a){t.status="fulfilled",t.value=a,au(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Pd(e,a)))}function ac(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,au(t),t=t.next;while(t!==n)}e.action=null}function au(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lu(e,t){return t}function nu(e,t){if(ke){var a=Ve.formState;if(a!==null){e:{var n=_e;if(ke){if(Xe){t:{for(var i=Xe,r=It;i.nodeType!==8;){if(!r){i=null;break t}if(i=Xt(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Xe=Xt(i.nextSibling),n=i.data==="F!";break e}}Ua(n)}n=!1}n&&(t=a[0])}}return a=bt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},a.queue=n,a=Su.bind(null,_e,n),n.dispatch=a,n=tc(!1),r=cc.bind(null,_e,!1,n.queue),n=bt(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=dx.bind(null,_e,i,r,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function su(e){var t=et();return iu(t,qe,e)}function iu(e,t,a){if(t=Pr(e,t,lu)[0],e=ni(ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=$n(t)}catch(o){throw o===Pl?Ks:o}else n=t;t=et();var i=t.queue,r=i.dispatch;return a!==t.memoizedState&&(_e.flags|=2048,nn(9,{destroy:void 0},ux.bind(null,i,a),null)),[n,r,e]}function ux(e,t){e.action=t}function ru(e){var t=et(),a=qe;if(a!==null)return iu(t,a,e);et(),t=t.memoizedState,a=et();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function nn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=_e.updateQueue,t===null&&(t=ai(),_e.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function cu(){return et().memoizedState}function si(e,t,a,n){var i=bt();_e.flags|=e,i.memoizedState=nn(1|t,{destroy:void 0},a,n===void 0?null:n)}function ii(e,t,a,n){var i=et();n=n===void 0?null:n;var r=i.memoizedState.inst;qe!==null&&n!==null&&Zr(n,qe.memoizedState.deps)?i.memoizedState=nn(t,r,a,n):(_e.flags|=e,i.memoizedState=nn(1|t,r,a,n))}function ou(e,t){si(8390656,8,e,t)}function lc(e,t){ii(2048,8,e,t)}function fx(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=ai(),_e.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function du(e){var t=et().memoizedState;return fx({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function uu(e,t){return ii(4,2,e,t)}function fu(e,t){return ii(4,4,e,t)}function mu(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hu(e,t,a){a=a!=null?a.concat([e]):null,ii(4,4,mu.bind(null,t,e),a)}function nc(){}function xu(e,t){var a=et();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Zr(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function gu(e,t){var a=et();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Zr(t,n[1]))return n[0];if(n=e(),Sl){na(!0);try{e()}finally{na(!1)}}return a.memoizedState=[n,t],n}function sc(e,t,a){return a===void 0||(va&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=yf(),_e.lanes|=e,Xa|=e,a)}function pu(e,t,a,n){return Mt(a,t)?a:tn.current!==null?(e=sc(e,a,n),Mt(e,t)||(lt=!0),e):(va&42)===0||(va&1073741824)!==0&&(Te&261930)===0?(lt=!0,e.memoizedState=a):(e=yf(),_e.lanes|=e,Xa|=e,t)}function yu(e,t,a,n,i){var r=T.p;T.p=r!==0&&8>r?r:8;var o=v.T,f={};v.T=f,cc(e,!1,t,a);try{var b=i(),R=v.S;if(R!==null&&R(f,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=rx(b,n);Wn(e,t,G,zt(e))}else Wn(e,t,n,zt(e))}catch(X){Wn(e,t,{then:function(){},status:"rejected",reason:X},zt())}finally{T.p=r,o!==null&&f.types!==null&&(o.types=f.types),v.T=o}}function mx(){}function ic(e,t,a,n){if(e.tag!==5)throw Error(d(476));var i=bu(e).queue;yu(e,i,t,ie,a===null?mx:function(){return vu(e),a(n)})}function bu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:ie},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vu(e){var t=bu(e);t.next===null&&(t=e.alternate.memoizedState),Wn(e,t.next.queue,{},zt())}function rc(){return ut(xs)}function ju(){return et().memoizedState}function Nu(){return et().memoizedState}function hx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=zt();e=qa(a);var n=Ya(t,e,a);n!==null&&(Et(n,t,a),Zn(n,t,a)),t={cache:zr()},e.payload=t;return}t=t.return}}function xx(e,t,a){var n=zt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ri(e)?wu(t,a):(a=_r(e,t,a,n),a!==null&&(Et(a,e,n),_u(a,t,n)))}function Su(e,t,a){var n=zt();Wn(e,t,a,n)}function Wn(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ri(e))wu(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,f=r(o,a);if(i.hasEagerState=!0,i.eagerState=f,Mt(f,o))return Ys(e,t,i,0),Ve===null&&qs(),!1}catch{}finally{}if(a=_r(e,t,i,n),a!==null)return Et(a,e,n),_u(a,t,n),!0}return!1}function cc(e,t,a,n){if(n={lane:2,revertLane:qc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ri(e)){if(t)throw Error(d(479))}else t=_r(e,a,n,2),t!==null&&Et(t,e,2)}function ri(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function wu(e,t){an=ei=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function _u(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ie(e,a)}}var Pn={readContext:ut,use:li,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Pn.useEffectEvent=Fe;var Cu={readContext:ut,use:li,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:ou,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,si(4194308,4,mu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return si(4194308,4,e,t)},useInsertionEffect:function(e,t){si(4,2,e,t)},useMemo:function(e,t){var a=bt();t=t===void 0?null:t;var n=e();if(Sl){na(!0);try{e()}finally{na(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=bt();if(a!==void 0){var i=a(t);if(Sl){na(!0);try{a(t)}finally{na(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=xx.bind(null,_e,e),[n.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=tc(e);var t=e.queue,a=Su.bind(null,_e,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:nc,useDeferredValue:function(e,t){var a=bt();return sc(a,e,t)},useTransition:function(){var e=tc(!1);return e=yu.bind(null,_e,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=_e,i=bt();if(ke){if(a===void 0)throw Error(d(407));a=a()}else{if(a=t(),Ve===null)throw Error(d(349));(Te&127)!==0||Zd(n,t,a)}i.memoizedState=a;var r={value:a,getSnapshot:t};return i.queue=r,ou(Jd.bind(null,n,r,e),[e]),n.flags|=2048,nn(9,{destroy:void 0},Kd.bind(null,n,r,a,t),null),a},useId:function(){var e=bt(),t=Ve.identifierPrefix;if(ke){var a=ca,n=ra;a=(n&~(1<<32-yt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ti++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=cx++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rc,useFormState:nu,useActionState:nu,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=cc.bind(null,_e,!0,a),a.dispatch=t,[e,t]},useMemoCache:Wr,useCacheRefresh:function(){return bt().memoizedState=hx.bind(null,_e)},useEffectEvent:function(e){var t=bt(),a={impl:e};return t.memoizedState=a,function(){if((De&2)!==0)throw Error(d(440));return a.impl.apply(void 0,arguments)}}},oc={readContext:ut,use:li,useCallback:xu,useContext:ut,useEffect:lc,useImperativeHandle:hu,useInsertionEffect:uu,useLayoutEffect:fu,useMemo:gu,useReducer:ni,useRef:cu,useState:function(){return ni(ja)},useDebugValue:nc,useDeferredValue:function(e,t){var a=et();return pu(a,qe.memoizedState,e,t)},useTransition:function(){var e=ni(ja)[0],t=et().memoizedState;return[typeof e=="boolean"?e:$n(e),t]},useSyncExternalStore:Xd,useId:ju,useHostTransitionStatus:rc,useFormState:su,useActionState:su,useOptimistic:function(e,t){var a=et();return Wd(a,qe,e,t)},useMemoCache:Wr,useCacheRefresh:Nu};oc.useEffectEvent=du;var Eu={readContext:ut,use:li,useCallback:xu,useContext:ut,useEffect:lc,useImperativeHandle:hu,useInsertionEffect:uu,useLayoutEffect:fu,useMemo:gu,useReducer:ec,useRef:cu,useState:function(){return ec(ja)},useDebugValue:nc,useDeferredValue:function(e,t){var a=et();return qe===null?sc(a,e,t):pu(a,qe.memoizedState,e,t)},useTransition:function(){var e=ec(ja)[0],t=et().memoizedState;return[typeof e=="boolean"?e:$n(e),t]},useSyncExternalStore:Xd,useId:ju,useHostTransitionStatus:rc,useFormState:ru,useActionState:ru,useOptimistic:function(e,t){var a=et();return qe!==null?Wd(a,qe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wr,useCacheRefresh:Nu};Eu.useEffectEvent=du;function dc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var uc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=zt(),i=qa(n);i.payload=t,a!=null&&(i.callback=a),t=Ya(e,i,n),t!==null&&(Et(t,e,n),Zn(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=zt(),i=qa(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Ya(e,i,n),t!==null&&(Et(t,e,n),Zn(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=zt(),n=qa(a);n.tag=2,t!=null&&(n.callback=t),t=Ya(e,n,a),t!==null&&(Et(t,e,a),Zn(t,e,a))}};function Au(e,t,a,n,i,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,o):t.prototype&&t.prototype.isPureReactComponent?!Hn(a,n)||!Hn(i,r):!0}function Tu(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&uc.enqueueReplaceState(t,t.state,null)}function wl(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Mu(e){Hs(e)}function ku(e){console.error(e)}function Ru(e){Hs(e)}function ci(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ou(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function fc(e,t,a){return a=qa(a),a.tag=3,a.payload={element:null},a.callback=function(){ci(e,t)},a}function Lu(e){return e=qa(e),e.tag=3,e}function Du(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var r=n.value;e.payload=function(){return i(r)},e.callback=function(){Ou(t,a,n)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Ou(t,a,n),typeof i!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})})}function gx(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Fl(t,a,i,!0),a=Rt.current,a!==null){switch(a.tag){case 31:case 13:return Qt===null?vi():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Js?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Uc(e,n,i)),!1;case 22:return a.flags|=65536,n===Js?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Uc(e,n,i)),!1}throw Error(d(435,a.tag))}return Uc(e,n,i),vi(),!1}if(ke)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==kr&&(e=Error(d(422),{cause:n}),Gn(Yt(e,a)))):(n!==kr&&(t=Error(d(423),{cause:n}),Gn(Yt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=Yt(n,a),i=fc(e.stateNode,n,i),Gr(e,i),$e!==4&&($e=2)),!1;var r=Error(d(520),{cause:n});if(r=Yt(r,a),rs===null?rs=[r]:rs.push(r),$e!==4&&($e=2),t===null)return!0;n=Yt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=fc(a.stateNode,n,e),Gr(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Za===null||!Za.has(r))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Lu(i),Du(i,e,a,n),Gr(a,i),!1}a=a.return}while(a!==null);return!1}var mc=Error(d(461)),lt=!1;function ft(e,t,a,n){t.child=e===null?Hd(t,null,a,n):Nl(t,e.child,a,n)}function zu(e,t,a,n,i){a=a.render;var r=t.ref;if("ref"in n){var o={};for(var f in n)f!=="ref"&&(o[f]=n[f])}else o=n;return yl(t),n=Kr(e,t,a,o,r,i),f=Jr(),e!==null&&!lt?(Fr(e,t,i),Na(e,t,i)):(ke&&f&&Tr(t),t.flags|=1,ft(e,t,n,i),t.child)}function Uu(e,t,a,n,i){if(e===null){var r=a.type;return typeof r=="function"&&!Cr(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,Bu(e,t,r,n,i)):(e=Vs(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!jc(e,i)){var o=r.memoizedProps;if(a=a.compare,a=a!==null?a:Hn,a(o,n)&&e.ref===t.ref)return Na(e,t,i)}return t.flags|=1,e=ga(r,n),e.ref=t.ref,e.return=t,t.child=e}function Bu(e,t,a,n,i){if(e!==null){var r=e.memoizedProps;if(Hn(r,n)&&e.ref===t.ref)if(lt=!1,t.pendingProps=n=r,jc(e,i))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,Na(e,t,i)}return hc(e,t,a,n,i)}function Hu(e,t,a,n){var i=n.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~r}else n=0,t.child=null;return qu(e,t,r,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zs(t,r!==null?r.cachePool:null),r!==null?Gd(t,r):Ir(),Vd(t);else return n=t.lanes=536870912,qu(e,t,r!==null?r.baseLanes|a:a,a,n)}else r!==null?(Zs(t,r.cachePool),Gd(t,r),Va(),t.memoizedState=null):(e!==null&&Zs(t,null),Ir(),Va());return ft(e,t,i,a),t.child}function es(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qu(e,t,a,n,i){var r=Br();return r=r===null?null:{parent:tt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Zs(t,null),Ir(),Vd(t),e!==null&&Fl(e,t,n,!0),t.childLanes=i,null}function oi(e,t){return t=ui({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Yu(e,t,a){return Nl(t,e.child,null,a),e=oi(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function px(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(n.mode==="hidden")return e=oi(t,n),t.lanes=536870912,es(null,e);if(Xr(t),(e=Xe)?(e=em(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Da!==null?{id:ra,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},a=wd(e),a.return=t,t.child=a,dt=t,Xe=null)):e=null,e===null)throw Ua(t);return t.lanes=536870912,null}return oi(t,n)}var r=e.memoizedState;if(r!==null){var o=r.dehydrated;if(Xr(t),i)if(t.flags&256)t.flags&=-257,t=Yu(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(lt||Fl(e,t,a,!1),i=(a&e.childLanes)!==0,lt||i){if(n=Ve,n!==null&&(o=ia(n,a),o!==0&&o!==r.retryLane))throw r.retryLane=o,hl(e,o),Et(n,e,o),mc;vi(),t=Yu(e,t,a)}else e=r.treeContext,Xe=Xt(o.nextSibling),dt=t,ke=!0,za=null,It=!1,e!==null&&Ed(t,e),t=oi(t,n),t.flags|=4096;return t}return e=ga(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function di(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function hc(e,t,a,n,i){return yl(t),a=Kr(e,t,a,n,void 0,i),n=Jr(),e!==null&&!lt?(Fr(e,t,i),Na(e,t,i)):(ke&&n&&Tr(t),t.flags|=1,ft(e,t,a,i),t.child)}function Gu(e,t,a,n,i,r){return yl(t),t.updateQueue=null,a=Qd(t,n,a,i),Id(e),n=Jr(),e!==null&&!lt?(Fr(e,t,r),Na(e,t,r)):(ke&&n&&Tr(t),t.flags|=1,ft(e,t,a,r),t.child)}function Vu(e,t,a,n,i){if(yl(t),t.stateNode===null){var r=Xl,o=a.contextType;typeof o=="object"&&o!==null&&(r=ut(o)),r=new a(n,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=uc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=n,r.state=t.memoizedState,r.refs={},qr(t),o=a.contextType,r.context=typeof o=="object"&&o!==null?ut(o):Xl,r.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(dc(t,a,o,n),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(o=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),o!==r.state&&uc.enqueueReplaceState(r,r.state,null),Jn(t,n,r,i),Kn(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){r=t.stateNode;var f=t.memoizedProps,b=wl(a,f);r.props=b;var R=r.context,G=a.contextType;o=Xl,typeof G=="object"&&G!==null&&(o=ut(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof r.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,G||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(f||R!==o)&&Tu(t,r,n,o),Ha=!1;var O=t.memoizedState;r.state=O,Jn(t,n,r,i),Kn(),R=t.memoizedState,f||O!==R||Ha?(typeof X=="function"&&(dc(t,a,X,n),R=t.memoizedState),(b=Ha||Au(t,a,b,n,O,R,o))?(G||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=R),r.props=n,r.state=R,r.context=o,n=b):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,Yr(e,t),o=t.memoizedProps,G=wl(a,o),r.props=G,X=t.pendingProps,O=r.context,R=a.contextType,b=Xl,typeof R=="object"&&R!==null&&(b=ut(R)),f=a.getDerivedStateFromProps,(R=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==X||O!==b)&&Tu(t,r,n,b),Ha=!1,O=t.memoizedState,r.state=O,Jn(t,n,r,i),Kn();var U=t.memoizedState;o!==X||O!==U||Ha||e!==null&&e.dependencies!==null&&Qs(e.dependencies)?(typeof f=="function"&&(dc(t,a,f,n),U=t.memoizedState),(G=Ha||Au(t,a,G,n,O,U,b)||e!==null&&e.dependencies!==null&&Qs(e.dependencies))?(R||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,U,b),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,U,b)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=U),r.props=n,r.state=U,r.context=b,n=G):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),n=!1)}return r=n,di(e,t),n=(t.flags&128)!==0,r||n?(r=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&n?(t.child=Nl(t,e.child,null,i),t.child=Nl(t,null,a,i)):ft(e,t,a,i),t.memoizedState=r.state,e=t.child):e=Na(e,t,i),e}function Iu(e,t,a,n){return gl(),t.flags|=256,ft(e,t,a,n),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(e){return{baseLanes:e,cachePool:Od()}}function pc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function Qu(e,t,a){var n=t.pendingProps,i=!1,r=(t.flags&128)!==0,o;if((o=r)||(o=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(i?Ga(t):Va(),(e=Xe)?(e=em(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Da!==null?{id:ra,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},a=wd(e),a.return=t,t.child=a,dt=t,Xe=null)):e=null,e===null)throw Ua(t);return Pc(e)?t.lanes=32:t.lanes=536870912,null}var f=n.children;return n=n.fallback,i?(Va(),i=t.mode,f=ui({mode:"hidden",children:f},i),n=xl(n,i,a,null),f.return=t,n.return=t,f.sibling=n,t.child=f,n=t.child,n.memoizedState=gc(a),n.childLanes=pc(e,o,a),t.memoizedState=xc,es(null,n)):(Ga(t),yc(t,f))}var b=e.memoizedState;if(b!==null&&(f=b.dehydrated,f!==null)){if(r)t.flags&256?(Ga(t),t.flags&=-257,t=bc(e,t,a)):t.memoizedState!==null?(Va(),t.child=e.child,t.flags|=128,t=null):(Va(),f=n.fallback,i=t.mode,n=ui({mode:"visible",children:n.children},i),f=xl(f,i,a,null),f.flags|=2,n.return=t,f.return=t,n.sibling=f,t.child=n,Nl(t,e.child,null,a),n=t.child,n.memoizedState=gc(a),n.childLanes=pc(e,o,a),t.memoizedState=xc,t=es(null,n));else if(Ga(t),Pc(f)){if(o=f.nextSibling&&f.nextSibling.dataset,o)var R=o.dgst;o=R,n=Error(d(419)),n.stack="",n.digest=o,Gn({value:n,source:null,stack:null}),t=bc(e,t,a)}else if(lt||Fl(e,t,a,!1),o=(a&e.childLanes)!==0,lt||o){if(o=Ve,o!==null&&(n=ia(o,a),n!==0&&n!==b.retryLane))throw b.retryLane=n,hl(e,n),Et(o,e,n),mc;Wc(f)||vi(),t=bc(e,t,a)}else Wc(f)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Xe=Xt(f.nextSibling),dt=t,ke=!0,za=null,It=!1,e!==null&&Ed(t,e),t=yc(t,n.children),t.flags|=4096);return t}return i?(Va(),f=n.fallback,i=t.mode,b=e.child,R=b.sibling,n=ga(b,{mode:"hidden",children:n.children}),n.subtreeFlags=b.subtreeFlags&65011712,R!==null?f=ga(R,f):(f=xl(f,i,a,null),f.flags|=2),f.return=t,n.return=t,n.sibling=f,t.child=n,es(null,n),n=t.child,f=e.child.memoizedState,f===null?f=gc(a):(i=f.cachePool,i!==null?(b=tt._currentValue,i=i.parent!==b?{parent:b,pool:b}:i):i=Od(),f={baseLanes:f.baseLanes|a,cachePool:i}),n.memoizedState=f,n.childLanes=pc(e,o,a),t.memoizedState=xc,es(e.child,n)):(Ga(t),a=e.child,e=a.sibling,a=ga(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function yc(e,t){return t=ui({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ui(e,t){return e=kt(22,e,null,t),e.lanes=0,e}function bc(e,t,a){return Nl(t,e.child,null,a),e=yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xu(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lr(e.return,t,a)}function vc(e,t,a,n,i,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=i,o.treeForkCount=r)}function Zu(e,t,a){var n=t.pendingProps,i=n.revealOrder,r=n.tail;n=n.children;var o=Pe.current,f=(o&2)!==0;if(f?(o=o&1|2,t.flags|=128):o&=1,te(Pe,o),ft(e,t,n,a),n=ke?Yn:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xu(e,a,t);else if(e.tag===19)Xu(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&Ps(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),vc(t,!1,i,a,r,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ps(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}vc(t,!0,a,null,r,n);break;case"together":vc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Na(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Xa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Fl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,a=ga(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ga(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function jc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Qs(e)))}function yx(e,t,a){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),Ba(t,tt,e.memoizedState.cache),gl();break;case 27:case 5:il(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:Ba(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xr(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ga(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Qu(e,t,a):(Ga(t),e=Na(e,t,a),e!==null?e.sibling:null);Ga(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Fl(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return Zu(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(Pe,Pe.current),n)break;return null;case 22:return t.lanes=0,Hu(e,t,a,t.pendingProps);case 24:Ba(t,tt,e.memoizedState.cache)}return Na(e,t,a)}function Ku(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!jc(e,a)&&(t.flags&128)===0)return lt=!1,yx(e,t,a);lt=(e.flags&131072)!==0}else lt=!1,ke&&(t.flags&1048576)!==0&&Cd(t,Yn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=vl(t.elementType),t.type=e,typeof e=="function")Cr(e)?(n=wl(e,n),t.tag=1,t=Vu(null,t,e,n,a)):(t.tag=0,t=hc(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===ne){t.tag=11,t=zu(null,t,e,n,a);break e}else if(i===A){t.tag=14,t=Uu(null,t,e,n,a);break e}}throw t=q(e)||e,Error(d(306,t,""))}}return t;case 0:return hc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=wl(n,t.pendingProps),Vu(e,t,n,i,a);case 3:e:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(d(387));n=t.pendingProps;var r=t.memoizedState;i=r.element,Yr(e,t),Jn(t,n,null,a);var o=t.memoizedState;if(n=o.cache,Ba(t,tt,n),n!==r.cache&&Dr(t,[tt],a,!0),Kn(),n=o.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Iu(e,t,n,a);break e}else if(n!==i){i=Yt(Error(d(424)),t),Gn(i),t=Iu(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=Xt(e.firstChild),dt=t,ke=!0,za=null,It=!0,a=Hd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gl(),n===i){t=Na(e,t,a);break e}ft(e,t,n,a)}t=t.child}return t;case 26:return di(e,t),e===null?(a=im(t.type,null,t.pendingProps,null))?t.memoizedState=a:ke||(a=t.type,e=t.pendingProps,n=Ei(re.current).createElement(a),n[Qe]=t,n[jt]=e,mt(n,a,e),it(n),t.stateNode=n):t.memoizedState=im(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return il(t),e===null&&ke&&(n=t.stateNode=lm(t.type,t.pendingProps,re.current),dt=t,It=!0,i=Xe,$a(t.type)?(eo=i,Xe=Xt(n.firstChild)):Xe=i),ft(e,t,t.pendingProps.children,a),di(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((i=n=Xe)&&(n=Kx(n,t.type,t.pendingProps,It),n!==null?(t.stateNode=n,dt=t,Xe=Xt(n.firstChild),It=!1,i=!0):i=!1),i||Ua(t)),il(t),i=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,n=r.children,Jc(i,r)?n=null:o!==null&&Jc(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=Kr(e,t,ox,null,null,a),xs._currentValue=i),di(e,t),ft(e,t,n,a),t.child;case 6:return e===null&&ke&&((e=a=Xe)&&(a=Jx(a,t.pendingProps,It),a!==null?(t.stateNode=a,dt=t,Xe=null,e=!0):e=!1),e||Ua(t)),null;case 13:return Qu(e,t,a);case 4:return ye(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nl(t,null,n,a):ft(e,t,n,a),t.child;case 11:return zu(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ba(t,t.type,n.value),ft(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,yl(t),i=ut(i),n=n(i),t.flags|=1,ft(e,t,n,a),t.child;case 14:return Uu(e,t,t.type,t.pendingProps,a);case 15:return Bu(e,t,t.type,t.pendingProps,a);case 19:return Zu(e,t,a);case 31:return px(e,t,a);case 22:return Hu(e,t,a,t.pendingProps);case 24:return yl(t),n=ut(tt),e===null?(i=Br(),i===null&&(i=Ve,r=zr(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=a),i=r),t.memoizedState={parent:n,cache:i},qr(t),Ba(t,tt,i)):((e.lanes&a)!==0&&(Yr(e,t),Jn(t,null,null,a),Kn()),i=e.memoizedState,r=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ba(t,tt,n)):(n=r.cache,Ba(t,tt,n),n!==i.cache&&Dr(t,[tt],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function Sa(e){e.flags|=4}function Nc(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Nf())e.flags|=8192;else throw jl=Js,Hr}else e.flags&=-16777217}function Ju(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!um(t))if(Nf())e.flags|=8192;else throw jl=Js,Hr}function fi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?An():536870912,e.lanes|=t,on|=t)}function ts(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function bx(e,t,a){var n=t.pendingProps;switch(Mr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return Ze(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(tt),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?Sa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rr())),Ze(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(Sa(t),r!==null?(Ze(t),Ju(t,r)):(Ze(t),Nc(t,i,null,n,a))):r?r!==e.memoizedState?(Sa(t),Ze(t),Ju(t,r)):(Ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Sa(t),Ze(t),Nc(t,i,e,n,a)),null;case 27:if(rl(t),a=re.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Sa(t);else{if(!n){if(t.stateNode===null)throw Error(d(166));return Ze(t),null}e=ue.current,Jl(t)?Ad(t):(e=lm(i,n,a),t.stateNode=e,Sa(t))}return Ze(t),null;case 5:if(rl(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Sa(t);else{if(!n){if(t.stateNode===null)throw Error(d(166));return Ze(t),null}if(r=ue.current,Jl(t))Ad(t);else{var o=Ei(re.current);switch(r){case 1:r=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r=typeof n.is=="string"?o.createElement(i,{is:n.is}):o.createElement(i)}}r[Qe]=t,r[jt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=r;e:switch(mt(r,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Sa(t)}}return Ze(t),Nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Sa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(d(166));if(e=re.current,Jl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=dt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Qe]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Xf(e.nodeValue,a)),e||Ua(t,!0)}else e=Ei(e).createTextNode(n),e[Qe]=t,t.stateNode=e}return Ze(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Jl(t),a!==null){if(e===null){if(!n)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Qe]=t}else gl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),e=!1}else a=Rr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Ze(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Jl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[Qe]=t}else gl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),i=!1}else i=Rr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),fi(t,t.updateQueue),Ze(t),null);case 4:return Ue(),e===null&&Ic(t.stateNode.containerInfo),Ze(t),null;case 10:return ba(t.type),Ze(t),null;case 19:if(H(Pe),n=t.memoizedState,n===null)return Ze(t),null;if(i=(t.flags&128)!==0,r=n.rendering,r===null)if(i)ts(n,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Ps(e),r!==null){for(t.flags|=128,ts(n,!1),e=r.updateQueue,t.updateQueue=e,fi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Sd(a,e),a=a.sibling;return te(Pe,Pe.current&1|2),ke&&pa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ot()>pi&&(t.flags|=128,i=!0,ts(n,!1),t.lanes=4194304)}else{if(!i)if(e=Ps(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,fi(t,e),ts(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!ke)return Ze(t),null}else 2*ot()-n.renderingStartTime>pi&&a!==536870912&&(t.flags|=128,i=!0,ts(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ot(),e.sibling=null,a=Pe.current,te(Pe,i?a&1|2:a&1),ke&&pa(t,n.treeForkCount),e):(Ze(t),null);case 22:case 23:return Ot(t),Qr(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),a=t.updateQueue,a!==null&&fi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&H(bl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ba(tt),Ze(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function vx(e,t){switch(Mr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ba(tt),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return rl(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(d(340));gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Pe),null;case 4:return Ue(),null;case 10:return ba(t.type),null;case 22:case 23:return Ot(t),Qr(),e!==null&&H(bl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ba(tt),null;case 25:return null;default:return null}}function Fu(e,t){switch(Mr(t),t.tag){case 3:ba(tt),Ue();break;case 26:case 27:case 5:rl(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:H(Pe);break;case 10:ba(t.type);break;case 22:case 23:Ot(t),Qr(),e!==null&&H(bl);break;case 24:ba(tt)}}function as(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var r=a.create,o=a.inst;n=r(),o.destroy=n}a=a.next}while(a!==i)}}catch(f){He(t,t.return,f)}}function Ia(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){var o=n.inst,f=o.destroy;if(f!==void 0){o.destroy=void 0,i=t;var b=a,R=f;try{R()}catch(G){He(i,b,G)}}}n=n.next}while(n!==r)}}catch(G){He(t,t.return,G)}}function $u(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Yd(t,a)}catch(n){He(e,e.return,n)}}}function Wu(e,t,a){a.props=wl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){He(e,t,n)}}function ls(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){He(e,t,i)}}function oa(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){He(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){He(e,t,i)}else a.current=null}function Pu(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){He(e,e.return,i)}}function Sc(e,t,a){try{var n=e.stateNode;Gx(n,e.type,a,t),n[jt]=t}catch(i){He(e,e.return,i)}}function ef(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$a(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _c(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ha));else if(n!==4&&(n===27&&$a(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(_c(e,t,a),e=e.sibling;e!==null;)_c(e,t,a),e=e.sibling}function mi(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&$a(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(mi(e,t,a),e=e.sibling;e!==null;)mi(e,t,a),e=e.sibling}function tf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);mt(t,n,a),t[Qe]=e,t[jt]=a}catch(r){He(e,e.return,r)}}var wa=!1,nt=!1,Cc=!1,af=typeof WeakSet=="function"?WeakSet:Set,rt=null;function jx(e,t){if(e=e.containerInfo,Zc=Li,e=hd(e),br(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var o=0,f=-1,b=-1,R=0,G=0,X=e,O=null;t:for(;;){for(var U;X!==a||i!==0&&X.nodeType!==3||(f=o+i),X!==r||n!==0&&X.nodeType!==3||(b=o+n),X.nodeType===3&&(o+=X.nodeValue.length),(U=X.firstChild)!==null;)O=X,X=U;for(;;){if(X===e)break t;if(O===a&&++R===i&&(f=o),O===r&&++G===n&&(b=o),(U=X.nextSibling)!==null)break;X=O,O=X.parentNode}X=U}a=f===-1||b===-1?null:{start:f,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kc={focusedElem:e,selectionRange:a},Li=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,i=r.memoizedProps,r=r.memoizedState,n=a.stateNode;try{var he=wl(a.type,i);e=n.getSnapshotBeforeUpdate(he,r),n.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){He(a,a.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)$c(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$c(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function lf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ca(e,a),n&4&&as(5,a);break;case 1:if(Ca(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){He(a,a.return,o)}else{var i=wl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){He(a,a.return,o)}}n&64&&$u(a),n&512&&ls(a,a.return);break;case 3:if(Ca(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Yd(e,t)}catch(o){He(a,a.return,o)}}break;case 27:t===null&&n&4&&tf(a);case 26:case 5:Ca(e,a),t===null&&n&4&&Pu(a),n&512&&ls(a,a.return);break;case 12:Ca(e,a);break;case 31:Ca(e,a),n&4&&rf(e,a);break;case 13:Ca(e,a),n&4&&cf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Mx.bind(null,a),Fx(e,a))));break;case 22:if(n=a.memoizedState!==null||wa,!n){t=t!==null&&t.memoizedState!==null||nt,i=wa;var r=nt;wa=n,(nt=t)&&!r?Ea(e,a,(a.subtreeFlags&8772)!==0):Ca(e,a),wa=i,nt=r}break;case 30:break;default:Ca(e,a)}}function nf(e){var t=e.alternate;t!==null&&(e.alternate=null,nf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ar(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,St=!1;function _a(e,t,a){for(a=a.child;a!==null;)sf(e,t,a),a=a.sibling}function sf(e,t,a){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(cl,a)}catch{}switch(a.tag){case 26:nt||oa(a,t),_a(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||oa(a,t);var n=Je,i=St;$a(a.type)&&(Je=a.stateNode,St=!1),_a(e,t,a),fs(a.stateNode),Je=n,St=i;break;case 5:nt||oa(a,t);case 6:if(n=Je,i=St,Je=null,_a(e,t,a),Je=n,St=i,Je!==null)if(St)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(r){He(a,t,r)}else try{Je.removeChild(a.stateNode)}catch(r){He(a,t,r)}break;case 18:Je!==null&&(St?(e=Je,Wf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),pn(e)):Wf(Je,a.stateNode));break;case 4:n=Je,i=St,Je=a.stateNode.containerInfo,St=!0,_a(e,t,a),Je=n,St=i;break;case 0:case 11:case 14:case 15:Ia(2,a,t),nt||Ia(4,a,t),_a(e,t,a);break;case 1:nt||(oa(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Wu(a,t,n)),_a(e,t,a);break;case 21:_a(e,t,a);break;case 22:nt=(n=nt)||a.memoizedState!==null,_a(e,t,a),nt=n;break;default:_a(e,t,a)}}function rf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{pn(e)}catch(a){He(t,t.return,a)}}}function cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pn(e)}catch(a){He(t,t.return,a)}}function Nx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(d(435,e.tag))}}function hi(e,t){var a=Nx(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=kx.bind(null,e,n);n.then(i,i)}})}function wt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],r=e,o=t,f=o;e:for(;f!==null;){switch(f.tag){case 27:if($a(f.type)){Je=f.stateNode,St=!1;break e}break;case 5:Je=f.stateNode,St=!1;break e;case 3:case 4:Je=f.stateNode.containerInfo,St=!0;break e}f=f.return}if(Je===null)throw Error(d(160));sf(r,o,i),Je=null,St=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var ta=null;function of(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),_t(e),n&4&&(Ia(3,e,e.return),as(3,e),Ia(5,e,e.return));break;case 1:wt(t,e),_t(e),n&512&&(nt||a===null||oa(a,a.return)),n&64&&wa&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=ta;if(wt(t,e),_t(e),n&512&&(nt||a===null||oa(a,a.return)),n&4){var r=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Mn]||r[Qe]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(n),i.head.insertBefore(r,i.querySelector("head > title"))),mt(r,n,a),r[Qe]=e,it(r),n=r;break e;case"link":var o=om("link","href",i).get(n+(a.href||""));if(o){for(var f=0;f<o.length;f++)if(r=o[f],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(f,1);break t}}r=i.createElement(n),mt(r,n,a),i.head.appendChild(r);break;case"meta":if(o=om("meta","content",i).get(n+(a.content||""))){for(f=0;f<o.length;f++)if(r=o[f],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(f,1);break t}}r=i.createElement(n),mt(r,n,a),i.head.appendChild(r);break;default:throw Error(d(468,n))}r[Qe]=e,it(r),n=r}e.stateNode=n}else dm(i,e.type,e.stateNode);else e.stateNode=cm(i,n,e.memoizedProps);else r!==n?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,n===null?dm(i,e.type,e.stateNode):cm(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Sc(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(t,e),_t(e),n&512&&(nt||a===null||oa(a,a.return)),a!==null&&n&4&&Sc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(t,e),_t(e),n&512&&(nt||a===null||oa(a,a.return)),e.flags&32){i=e.stateNode;try{Hl(i,"")}catch(he){He(e,e.return,he)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,Sc(e,i,a!==null?a.memoizedProps:i)),n&1024&&(Cc=!0);break;case 6:if(wt(t,e),_t(e),n&4){if(e.stateNode===null)throw Error(d(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(he){He(e,e.return,he)}}break;case 3:if(Mi=null,i=ta,ta=Ai(t.containerInfo),wt(t,e),ta=i,_t(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{pn(t.containerInfo)}catch(he){He(e,e.return,he)}Cc&&(Cc=!1,df(e));break;case 4:n=ta,ta=Ai(e.stateNode.containerInfo),wt(t,e),_t(e),ta=n;break;case 12:wt(t,e),_t(e);break;case 31:wt(t,e),_t(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,hi(e,n)));break;case 13:wt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gi=ot()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,hi(e,n)));break;case 22:i=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,R=wa,G=nt;if(wa=R||i,nt=G||b,wt(t,e),nt=G,wa=R,_t(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||b||wa||nt||_l(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(r=b.stateNode,i)o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{f=b.stateNode;var X=b.memoizedProps.style,O=X!=null&&X.hasOwnProperty("display")?X.display:null;f.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(he){He(b,b.return,he)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=i?"":b.memoizedProps}catch(he){He(b,b.return,he)}}}else if(t.tag===18){if(a===null){b=t;try{var U=b.stateNode;i?Pf(U,!0):Pf(b.stateNode,!1)}catch(he){He(b,b.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,hi(e,a))));break;case 19:wt(t,e),_t(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,hi(e,n)));break;case 30:break;case 21:break;default:wt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(ef(n)){a=n;break}n=n.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var i=a.stateNode,r=wc(e);mi(e,r,i);break;case 5:var o=a.stateNode;a.flags&32&&(Hl(o,""),a.flags&=-33);var f=wc(e);mi(e,f,o);break;case 3:case 4:var b=a.stateNode.containerInfo,R=wc(e);_c(e,R,b);break;default:throw Error(d(161))}}catch(G){He(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lf(e,t.alternate,t),t=t.sibling}function _l(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ia(4,t,t.return),_l(t);break;case 1:oa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Wu(t,t.return,a),_l(t);break;case 27:fs(t.stateNode);case 26:case 5:oa(t,t.return),_l(t);break;case 22:t.memoizedState===null&&_l(t);break;case 30:_l(t);break;default:_l(t)}e=e.sibling}}function Ea(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,r=t,o=r.flags;switch(r.tag){case 0:case 11:case 15:Ea(i,r,a),as(4,r);break;case 1:if(Ea(i,r,a),n=r,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(R){He(n,n.return,R)}if(n=r,i=n.updateQueue,i!==null){var f=n.stateNode;try{var b=i.shared.hiddenCallbacks;if(b!==null)for(i.shared.hiddenCallbacks=null,i=0;i<b.length;i++)qd(b[i],f)}catch(R){He(n,n.return,R)}}a&&o&64&&$u(r),ls(r,r.return);break;case 27:tf(r);case 26:case 5:Ea(i,r,a),a&&n===null&&o&4&&Pu(r),ls(r,r.return);break;case 12:Ea(i,r,a);break;case 31:Ea(i,r,a),a&&o&4&&rf(i,r);break;case 13:Ea(i,r,a),a&&o&4&&cf(i,r);break;case 22:r.memoizedState===null&&Ea(i,r,a),ls(r,r.return);break;case 30:break;default:Ea(i,r,a)}t=t.sibling}}function Ec(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vn(a))}function Ac(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e))}function aa(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uf(e,t,a,n),t=t.sibling}function uf(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:aa(e,t,a,n),i&2048&&as(9,t);break;case 1:aa(e,t,a,n);break;case 3:aa(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e)));break;case 12:if(i&2048){aa(e,t,a,n),e=t.stateNode;try{var r=t.memoizedProps,o=r.id,f=r.onPostCommit;typeof f=="function"&&f(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){He(t,t.return,b)}}else aa(e,t,a,n);break;case 31:aa(e,t,a,n);break;case 13:aa(e,t,a,n);break;case 23:break;case 22:r=t.stateNode,o=t.alternate,t.memoizedState!==null?r._visibility&2?aa(e,t,a,n):ns(e,t):r._visibility&2?aa(e,t,a,n):(r._visibility|=2,sn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Ec(o,t);break;case 24:aa(e,t,a,n),i&2048&&Ac(t.alternate,t);break;default:aa(e,t,a,n)}}function sn(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,o=t,f=a,b=n,R=o.flags;switch(o.tag){case 0:case 11:case 15:sn(r,o,f,b,i),as(8,o);break;case 23:break;case 22:var G=o.stateNode;o.memoizedState!==null?G._visibility&2?sn(r,o,f,b,i):ns(r,o):(G._visibility|=2,sn(r,o,f,b,i)),i&&R&2048&&Ec(o.alternate,o);break;case 24:sn(r,o,f,b,i),i&&R&2048&&Ac(o.alternate,o);break;default:sn(r,o,f,b,i)}t=t.sibling}}function ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:ns(a,n),i&2048&&Ec(n.alternate,n);break;case 24:ns(a,n),i&2048&&Ac(n.alternate,n);break;default:ns(a,n)}t=t.sibling}}var ss=8192;function rn(e,t,a){if(e.subtreeFlags&ss)for(e=e.child;e!==null;)ff(e,t,a),e=e.sibling}function ff(e,t,a){switch(e.tag){case 26:rn(e,t,a),e.flags&ss&&e.memoizedState!==null&&cg(a,ta,e.memoizedState,e.memoizedProps);break;case 5:rn(e,t,a);break;case 3:case 4:var n=ta;ta=Ai(e.stateNode.containerInfo),rn(e,t,a),ta=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ss,ss=16777216,rn(e,t,a),ss=n):rn(e,t,a));break;default:rn(e,t,a)}}function mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function is(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];rt=n,xf(n,e)}mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hf(e),e=e.sibling}function hf(e){switch(e.tag){case 0:case 11:case 15:is(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:is(e);break;case 12:is(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xi(e)):is(e);break;default:is(e)}}function xi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];rt=n,xf(n,e)}mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ia(8,t,t.return),xi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,xi(t));break;default:xi(t)}e=e.sibling}}function xf(e,t){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:Ia(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Vn(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,rt=n;else e:for(a=e;rt!==null;){n=rt;var i=n.sibling,r=n.return;if(nf(n),n===a){rt=null;break e}if(i!==null){i.return=r,rt=i;break e}rt=r}}}var Sx={getCacheForType:function(e){var t=ut(tt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut(tt).controller.signal}},wx=typeof WeakMap=="function"?WeakMap:Map,De=0,Ve=null,Ee=null,Te=0,Be=0,Lt=null,Qa=!1,cn=!1,Tc=!1,Aa=0,$e=0,Xa=0,Cl=0,Mc=0,Dt=0,on=0,rs=null,Ct=null,kc=!1,gi=0,gf=0,pi=1/0,yi=null,Za=null,st=0,Ka=null,dn=null,Ta=0,Rc=0,Oc=null,pf=null,cs=0,Lc=null;function zt(){return(De&2)!==0&&Te!==0?Te&-Te:v.T!==null?qc():Wt()}function yf(){if(Dt===0)if((Te&536870912)===0||ke){var e=sa;sa<<=1,(sa&3932160)===0&&(sa=262144),Dt=e}else Dt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Dt}function Et(e,t,a){(e===Ve&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(un(e,0),Ja(e,Te,Dt,!1)),fe(e,a),((De&2)===0||e!==Ve)&&(e===Ve&&((De&2)===0&&(Cl|=a),$e===4&&Ja(e,Te,Dt,!1)),da(e))}function bf(e,t,a){if((De&6)!==0)throw Error(d(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ol(e,t),i=n?Ex(e,t):zc(e,t,!0),r=n;do{if(i===0){cn&&!n&&Ja(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!_x(a)){i=zc(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var f=e;i=rs;var b=f.current.memoizedState.isDehydrated;if(b&&(un(f,o).flags|=256),o=zc(f,o,!1),o!==2){if(Tc&&!b){f.errorRecoveryDisabledLanes|=r,Cl|=r,i=4;break e}r=Ct,Ct=i,r!==null&&(Ct===null?Ct=r:Ct.push.apply(Ct,r))}i=o}if(r=!1,i!==2)continue}}if(i===1){un(e,0),Ja(e,t,0,!0);break}e:{switch(n=e,r=i,r){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Ja(n,t,Dt,!Qa);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=gi+300-ot(),10<i)){if(Ja(n,t,Dt,!Qa),Rl(n,0,!0)!==0)break e;Ta=t,n.timeoutHandle=Ff(vf.bind(null,n,a,Ct,yi,kc,t,Dt,Cl,on,Qa,r,"Throttled",-0,0),i);break e}vf(n,a,Ct,yi,kc,t,Dt,Cl,on,Qa,r,null,-0,0)}}break}while(!0);da(e)}function vf(e,t,a,n,i,r,o,f,b,R,G,X,O,U){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ha},ff(t,r,X);var he=(r&62914560)===r?gi-ot():(r&4194048)===r?gf-ot():0;if(he=og(X,he),he!==null){Ta=r,e.cancelPendingCommit=he(Af.bind(null,e,t,r,a,n,i,o,f,b,G,X,null,O,U)),Ja(e,r,o,!R);return}}Af(e,t,r,a,n,i,o,f,b)}function _x(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],r=i.getSnapshot;i=i.value;try{if(!Mt(r(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t,a,n){t&=~Mc,t&=~Cl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var r=31-yt(i),o=1<<r;n[r]=-1,i&=~o}a!==0&&Re(e,a,t)}function bi(){return(De&6)===0?(os(0),!1):!0}function Dc(){if(Ee!==null){if(Be===0)var e=Ee.return;else e=Ee,ya=pl=null,$r(e),en=null,Qn=0,e=Ee;for(;e!==null;)Fu(e.alternate,e),e=e.return;Ee=null}}function un(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Qx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ta=0,Dc(),Ve=e,Ee=a=ga(e.current,null),Te=t,Be=0,Lt=null,Qa=!1,cn=ol(e,t),Tc=!1,on=Dt=Mc=Cl=Xa=$e=0,Ct=rs=null,kc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-yt(n),r=1<<i;t|=e[i],n&=~r}return Aa=t,qs(),a}function jf(e,t){_e=null,v.H=Pn,t===Pl||t===Ks?(t=zd(),Be=3):t===Hr?(t=zd(),Be=4):Be=t===mc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Lt=t,Ee===null&&($e=1,ci(e,Yt(t,e.current)))}function Nf(){var e=Rt.current;return e===null?!0:(Te&4194048)===Te?Qt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===Qt:!1}function Sf(){var e=v.H;return v.H=Pn,e===null?Pn:e}function wf(){var e=v.A;return v.A=Sx,e}function vi(){$e=4,Qa||(Te&4194048)!==Te&&Rt.current!==null||(cn=!0),(Xa&134217727)===0&&(Cl&134217727)===0||Ve===null||Ja(Ve,Te,Dt,!1)}function zc(e,t,a){var n=De;De|=2;var i=Sf(),r=wf();(Ve!==e||Te!==t)&&(yi=null,un(e,t)),t=!1;var o=$e;e:do try{if(Be!==0&&Ee!==null){var f=Ee,b=Lt;switch(Be){case 8:Dc(),o=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var R=Be;if(Be=0,Lt=null,fn(e,f,b,R),a&&cn){o=0;break e}break;default:R=Be,Be=0,Lt=null,fn(e,f,b,R)}}Cx(),o=$e;break}catch(G){jf(e,G)}while(!0);return t&&e.shellSuspendCounter++,ya=pl=null,De=n,v.H=i,v.A=r,Ee===null&&(Ve=null,Te=0,qs()),o}function Cx(){for(;Ee!==null;)_f(Ee)}function Ex(e,t){var a=De;De|=2;var n=Sf(),i=wf();Ve!==e||Te!==t?(yi=null,pi=ot()+500,un(e,t)):cn=ol(e,t);e:do try{if(Be!==0&&Ee!==null){t=Ee;var r=Lt;t:switch(Be){case 1:Be=0,Lt=null,fn(e,t,r,1);break;case 2:case 9:if(Ld(r)){Be=0,Lt=null,Cf(t);break}t=function(){Be!==2&&Be!==9||Ve!==e||(Be=7),da(e)},r.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Ld(r)?(Be=0,Lt=null,Cf(t)):(Be=0,Lt=null,fn(e,t,r,7));break;case 5:var o=null;switch(Ee.tag){case 26:o=Ee.memoizedState;case 5:case 27:var f=Ee;if(o?um(o):f.stateNode.complete){Be=0,Lt=null;var b=f.sibling;if(b!==null)Ee=b;else{var R=f.return;R!==null?(Ee=R,ji(R)):Ee=null}break t}}Be=0,Lt=null,fn(e,t,r,5);break;case 6:Be=0,Lt=null,fn(e,t,r,6);break;case 8:Dc(),$e=6;break e;default:throw Error(d(462))}}Ax();break}catch(G){jf(e,G)}while(!0);return ya=pl=null,v.H=n,v.A=i,De=a,Ee!==null?0:(Ve=null,Te=0,qs(),$e)}function Ax(){for(;Ee!==null&&!Fi();)_f(Ee)}function _f(e){var t=Ku(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?ji(e):Ee=t}function Cf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Gu(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Gu(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:$r(t);default:Fu(a,t),t=Ee=Sd(t,Aa),t=Ku(a,t,Aa)}e.memoizedProps=e.pendingProps,t===null?ji(e):Ee=t}function fn(e,t,a,n){ya=pl=null,$r(t),en=null,Qn=0;var i=t.return;try{if(gx(e,i,t,a,Te)){$e=1,ci(e,Yt(a,e.current)),Ee=null;return}}catch(r){if(i!==null)throw Ee=i,r;$e=1,ci(e,Yt(a,e.current)),Ee=null;return}t.flags&32768?(ke||n===1?e=!0:cn||(Te&536870912)!==0?e=!1:(Qa=e=!0,(n===2||n===9||n===3||n===6)&&(n=Rt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Ef(t,e)):ji(t)}function ji(e){var t=e;do{if((t.flags&32768)!==0){Ef(t,Qa);return}e=t.return;var a=bx(t.alternate,t,Aa);if(a!==null){Ee=a;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);$e===0&&($e=5)}function Ef(e,t){do{var a=vx(e.alternate,e);if(a!==null){a.flags&=32767,Ee=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=a}while(e!==null);$e=6,Ee=null}function Af(e,t,a,n,i,r,o,f,b){e.cancelPendingCommit=null;do Ni();while(st!==0);if((De&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(r=t.lanes|t.childLanes,r|=wr,je(e,a,r,o,f,b),e===Ve&&(Ee=Ve=null,Te=0),dn=t,Ka=e,Ta=a,Rc=r,Oc=i,pf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rx(Ra,function(){return Of(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=v.T,v.T=null,i=T.p,T.p=2,o=De,De|=4;try{jx(e,t,a)}finally{De=o,T.p=i,v.T=n}}st=1,Tf(),Mf(),kf()}}function Tf(){if(st===1){st=0;var e=Ka,t=dn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=v.T,v.T=null;var n=T.p;T.p=2;var i=De;De|=4;try{of(t,e);var r=Kc,o=hd(e.containerInfo),f=r.focusedElem,b=r.selectionRange;if(o!==f&&f&&f.ownerDocument&&md(f.ownerDocument.documentElement,f)){if(b!==null&&br(f)){var R=b.start,G=b.end;if(G===void 0&&(G=R),"selectionStart"in f)f.selectionStart=R,f.selectionEnd=Math.min(G,f.value.length);else{var X=f.ownerDocument||document,O=X&&X.defaultView||window;if(O.getSelection){var U=O.getSelection(),he=f.textContent.length,Ne=Math.min(b.start,he),Ge=b.end===void 0?Ne:Math.min(b.end,he);!U.extend&&Ne>Ge&&(o=Ge,Ge=Ne,Ne=o);var _=fd(f,Ne),w=fd(f,Ge);if(_&&w&&(U.rangeCount!==1||U.anchorNode!==_.node||U.anchorOffset!==_.offset||U.focusNode!==w.node||U.focusOffset!==w.offset)){var k=X.createRange();k.setStart(_.node,_.offset),U.removeAllRanges(),Ne>Ge?(U.addRange(k),U.extend(w.node,w.offset)):(k.setEnd(w.node,w.offset),U.addRange(k))}}}}for(X=[],U=f;U=U.parentNode;)U.nodeType===1&&X.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<X.length;f++){var Q=X[f];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Li=!!Zc,Kc=Zc=null}finally{De=i,T.p=n,v.T=a}}e.current=t,st=2}}function Mf(){if(st===2){st=0;var e=Ka,t=dn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=v.T,v.T=null;var n=T.p;T.p=2;var i=De;De|=4;try{lf(e,t.alternate,t)}finally{De=i,T.p=n,v.T=a}}st=3}}function kf(){if(st===4||st===3){st=0,Cn();var e=Ka,t=dn,a=Ta,n=pf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,dn=Ka=null,Rf(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Za=null),fa(a),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(cl,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=v.T,i=T.p,T.p=2,v.T=null;try{for(var r=e.onRecoverableError,o=0;o<n.length;o++){var f=n[o];r(f.value,{componentStack:f.stack})}}finally{v.T=t,T.p=i}}(Ta&3)!==0&&Ni(),da(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Lc?cs++:(cs=0,Lc=e):cs=0,os(0)}}function Rf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vn(t)))}function Ni(){return Tf(),Mf(),kf(),Of()}function Of(){if(st!==5)return!1;var e=Ka,t=Rc;Rc=0;var a=fa(Ta),n=v.T,i=T.p;try{T.p=32>a?32:a,v.T=null,a=Oc,Oc=null;var r=Ka,o=Ta;if(st=0,dn=Ka=null,Ta=0,(De&6)!==0)throw Error(d(331));var f=De;if(De|=4,hf(r.current),uf(r,r.current,o,a),De=f,os(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(cl,r)}catch{}return!0}finally{T.p=i,v.T=n,Rf(e,t)}}function Lf(e,t,a){t=Yt(a,t),t=fc(e.stateNode,t,2),e=Ya(e,t,2),e!==null&&(fe(e,2),da(e))}function He(e,t,a){if(e.tag===3)Lf(e,e,a);else for(;t!==null;){if(t.tag===3){Lf(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Za===null||!Za.has(n))){e=Yt(a,e),a=Lu(2),n=Ya(t,a,2),n!==null&&(Du(a,n,t,e),fe(n,2),da(n));break}}t=t.return}}function Uc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new wx;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(Tc=!0,i.add(a),e=Tx.bind(null,e,t,a),t.then(e,e))}function Tx(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(Te&a)===a&&($e===4||$e===3&&(Te&62914560)===Te&&300>ot()-gi?(De&2)===0&&un(e,0):Mc|=a,on===Te&&(on=0)),da(e)}function Df(e,t){t===0&&(t=An()),e=hl(e,t),e!==null&&(fe(e,t),da(e))}function Mx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Df(e,a)}function kx(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(d(314))}n!==null&&n.delete(t),Df(e,a)}function Rx(e,t){return _n(e,t)}var Si=null,mn=null,Bc=!1,wi=!1,Hc=!1,Fa=0;function da(e){e!==mn&&e.next===null&&(mn===null?Si=mn=e:mn=mn.next=e),wi=!0,Bc||(Bc=!0,Lx())}function os(e,t){if(!Hc&&wi){Hc=!0;do for(var a=!1,n=Si;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var r=0;else{var o=n.suspendedLanes,f=n.pingedLanes;r=(1<<31-yt(42|e)+1)-1,r&=i&~(o&~f),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Hf(n,r))}else r=Te,r=Rl(n,n===Ve?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(r&3)===0||ol(n,r)||(a=!0,Hf(n,r));n=n.next}while(a);Hc=!1}}function Ox(){zf()}function zf(){wi=Bc=!1;var e=0;Fa!==0&&Ix()&&(e=Fa);for(var t=ot(),a=null,n=Si;n!==null;){var i=n.next,r=Uf(n,t);r===0?(n.next=null,a===null?Si=i:a.next=i,i===null&&(mn=a)):(a=n,(e!==0||(r&3)!==0)&&(wi=!0)),n=i}st!==0&&st!==5||os(e),Fa!==0&&(Fa=0)}function Uf(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var o=31-yt(r),f=1<<o,b=i[o];b===-1?((f&a)===0||(f&n)!==0)&&(i[o]=As(f,t)):b<=t&&(e.expiredLanes|=f),r&=~f}if(t=Ve,a=Te,a=Rl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Tl(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ol(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Tl(n),fa(a)){case 2:case 8:a=Cs;break;case 32:a=Ra;break;case 268435456:a=Es;break;default:a=Ra}return n=Bf.bind(null,e),a=_n(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Tl(n),e.callbackPriority=2,e.callbackNode=null,2}function Bf(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ni()&&e.callbackNode!==a)return null;var n=Te;return n=Rl(e,e===Ve?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(bf(e,n,t),Uf(e,ot()),e.callbackNode!=null&&e.callbackNode===a?Bf.bind(null,e):null)}function Hf(e,t){if(Ni())return null;bf(e,t,!0)}function Lx(){Xx(function(){(De&6)!==0?_n(_s,Ox):zf()})}function qc(){if(Fa===0){var e=$l;e===0&&(e=Ml,Ml<<=1,(Ml&261888)===0&&(Ml=256)),Fa=e}return Fa}function qf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rs(""+e)}function Yf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Dx(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var r=qf((i[jt]||null).action),o=n.submitter;o&&(t=(t=o[jt]||null)?qf(t.formAction):o.getAttribute("formAction"),t!==null&&(r=t,o=null));var f=new zs("action","action",null,n,i);e.push({event:f,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Fa!==0){var b=o?Yf(i,o):new FormData(i);ic(a,{pending:!0,data:b,method:i.method,action:r},null,b)}}else typeof r=="function"&&(f.preventDefault(),b=o?Yf(i,o):new FormData(i),ic(a,{pending:!0,data:b,method:i.method,action:r},r,b))},currentTarget:i}]})}}for(var Yc=0;Yc<Sr.length;Yc++){var Gc=Sr[Yc],zx=Gc.toLowerCase(),Ux=Gc[0].toUpperCase()+Gc.slice(1);ea(zx,"on"+Ux)}ea(pd,"onAnimationEnd"),ea(yd,"onAnimationIteration"),ea(bd,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(Ph,"onTransitionRun"),ea(ex,"onTransitionStart"),ea(tx,"onTransitionCancel"),ea(vd,"onTransitionEnd"),Ul("onMouseEnter",["mouseout","mouseover"]),Ul("onMouseLeave",["mouseout","mouseover"]),Ul("onPointerEnter",["pointerout","pointerover"]),Ul("onPointerLeave",["pointerout","pointerover"]),dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dl("onBeforeInput",["compositionend","keypress","textInput","paste"]),dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ds));function Gf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var o=n.length-1;0<=o;o--){var f=n[o],b=f.instance,R=f.currentTarget;if(f=f.listener,b!==r&&i.isPropagationStopped())break e;r=f,i.currentTarget=R;try{r(i)}catch(G){Hs(G)}i.currentTarget=null,r=b}else for(o=0;o<n.length;o++){if(f=n[o],b=f.instance,R=f.currentTarget,f=f.listener,b!==r&&i.isPropagationStopped())break e;r=f,i.currentTarget=R;try{r(i)}catch(G){Hs(G)}i.currentTarget=null,r=b}}}}function Ae(e,t){var a=t[tr];a===void 0&&(a=t[tr]=new Set);var n=e+"__bubble";a.has(n)||(Vf(t,e,2,!1),a.add(n))}function Vc(e,t,a){var n=0;t&&(n|=4),Vf(a,e,n,t)}var _i="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[_i]){e[_i]=!0,Do.forEach(function(a){a!=="selectionchange"&&(Bx.has(a)||Vc(a,!1,e),Vc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_i]||(t[_i]=!0,Vc("selectionchange",!1,t))}}function Vf(e,t,a,n){switch(ym(t)){case 2:var i=fg;break;case 8:i=mg;break;default:i=so}a=i.bind(null,t,a,e),i=void 0,!dr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Qc(e,t,a,n,i){var r=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var f=n.stateNode.containerInfo;if(f===i)break;if(o===4)for(o=n.return;o!==null;){var b=o.tag;if((b===3||b===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;f!==null;){if(o=Ll(f),o===null)return;if(b=o.tag,b===5||b===6||b===26||b===27){n=r=o;continue e}f=f.parentNode}}n=n.return}Zo(function(){var R=r,G=cr(a),X=[];e:{var O=jd.get(e);if(O!==void 0){var U=zs,he=e;switch(e){case"keypress":if(Ls(a)===0)break e;case"keydown":case"keyup":U=kh;break;case"focusin":he="focus",U=hr;break;case"focusout":he="blur",U=hr;break;case"beforeblur":case"afterblur":U=hr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Lh;break;case pd:case yd:case bd:U=Nh;break;case vd:U=zh;break;case"scroll":case"scrollend":U=ph;break;case"wheel":U=Bh;break;case"copy":case"cut":case"paste":U=wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Wo;break;case"toggle":case"beforetoggle":U=qh}var Ne=(t&4)!==0,Ge=!Ne&&(e==="scroll"||e==="scrollend"),_=Ne?O!==null?O+"Capture":null:O;Ne=[];for(var w=R,k;w!==null;){var Q=w;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||_===null||(Q=Rn(w,_),Q!=null&&Ne.push(us(w,Q,k))),Ge)break;w=w.return}0<Ne.length&&(O=new U(O,he,null,a,G),X.push({event:O,listeners:Ne}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",O&&a!==rr&&(he=a.relatedTarget||a.fromElement)&&(Ll(he)||he[Ol]))break e;if((U||O)&&(O=G.window===G?G:(O=G.ownerDocument)?O.defaultView||O.parentWindow:window,U?(he=a.relatedTarget||a.toElement,U=R,he=he?Ll(he):null,he!==null&&(Ge=y(he),Ne=he.tag,he!==Ge||Ne!==5&&Ne!==27&&Ne!==6)&&(he=null)):(U=null,he=R),U!==he)){if(Ne=Fo,Q="onMouseLeave",_="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=Wo,Q="onPointerLeave",_="onPointerEnter",w="pointer"),Ge=U==null?O:kn(U),k=he==null?O:kn(he),O=new Ne(Q,w+"leave",U,a,G),O.target=Ge,O.relatedTarget=k,Q=null,Ll(G)===R&&(Ne=new Ne(_,w+"enter",he,a,G),Ne.target=k,Ne.relatedTarget=Ge,Q=Ne),Ge=Q,U&&he)t:{for(Ne=Hx,_=U,w=he,k=0,Q=_;Q;Q=Ne(Q))k++;Q=0;for(var ve=w;ve;ve=Ne(ve))Q++;for(;0<k-Q;)_=Ne(_),k--;for(;0<Q-k;)w=Ne(w),Q--;for(;k--;){if(_===w||w!==null&&_===w.alternate){Ne=_;break t}_=Ne(_),w=Ne(w)}Ne=null}else Ne=null;U!==null&&If(X,O,U,Ne,!1),he!==null&&Ge!==null&&If(X,Ge,he,Ne,!0)}}e:{if(O=R?kn(R):window,U=O.nodeName&&O.nodeName.toLowerCase(),U==="select"||U==="input"&&O.type==="file")var Oe=id;else if(nd(O))if(rd)Oe=Fh;else{Oe=Kh;var ge=Zh}else U=O.nodeName,!U||U.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&ir(R.elementType)&&(Oe=id):Oe=Jh;if(Oe&&(Oe=Oe(e,R))){sd(X,Oe,a,G);break e}ge&&ge(e,O,R),e==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&sr(O,"number",O.value)}switch(ge=R?kn(R):window,e){case"focusin":(nd(ge)||ge.contentEditable==="true")&&(Vl=ge,vr=R,qn=null);break;case"focusout":qn=vr=Vl=null;break;case"mousedown":jr=!0;break;case"contextmenu":case"mouseup":case"dragend":jr=!1,xd(X,a,G);break;case"selectionchange":if(Wh)break;case"keydown":case"keyup":xd(X,a,G)}var Ce;if(gr)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Gl?ad(e,a)&&(Me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Po&&a.locale!=="ko"&&(Gl||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Gl&&(Ce=Ko()):(La=G,ur="value"in La?La.value:La.textContent,Gl=!0)),ge=Ci(R,Me),0<ge.length&&(Me=new $o(Me,e,null,a,G),X.push({event:Me,listeners:ge}),Ce?Me.data=Ce:(Ce=ld(a),Ce!==null&&(Me.data=Ce)))),(Ce=Gh?Vh(e,a):Ih(e,a))&&(Me=Ci(R,"onBeforeInput"),0<Me.length&&(ge=new $o("onBeforeInput","beforeinput",null,a,G),X.push({event:ge,listeners:Me}),ge.data=Ce)),Dx(X,e,R,a,G)}Gf(X,t)})}function us(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ci(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Rn(e,a),i!=null&&n.unshift(us(e,i,r)),i=Rn(e,t),i!=null&&n.push(us(e,i,r))),e.tag===3)return n;e=e.return}return[]}function Hx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function If(e,t,a,n,i){for(var r=t._reactName,o=[];a!==null&&a!==n;){var f=a,b=f.alternate,R=f.stateNode;if(f=f.tag,b!==null&&b===n)break;f!==5&&f!==26&&f!==27||R===null||(b=R,i?(R=Rn(a,r),R!=null&&o.unshift(us(a,R,b))):i||(R=Rn(a,r),R!=null&&o.push(us(a,R,b)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var qx=/\r\n?/g,Yx=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(qx,`
`).replace(Yx,"")}function Xf(e,t){return t=Qf(t),Qf(e)===t}function Ye(e,t,a,n,i,r){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Hl(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Hl(e,""+n);break;case"className":Ms(e,"class",n);break;case"tabIndex":Ms(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(e,a,n);break;case"style":Qo(e,n,r);break;case"data":if(t!=="object"){Ms(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Rs(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&Ye(e,t,"name",i.name,i,null),Ye(e,t,"formEncType",i.formEncType,i,null),Ye(e,t,"formMethod",i.formMethod,i,null),Ye(e,t,"formTarget",i.formTarget,i,null)):(Ye(e,t,"encType",i.encType,i,null),Ye(e,t,"method",i.method,i,null),Ye(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Rs(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ha);break;case"onScroll":n!=null&&Ae("scroll",e);break;case"onScrollEnd":n!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Rs(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),Ts(e,"popover",n);break;case"xlinkActuate":ma(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ma(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ma(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ma(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ma(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ma(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ma(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ma(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ma(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ts(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xh.get(a)||a,Ts(e,a,n))}}function Xc(e,t,a,n,i,r){switch(a){case"style":Qo(e,n,r);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Hl(e,n):(typeof n=="number"||typeof n=="bigint")&&Hl(e,""+n);break;case"onScroll":n!=null&&Ae("scroll",e);break;case"onScrollEnd":n!=null&&Ae("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ha);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),r=e[jt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof n=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ts(e,a,n)}}}function mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var n=!1,i=!1,r;for(r in a)if(a.hasOwnProperty(r)){var o=a[r];if(o!=null)switch(r){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Ye(e,t,r,o,a,null)}}i&&Ye(e,t,"srcSet",a.srcSet,a,null),n&&Ye(e,t,"src",a.src,a,null);return;case"input":Ae("invalid",e);var f=r=o=i=null,b=null,R=null;for(n in a)if(a.hasOwnProperty(n)){var G=a[n];if(G!=null)switch(n){case"name":i=G;break;case"type":o=G;break;case"checked":b=G;break;case"defaultChecked":R=G;break;case"value":r=G;break;case"defaultValue":f=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(d(137,t));break;default:Ye(e,t,n,G,a,null)}}Yo(e,r,f,b,R,o,i,!1);return;case"select":Ae("invalid",e),n=o=r=null;for(i in a)if(a.hasOwnProperty(i)&&(f=a[i],f!=null))switch(i){case"value":r=f;break;case"defaultValue":o=f;break;case"multiple":n=f;default:Ye(e,t,i,f,a,null)}t=r,a=o,e.multiple=!!n,t!=null?Bl(e,!!n,t,!1):a!=null&&Bl(e,!!n,a,!0);return;case"textarea":Ae("invalid",e),r=i=n=null;for(o in a)if(a.hasOwnProperty(o)&&(f=a[o],f!=null))switch(o){case"value":n=f;break;case"defaultValue":i=f;break;case"children":r=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(d(91));break;default:Ye(e,t,o,f,a,null)}Vo(e,n,i,r);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(n=a[b],n!=null))switch(b){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ye(e,t,b,n,a,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(n=0;n<ds.length;n++)Ae(ds[n],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(n=a[R],n!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Ye(e,t,R,n,a,null)}return;default:if(ir(t)){for(G in a)a.hasOwnProperty(G)&&(n=a[G],n!==void 0&&Xc(e,t,G,n,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(n=a[f],n!=null&&Ye(e,t,f,n,a,null))}function Gx(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,o=null,f=null,b=null,R=null,G=null;for(U in a){var X=a[U];if(a.hasOwnProperty(U)&&X!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":b=X;default:n.hasOwnProperty(U)||Ye(e,t,U,null,n,X)}}for(var O in n){var U=n[O];if(X=a[O],n.hasOwnProperty(O)&&(U!=null||X!=null))switch(O){case"type":r=U;break;case"name":i=U;break;case"checked":R=U;break;case"defaultChecked":G=U;break;case"value":o=U;break;case"defaultValue":f=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(d(137,t));break;default:U!==X&&Ye(e,t,O,U,n,X)}}nr(e,o,f,b,R,G,r,i);return;case"select":U=o=f=O=null;for(r in a)if(b=a[r],a.hasOwnProperty(r)&&b!=null)switch(r){case"value":break;case"multiple":U=b;default:n.hasOwnProperty(r)||Ye(e,t,r,null,n,b)}for(i in n)if(r=n[i],b=a[i],n.hasOwnProperty(i)&&(r!=null||b!=null))switch(i){case"value":O=r;break;case"defaultValue":f=r;break;case"multiple":o=r;default:r!==b&&Ye(e,t,i,r,n,b)}t=f,a=o,n=U,O!=null?Bl(e,!!a,O,!1):!!n!=!!a&&(t!=null?Bl(e,!!a,t,!0):Bl(e,!!a,a?[]:"",!1));return;case"textarea":U=O=null;for(f in a)if(i=a[f],a.hasOwnProperty(f)&&i!=null&&!n.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Ye(e,t,f,null,n,i)}for(o in n)if(i=n[o],r=a[o],n.hasOwnProperty(o)&&(i!=null||r!=null))switch(o){case"value":O=i;break;case"defaultValue":U=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==r&&Ye(e,t,o,i,n,r)}Go(e,O,U);return;case"option":for(var he in a)if(O=a[he],a.hasOwnProperty(he)&&O!=null&&!n.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Ye(e,t,he,null,n,O)}for(b in n)if(O=n[b],U=a[b],n.hasOwnProperty(b)&&O!==U&&(O!=null||U!=null))switch(b){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ye(e,t,b,O,n,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)O=a[Ne],a.hasOwnProperty(Ne)&&O!=null&&!n.hasOwnProperty(Ne)&&Ye(e,t,Ne,null,n,O);for(R in n)if(O=n[R],U=a[R],n.hasOwnProperty(R)&&O!==U&&(O!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(d(137,t));break;default:Ye(e,t,R,O,n,U)}return;default:if(ir(t)){for(var Ge in a)O=a[Ge],a.hasOwnProperty(Ge)&&O!==void 0&&!n.hasOwnProperty(Ge)&&Xc(e,t,Ge,void 0,n,O);for(G in n)O=n[G],U=a[G],!n.hasOwnProperty(G)||O===U||O===void 0&&U===void 0||Xc(e,t,G,O,n,U);return}}for(var _ in a)O=a[_],a.hasOwnProperty(_)&&O!=null&&!n.hasOwnProperty(_)&&Ye(e,t,_,null,n,O);for(X in n)O=n[X],U=a[X],!n.hasOwnProperty(X)||O===U||O==null&&U==null||Ye(e,t,X,O,n,U)}function Zf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],r=i.transferSize,o=i.initiatorType,f=i.duration;if(r&&f&&Zf(o)){for(o=0,f=i.responseEnd,n+=1;n<a.length;n++){var b=a[n],R=b.startTime;if(R>f)break;var G=b.transferSize,X=b.initiatorType;G&&Zf(X)&&(b=b.responseEnd,o+=G*(b<f?1:(f-R)/(b-R)))}if(--n,t+=8*(r+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zc=null,Kc=null;function Ei(e){return e.nodeType===9?e:e.ownerDocument}function Kf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fc=null;function Ix(){var e=window.event;return e&&e.type==="popstate"?e===Fc?!1:(Fc=e,!0):(Fc=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Qx=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,Xx=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(Zx)}:Ff;function Zx(e){setTimeout(function(){throw e})}function $a(e){return e==="head"}function Wf(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),pn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")fs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fs(a);for(var r=a.firstChild;r;){var o=r.nextSibling,f=r.nodeName;r[Mn]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=o}}else a==="body"&&fs(e.ownerDocument.body);a=i}while(a);pn(t)}function Pf(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function $c(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$c(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Kx(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Mn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function Jx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xt(e.nextSibling),e===null))return null;return e}function em(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xt(e.nextSibling),e===null))return null;return e}function Wc(e){return e.data==="$?"||e.data==="$~"}function Pc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fx(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var eo=null;function tm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Xt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function am(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function lm(e,t,a){switch(t=Ei(a),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function fs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ar(e)}var Zt=new Map,nm=new Set;function Ai(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ma=T.d;T.d={f:$x,r:Wx,D:Px,C:eg,L:tg,m:ag,X:ng,S:lg,M:sg};function $x(){var e=Ma.f(),t=bi();return e||t}function Wx(e){var t=Dl(e);t!==null&&t.tag===5&&t.type==="form"?vu(t):Ma.r(e)}var hn=typeof document>"u"?null:document;function sm(e,t,a){var n=hn;if(n&&typeof t=="string"&&t){var i=Ht(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),nm.has(i)||(nm.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),mt(t,"link",e),it(t),n.head.appendChild(t)))}}function Px(e){Ma.D(e),sm("dns-prefetch",e,null)}function eg(e,t){Ma.C(e,t),sm("preconnect",e,t)}function tg(e,t,a){Ma.L(e,t,a);var n=hn;if(n&&e&&t){var i='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+Ht(a.imageSizes)+'"]')):i+='[href="'+Ht(e)+'"]';var r=i;switch(t){case"style":r=xn(e);break;case"script":r=gn(e)}Zt.has(r)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zt.set(r,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(ms(r))||t==="script"&&n.querySelector(hs(r))||(t=n.createElement("link"),mt(t,"link",e),it(t),n.head.appendChild(t)))}}function ag(e,t){Ma.m(e,t);var a=hn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Ht(n)+'"][href="'+Ht(e)+'"]',r=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=gn(e)}if(!Zt.has(r)&&(e=S({rel:"modulepreload",href:e},t),Zt.set(r,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hs(r)))return}n=a.createElement("link"),mt(n,"link",e),it(n),a.head.appendChild(n)}}}function lg(e,t,a){Ma.S(e,t,a);var n=hn;if(n&&e){var i=zl(n).hoistableStyles,r=xn(e);t=t||"default";var o=i.get(r);if(!o){var f={loading:0,preload:null};if(o=n.querySelector(ms(r)))f.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zt.get(r))&&to(e,a);var b=o=n.createElement("link");it(b),mt(b,"link",e),b._p=new Promise(function(R,G){b.onload=R,b.onerror=G}),b.addEventListener("load",function(){f.loading|=1}),b.addEventListener("error",function(){f.loading|=2}),f.loading|=4,Ti(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:f},i.set(r,o)}}}function ng(e,t){Ma.X(e,t);var a=hn;if(a&&e){var n=zl(a).hoistableScripts,i=gn(e),r=n.get(i);r||(r=a.querySelector(hs(i)),r||(e=S({src:e,async:!0},t),(t=Zt.get(i))&&ao(e,t),r=a.createElement("script"),it(r),mt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(i,r))}}function sg(e,t){Ma.M(e,t);var a=hn;if(a&&e){var n=zl(a).hoistableScripts,i=gn(e),r=n.get(i);r||(r=a.querySelector(hs(i)),r||(e=S({src:e,async:!0,type:"module"},t),(t=Zt.get(i))&&ao(e,t),r=a.createElement("script"),it(r),mt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(i,r))}}function im(e,t,a,n){var i=(i=re.current)?Ai(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=xn(a.href),a=zl(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=xn(a.href);var r=zl(i).hoistableStyles,o=r.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,o),(r=i.querySelector(ms(e)))&&!r._p&&(o.instance=r,o.state.loading=5),Zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zt.set(e,a),r||ig(i,e,a,o.state))),t&&n===null)throw Error(d(528,""));return o}if(t&&n!==null)throw Error(d(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gn(a),a=zl(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function xn(e){return'href="'+Ht(e)+'"'}function ms(e){return'link[rel="stylesheet"]['+e+"]"}function rm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ig(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),mt(t,"link",a),it(t),e.head.appendChild(t))}function gn(e){return'[src="'+Ht(e)+'"]'}function hs(e){return"script[async]"+e}function cm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(n)return t.instance=n,it(n),n;var i=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),it(n),mt(n,"style",i),Ti(n,a.precedence,e),t.instance=n;case"stylesheet":i=xn(a.href);var r=e.querySelector(ms(i));if(r)return t.state.loading|=4,t.instance=r,it(r),r;n=rm(a),(i=Zt.get(i))&&to(n,i),r=(e.ownerDocument||e).createElement("link"),it(r);var o=r;return o._p=new Promise(function(f,b){o.onload=f,o.onerror=b}),mt(r,"link",n),t.state.loading|=4,Ti(r,a.precedence,e),t.instance=r;case"script":return r=gn(a.src),(i=e.querySelector(hs(r)))?(t.instance=i,it(i),i):(n=a,(i=Zt.get(r))&&(n=S({},a),ao(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),it(i),mt(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ti(n,a.precedence,e));return t.instance}function Ti(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,r=i,o=0;o<n.length;o++){var f=n[o];if(f.dataset.precedence===t)r=f;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function to(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ao(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Mi=null;function om(e,t,a){if(Mi===null){var n=new Map,i=Mi=new Map;i.set(a,n)}else i=Mi,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var r=a[i];if(!(r[Mn]||r[Qe]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var o=r.getAttribute(t)||"";o=e+o;var f=n.get(o);f?f.push(r):n.set(o,[r])}}return n}function dm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function rg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function um(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cg(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=xn(n.href),r=t.querySelector(ms(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ki.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,it(r);return}r=t.ownerDocument||t,n=rm(n),(i=Zt.get(i))&&to(n,i),r=r.createElement("link"),it(r);var o=r;o._p=new Promise(function(f,b){o.onload=f,o.onerror=b}),mt(r,"link",n),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ki.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var lo=0;function og(e,t){return e.stylesheets&&e.count===0&&Oi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Oi(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&lo===0&&(lo=62500*Vx());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oi(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>lo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function ki(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ri=null;function Oi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ri=new Map,t.forEach(dg,e),Ri=null,ki.call(e))}function dg(e,t){if(!(t.state.loading&4)){var a=Ri.get(e);if(a)var n=a.get(null);else{a=new Map,Ri.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var o=i[r];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),n=o)}n&&a.set(null,n)}i=t.instance,o=i.getAttribute("data-precedence"),r=a.get(o)||n,r===n&&a.set(null,i),a.set(o,i),this.count++,n=ki.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var xs={$$typeof:V,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function ug(e,t,a,n,i,r,o,f,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function fm(e,t,a,n,i,r,o,f,b,R,G,X){return e=new ug(e,t,a,o,b,R,G,X,f),t=1,r===!0&&(t|=24),r=kt(3,null,null,t),e.current=r,r.stateNode=e,t=zr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:n,isDehydrated:a,cache:t},qr(r),e}function mm(e){return e?(e=Xl,e):Xl}function hm(e,t,a,n,i,r){i=mm(i),n.context===null?n.context=i:n.pendingContext=i,n=qa(t),n.payload={element:a},r=r===void 0?null:r,r!==null&&(n.callback=r),a=Ya(e,n,t),a!==null&&(Et(a,e,t),Zn(a,e,t))}function xm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function no(e,t){xm(e,t),(e=e.alternate)&&xm(e,t)}function gm(e){if(e.tag===13||e.tag===31){var t=hl(e,67108864);t!==null&&Et(t,e,67108864),no(e,67108864)}}function pm(e){if(e.tag===13||e.tag===31){var t=zt();t=Oa(t);var a=hl(e,t);a!==null&&Et(a,e,t),no(e,t)}}var Li=!0;function fg(e,t,a,n){var i=v.T;v.T=null;var r=T.p;try{T.p=2,so(e,t,a,n)}finally{T.p=r,v.T=i}}function mg(e,t,a,n){var i=v.T;v.T=null;var r=T.p;try{T.p=8,so(e,t,a,n)}finally{T.p=r,v.T=i}}function so(e,t,a,n){if(Li){var i=io(n);if(i===null)Qc(e,t,n,Di,a),bm(e,n);else if(xg(i,e,t,a,n))n.stopPropagation();else if(bm(e,n),t&4&&-1<hg.indexOf(e)){for(;i!==null;){var r=Dl(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var o=$t(r.pendingLanes);if(o!==0){var f=r;for(f.pendingLanes|=2,f.entangledLanes|=2;o;){var b=1<<31-yt(o);f.entanglements[1]|=b,o&=~b}da(r),(De&6)===0&&(pi=ot()+500,os(0))}}break;case 31:case 13:f=hl(r,2),f!==null&&Et(f,r,2),bi(),no(r,2)}if(r=io(n),r===null&&Qc(e,t,n,Di,a),r===i)break;i=r}i!==null&&n.stopPropagation()}else Qc(e,t,n,null,a)}}function io(e){return e=cr(e),ro(e)}var Di=null;function ro(e){if(Di=null,e=Ll(e),e!==null){var t=y(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=j(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Di=e,null}function ym(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($i()){case _s:return 2;case Cs:return 8;case Ra:case En:return 32;case Es:return 268435456;default:return 32}default:return 32}}var co=!1,Wa=null,Pa=null,el=null,gs=new Map,ps=new Map,tl=[],hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bm(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":el=null;break;case"pointerover":case"pointerout":gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(t.pointerId)}}function ys(e,t,a,n,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Dl(t),t!==null&&gm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xg(e,t,a,n,i){switch(t){case"focusin":return Wa=ys(Wa,e,t,a,n,i),!0;case"dragenter":return Pa=ys(Pa,e,t,a,n,i),!0;case"mouseover":return el=ys(el,e,t,a,n,i),!0;case"pointerover":var r=i.pointerId;return gs.set(r,ys(gs.get(r)||null,e,t,a,n,i)),!0;case"gotpointercapture":return r=i.pointerId,ps.set(r,ys(ps.get(r)||null,e,t,a,n,i)),!0}return!1}function vm(e){var t=Ll(e.target);if(t!==null){var a=y(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Tn(e.priority,function(){pm(a)});return}}else if(t===31){if(t=j(a),t!==null){e.blockedOn=t,Tn(e.priority,function(){pm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=io(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);rr=n,a.target.dispatchEvent(n),rr=null}else return t=Dl(a),t!==null&&gm(t),e.blockedOn=a,!1;t.shift()}return!0}function jm(e,t,a){zi(e)&&a.delete(t)}function gg(){co=!1,Wa!==null&&zi(Wa)&&(Wa=null),Pa!==null&&zi(Pa)&&(Pa=null),el!==null&&zi(el)&&(el=null),gs.forEach(jm),ps.forEach(jm)}function Ui(e,t){e.blockedOn===t&&(e.blockedOn=null,co||(co=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,gg)))}var Bi=null;function Nm(e){Bi!==e&&(Bi=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bi===e&&(Bi=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(ro(n||a)===null)continue;break}var r=Dl(a);r!==null&&(e.splice(t,3),t-=3,ic(r,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function pn(e){function t(b){return Ui(b,e)}Wa!==null&&Ui(Wa,e),Pa!==null&&Ui(Pa,e),el!==null&&Ui(el,e),gs.forEach(t),ps.forEach(t);for(var a=0;a<tl.length;a++){var n=tl[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<tl.length&&(a=tl[0],a.blockedOn===null);)vm(a),a.blockedOn===null&&tl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],r=a[n+1],o=i[jt]||null;if(typeof r=="function")o||Nm(a);else if(o){var f=null;if(r&&r.hasAttribute("formAction")){if(i=r,o=r[jt]||null)f=o.formAction;else if(ro(i)!==null)continue}else f=o.action;typeof f=="function"?a[n+1]=f:(a.splice(n,3),n-=3),Nm(a)}}}function Sm(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function oo(e){this._internalRoot=e}Hi.prototype.render=oo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var a=t.current,n=zt();hm(a,n,e,t,null,null)},Hi.prototype.unmount=oo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hm(e.current,2,null,e,null,null),bi(),t[Ol]=null}};function Hi(e){this._internalRoot=e}Hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<tl.length&&t!==0&&t<tl[a].priority;a++);tl.splice(a,0,e),a===0&&vm(e)}};var wm=c.version;if(wm!=="19.2.0")throw Error(d(527,wm,"19.2.0"));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=x(t),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var pg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:v,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qi.isDisabled&&qi.supportsFiber)try{cl=qi.inject(pg),ht=qi}catch{}}return vs.createRoot=function(e,t){if(!m(e))throw Error(d(299));var a=!1,n="",i=Mu,r=ku,o=Ru;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=fm(e,1,!1,null,null,a,n,null,i,r,o,Sm),e[Ol]=t.current,Ic(e),new oo(t)},vs.hydrateRoot=function(e,t,a){if(!m(e))throw Error(d(299));var n=!1,i="",r=Mu,o=ku,f=Ru,b=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),t=fm(e,1,!0,t,a??null,n,i,b,r,o,f,Sm),t.context=mm(null),a=t.current,n=zt(),n=Oa(n),i=qa(n),i.callback=null,Ya(a,i,n),a=n,t.current.lanes=a,fe(t,a),da(t),e[Ol]=t.current,Ic(e),new Hi(t)},vs.version="19.2.0",vs}var Lm;function Eg(){if(Lm)return mo.exports;Lm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),mo.exports=Cg(),mo.exports}var Ag=Eg();const Tg=Im(Ag);var xe=(s=>(s[s.SPLASH=0]="SPLASH",s[s.AUTH=1]="AUTH",s[s.HOME=2]="HOME",s[s.SEARCH=3]="SEARCH",s[s.PRODUCT_DETAIL=4]="PRODUCT_DETAIL",s[s.WISHLIST=5]="WISHLIST",s[s.CART=6]="CART",s[s.CHECKOUT=7]="CHECKOUT",s[s.ORDER_CONFIRMATION=8]="ORDER_CONFIRMATION",s[s.PROFILE=9]="PROFILE",s[s.ADMIN=10]="ADMIN",s[s.ADMIN_LOGIN=11]="ADMIN_LOGIN",s[s.COLLECTIONS=12]="COLLECTIONS",s[s.COLLECTION_DETAIL=13]="COLLECTION_DETAIL",s[s.VENDOR_REGISTRATION=14]="VENDOR_REGISTRATION",s[s.BRAND_STORE=15]="BRAND_STORE",s[s.MLM_DASHBOARD=16]="MLM_DASHBOARD",s))(xe||{}),ua=(s=>(s.ADMIN="admin",s.CUSTOMER="customer",s.AFFILIATE="affiliate",s.VENDOR="vendor",s.BRAND="brand",s))(ua||{});const po=()=>l.jsx("div",{className:"flex items-center justify-center h-screen bg-brand-bg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-6xl md:text-8xl font-bold text-brand-dark tracking-tighter animate-pulse",children:"Shauq"}),l.jsx("p",{className:"text-lg text-gray-500 mt-2",children:"Discover Your Passion"})]})}),Mg=({onToggleView:s,onLoginAttempt:c})=>{const[u,d]=p.useState(""),[m,y]=p.useState(""),[h,j]=p.useState(""),g=x=>{if(x.preventDefault(),j(""),!u||!m){j("Please fill in all fields.");return}if(!/\S+@\S+\.\S+/.test(u)){j("Please enter a valid email address.");return}c({email:u,password:m})};return l.jsxs("form",{onSubmit:g,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx("input",{type:"email",placeholder:"Email Address",value:u,onChange:x=>d(x.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),l.jsx("div",{children:l.jsx("input",{type:"password",placeholder:"Password",value:m,onChange:x=>y(x.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})})]}),h&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),l.jsx("div",{className:"flex justify-end items-center",children:l.jsx("a",{href:"#",className:"text-sm font-medium text-blue-600 hover:underline",children:"Forgot Password?"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{type:"submit",className:"w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Log In"}),l.jsx("button",{type:"button",onClick:s,className:"w-full border border-brand-dark text-brand-dark font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Create account"})]})]})},kg=({onToggleView:s,onSignupAttempt:c})=>{const[u,d]=p.useState(""),[m,y]=p.useState(""),[h,j]=p.useState(""),[g,x]=p.useState(""),[C,S]=p.useState(""),[z,D]=p.useState(""),E=K=>{if(K.preventDefault(),D(""),!u||!m||!g||!C){D("Please fill in all fields.");return}if(g!==C){D("Passwords do not match.");return}if(g.length<6){D("Password must be at least 6 characters long.");return}c({name:u,email:m,password:g,phone:h||void 0})};return l.jsxs("form",{onSubmit:E,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx("input",{type:"text",placeholder:"Full Name",value:u,onChange:K=>d(K.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),l.jsx("div",{children:l.jsx("input",{type:"email",placeholder:"Email Address",value:m,onChange:K=>y(K.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),l.jsx("div",{children:l.jsx("input",{type:"tel",placeholder:"Phone (optional)",value:h,onChange:K=>j(K.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),l.jsx("div",{children:l.jsx("input",{type:"password",placeholder:"Password",value:g,onChange:K=>x(K.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),l.jsx("div",{children:l.jsx("input",{type:"password",placeholder:"Confirm Password",value:C,onChange:K=>S(K.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})})]}),z&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:z}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{type:"submit",className:"w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Create Account"}),l.jsx("button",{type:"button",onClick:s,className:"w-full border border-brand-dark text-brand-dark font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Log in instead"})]})]})},Xm=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),Rg=({onLoginAttempt:s,onSignupAttempt:c,onSkip:u,defaultView:d="login"})=>{const[m,y]=p.useState(d==="login");Qm.useEffect(()=>{y(d==="login")},[d]);const h=()=>{y(!m)};return l.jsx("div",{className:"fixed inset-0 bg-brand-bg flex items-center justify-center p-4 bg-opacity-70 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8 md:p-12 space-y-6 animate-fade-in-up",children:[l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx(Xm,{}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-brand-dark",children:m?"Welcome Back to Shauq":"Create Your Shauq Account"})]}),m?l.jsx(Mg,{onToggleView:h,onLoginAttempt:s}):l.jsx(kg,{onToggleView:h,onSignupAttempt:c}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:u,className:"text-sm text-gray-500 hover:text-brand-dark hover:underline focus:outline-none",children:"Not now"})})]})})},Yi=[{image:"https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?q=80&w=1920&auto=format&fit=crop",caption:"Explore our latest collection and discover amazing styles at great prices."},{image:"https://images.unsplash.com/photo-1492707892479-7bc8d5a4ee93?q=80&w=1920&auto=format&fit=crop",caption:"Unleash your inner fashionista with our new arrivals."},{image:"https://images.unsplash.com/photo-1551803091-e206d0b545f2?q=80&w=1920&auto=format&fit=crop",caption:"Quality and style, delivered right to your doorstep."}],Og=()=>{const[s,c]=p.useState(0),u=p.useRef(null),d=()=>{u.current&&clearTimeout(u.current)};p.useEffect(()=>(d(),u.current=window.setTimeout(()=>c(y=>y===Yi.length-1?0:y+1),4e3),()=>{d()}),[s]);const m=y=>{c(y)};return l.jsxs("section",{className:"relative aspect-video lg:aspect-[16/7] w-full rounded-2xl overflow-hidden shadow-lg animate-scale-in",children:[Yi.map((y,h)=>l.jsx("div",{className:`absolute top-0 left-0 w-full h-full transition-all duration-1000 ease-in-out ${h===s?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:l.jsx("img",{src:y.image,alt:`Slide ${h+1}`,className:"w-full h-full object-cover"})},h)),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent w-1/2"}),l.jsx("div",{className:"absolute bottom-0 left-0 p-8 md:p-12 text-white",children:l.jsxs("div",{className:"max-w-md space-y-4",children:[l.jsx("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg",children:l.jsx("p",{className:"text-lg md:text-xl font-medium leading-relaxed",children:Yi[s].caption})}),l.jsx("button",{className:"bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black/50 focus:ring-white transition-colors",children:"Shop the Collection"})]})}),l.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-2",children:Yi.map((y,h)=>l.jsx("button",{onClick:()=>m(h),className:`h-2 rounded-full transition-all duration-300 ${s===h?"w-5 bg-white":"w-2 bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${h+1}`},h))})]})},jn=({className:s=""})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 ${s}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),Zm=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})}),Km=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Ss=({product:s,index:c,onProductSelect:u,isWishlisted:d,onToggleWishlist:m,onAddToCart:y,onOpenQuickView:h})=>{const j=C=>{C.stopPropagation(),m(s.id)},g=C=>{C.stopPropagation(),y(s,1)},x=C=>{C.stopPropagation(),h(s)};return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden group opacity-0 animate-fade-in-up relative cursor-pointer",style:{animationDelay:`${c*60}ms`},onClick:()=>u(s),children:[l.jsxs("div",{className:"relative aspect-[1/1] bg-gray-100",children:[l.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover",onError:C=>{C.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'},loading:"lazy"}),l.jsx("button",{onClick:j,className:"absolute top-3 right-3 p-1.5 bg-white/70 backdrop-blur-sm rounded-full text-gray-500 hover:text-red-500 transition-colors z-20","aria-label":"Toggle Wishlist",children:l.jsx(jn,{className:`w-5 h-5 ${d?"text-red-500 fill-current":""}`})}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center z-10",children:l.jsxs("button",{onClick:x,className:"opacity-0 group-hover:opacity-100 transform group-hover:scale-100 scale-90 transition-all duration-300 bg-white text-brand-dark font-semibold py-2 px-4 rounded-full flex items-center space-x-2 shadow-lg","aria-label":"Quick View",children:[l.jsx(Km,{}),l.jsx("span",{children:"Quick View"})]})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-medium text-brand-dark truncate",children:s.name}),l.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-baseline space-x-1",children:[l.jsxs("p",{className:"text-brand-dark font-bold text-base",children:["Rs. ",s.price]}),s.originalPrice&&l.jsxs("p",{className:"text-xs text-brand-secondary line-through",children:["Rs. ",s.originalPrice]})]}),l.jsx("button",{onClick:g,className:"h-8 w-8 bg-brand-dark text-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform z-10",children:l.jsx(Zm,{})})]})]})]})},Lg=({products:s,onProductSelect:c,wishlist:u,onToggleWishlist:d,onAddToCart:m,onOpenQuickView:y,onSeeAll:h})=>{const j=s.slice(0,4);return l.jsxs("section",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"300ms"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Featured Products"}),l.jsx("button",{type:"button",onClick:h,className:"text-sm font-semibold text-brand-secondary hover:text-brand-dark transition",children:"See All"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:j.map((g,x)=>l.jsx(Ss,{product:g,index:x,onProductSelect:c,isWishlisted:u.includes(g.id),onToggleWishlist:d,onAddToCart:m,onOpenQuickView:y},g.id))})]})},Dm=["from-purple-400 to-indigo-500","from-gray-500 to-gray-700","from-purple-400 to-indigo-500","from-gray-500 to-gray-700"],Dg=({category:s,index:c,onClick:u})=>{const d=Dm[c%Dm.length];return l.jsxs("button",{type:"button",onClick:u,className:`relative p-4 h-24 rounded-[20px] bg-gradient-to-br ${d} flex items-center space-x-3 text-white overflow-hidden opacity-0 animate-fade-in-up transform hover:-translate-y-1 transition-transform duration-300 focus:outline-none focus:ring-2 focus:ring-white/40`,style:{animationDelay:`${c*60}ms`},children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-white/30 rounded-full flex items-center justify-center",children:s.icon}),l.jsx("span",{className:"font-bold text-base",children:s.name})]})},zg=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h8v1a2 2 0 01-2 2H10a2 2 0 01-2-2V7z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7l-3 5h14l-3-5"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12l2 7h10l2-7"})]}),Ug=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v-2a2 2 0 012-2h12a2 2 0 012 2v2M4 16l1.2-4.8a2 2 0 012-1.2h9.6a2 2 0 012 1.2L20 16"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16h16"})]}),Jm=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7h.01M7 3h5a2 2 0 012 2v5a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2zm0 0v.01"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 11h5a2 2 0 012 2v5a2 2 0 01-2 2h-5a2 2 0 01-2-2v-5a2 2 0 012-2z"})]}),Bg="https://api.shauqse.com/api/v1",ka={BASE_URL:Bg,ENDPOINTS_PREFIX:"/shauqse",TIMEOUTS:{RECEIVE:25e3},DEFAULT_HEADERS:{Accept:"application/json","app-iss":"shauqse.app","Content-Type":"application/json"}},ce=(s,c)=>{if(c.startsWith("http"))return c;const u=s.endsWith("/")?s.slice(0,-1):s,d=c.startsWith("/")?c.slice(1):c;return`${u}/${d}`},gt=class gt{static saveToken(c){localStorage.setItem(gt.TOKEN_KEY,c)}static getToken(){return localStorage.getItem(gt.TOKEN_KEY)}static clearToken(){localStorage.removeItem(gt.TOKEN_KEY)}static saveBackendUser(c){try{localStorage.setItem(gt.USER_KEY,JSON.stringify(c))}catch(u){console.error("Failed to save backend user:",u)}}static getBackendUser(){const c=localStorage.getItem(gt.USER_KEY);if(c)try{return JSON.parse(c)}catch(u){return console.error("Failed to parse backend user from storage:",u),null}return null}static clearBackendUser(){localStorage.removeItem(gt.USER_KEY)}static clearAll(){gt.clearToken(),gt.clearBackendUser()}static saveUiState(c,u){try{localStorage.setItem(`${gt.UI_STATE_PREFIX}${c}`,JSON.stringify(u))}catch(d){console.error(`Failed to save UI state for key ${c}:`,d)}}static getUiState(c){const u=localStorage.getItem(`${gt.UI_STATE_PREFIX}${c}`);if(u)try{return JSON.parse(u)}catch(d){return console.error(`Failed to parse UI state for key ${c}:`,d),null}return null}static clearUiState(c){localStorage.removeItem(`${gt.UI_STATE_PREFIX}${c}`)}};gt.TOKEN_KEY="shauq_access_token",gt.USER_KEY="shauq_backend_user",gt.UI_STATE_PREFIX="shauq_ui_";let We=gt;class vt extends Error{constructor(c){super(c),this.name=this.constructor.name}}class Zi extends vt{constructor(c="Network error. Please check your connection."){super(c)}}class Hg extends vt{constructor(c="An unexpected error occurred on the server."){super(c)}}class So extends vt{}class wo extends vt{constructor(c="Authentication failed. Please log in again."){super(c)}}class qg extends vt{constructor(c="You do not have permission to perform this action."){super(c)}}let Yg=class extends vt{constructor(c="The requested resource was not found."){super(c)}};class Gg extends vt{}class Vg extends vt{constructor(c="An unknown error occurred."){super(c)}}const Fm=s=>{if(typeof s!="object"||s===null)return"Invalid error response format";if(typeof s.message=="string"&&s.message)return s.message;if(typeof s.error=="string"&&s.error)return s.error;if(typeof s.detail=="string"&&s.detail)return s.detail;if(typeof s.msg=="string"&&s.msg)return s.msg;if(Array.isArray(s.errors))return s.errors.join(", ");if(typeof s.errors=="object"&&s.errors!==null){const c=Object.values(s.errors).flat().filter(u=>typeof u=="string");if(c.length>0)return c.join(", ")}return"An unknown error occurred."},$m=(s,c)=>s===400?new So(c):s===401?new wo(c):s===403?new qg(c):s===404?new Yg(c):s===409?new Gg(c):s>=500?new Hg(c):new Vg(c),Wm=(s,c,u,d)=>{},sl=(s,c)=>{},Ns=async(s,c,u={},d=!1,m)=>{const y=new AbortController,h=m||ka.TIMEOUTS.RECEIVE,j=setTimeout(()=>y.abort(),h),g=new Headers(d?{Accept:"application/json"}:ka.DEFAULT_HEADERS);if(!d){const C=We.getToken();C&&g.set("Authorization",`Bearer ${C}`)}u.headers&&new Headers(u.headers).forEach((C,S)=>{g.set(S,C)});const x={...u,method:s,headers:g,signal:y.signal};Wm(s,c,g,u.body);try{const C=await fetch(c,x);if(clearTimeout(j),!C.ok){let D;try{D=await C.json()}catch{D={message:`Request failed with status code ${C.status}`}}sl(C.status,D);const E=Fm(D);throw $m(C.status,E)}const S=C.headers.get("content-type");if(S&&S.includes("application/json")){if(C.status===204)return sl(C.status,null),null;const D=await C.json();return sl(C.status,D),D}const z=await C.text();return sl(C.status,z),z}catch(C){throw clearTimeout(j),C instanceof vt?C:C instanceof Error&&C.name==="AbortError"?new Zi("The request timed out."):new Zi("A network error occurred.")}},Ig=(s,c)=>c==="application/x-www-form-urlencoded"?new URLSearchParams(s).toString():c.includes("application/json")?JSON.stringify(s):s,yn=(s,c)=>(u,d,m,y)=>{const h=c?"application/json":ka.DEFAULT_HEADERS["Content-Type"],j=new Headers(m);j.has("Content-Type")||j.set("Content-Type",h);const g=j.get("Content-Type")||h,x=Ig(d,g);return Ns(s,u,{body:x,headers:j},c,y)},Qg=async(s,c,u={},d=!1,m)=>{const y=new AbortController,h=m||ka.TIMEOUTS.RECEIVE,j=setTimeout(()=>y.abort(),h),g=new Headers(d?{Accept:"application/json"}:ka.DEFAULT_HEADERS),x=We.getToken();!d&&x&&g.set("Authorization",`Bearer ${x}`),u.headers&&new Headers(u.headers).forEach((S,z)=>g.set(z,S));const C={...u,method:s,headers:g,signal:y.signal};Wm(s,c,g,u.body);try{const S=await fetch(c,C);clearTimeout(j);const z={};if(S.headers.forEach((K,ae)=>z[ae.toLowerCase()]=K),!S.ok){let K;try{K=await S.json()}catch{K={message:`Request failed with status code ${S.status}`}}sl(S.status,K);const ae=Fm(K);throw $m(S.status,ae)}const D=S.headers.get("content-type");if(D&&D.includes("application/json")){if(S.status===204)return sl(S.status,null),{data:null,headers:z,status:S.status};const K=await S.json();return sl(S.status,K),{data:K,headers:z,status:S.status}}const E=await S.text();return sl(S.status,E),{data:E,headers:z,status:S.status}}catch(S){throw clearTimeout(j),S instanceof vt?S:S instanceof Error&&S.name==="AbortError"?new Zi("The request timed out."):new Zi("A network error occurred.")}},P={get:(s,c,u)=>Ns("GET",s,{headers:c},!1,u),post:yn("POST",!1),put:yn("PUT",!1),patch:yn("PATCH",!1),delete:(s,c,u)=>Ns("DELETE",s,{headers:c},!1,u),getRaw:(s,c,u)=>Ns("GET",s,{headers:c},!0,u),postRaw:yn("POST",!0),putRaw:yn("PUT",!0),patchRaw:yn("PATCH",!0),deleteRaw:(s,c,u)=>Ns("DELETE",s,{headers:c},!0,u),getWithMeta:(s,c,u)=>Qg("GET",s,{headers:c},!1,u)},oe=ce(ka.BASE_URL,ka.ENDPOINTS_PREFIX),W={LOGIN:ce(oe,"/auth/login"),REGISTER:ce(oe,"/auth/register"),PROFILE:ce(oe,"/auth/profile"),VERIFY:ce(oe,"/auth/verify"),LOGOUT:ce(oe,"/auth/logout"),PRODUCTS_GET:ce(oe,"/products/get"),PRODUCT_BY_ID:s=>ce(oe,`/products/get/${s}`),PRODUCTS:ce(oe,"/products"),PRODUCT_IMAGES:s=>ce(oe,`/products/${s}/images`),REORDER_PRODUCT_IMAGES:s=>ce(oe,`/products/${s}/images/reorder`),DELETE_PRODUCT_IMAGE:(s,c)=>ce(oe,`/products/${s}/images/${c}`),PRODUCT_REVIEWS:s=>ce(oe,`/products/${s}/reviews`),ADD_PRODUCT_REVIEW:s=>ce(oe,`/products/${s}/reviews`),CATEGORIES_GET:ce(oe,"/categories/get"),CATEGORY_BY_ID:s=>ce(oe,`/categories/${s}`),CATEGORIES:ce(oe,"/categories"),WISHLIST:ce(oe,"/wishlist"),WISHLIST_ITEM:s=>ce(oe,`/wishlist/${s}`),CART:ce(oe,"/cart"),CART_ITEM:s=>ce(oe,`/cart/${s}`),CART_CLEAR:ce(oe,"/cart/clear"),CART_SUMMARY:ce(oe,"/cart/summary"),ORDERS:ce(oe,"/orders"),AFFILIATE_ORDERS:ce(oe,"/orders/affiliate"),ORDER_BY_ID:s=>ce(oe,`/orders/${s}`),ORDER_BY_ORDER_ID:s=>ce(oe,`/orders/order/${s}`),UPDATE_ORDER_STATUS:s=>ce(oe,`/orders/${s}/status`),AFFILIATE_BALANCE:ce(oe,"/affiliate/balance"),AFFILIATE_COMMISSIONS:ce(oe,"/affiliate/commissions"),AFFILIATE_CUSTOMERS:ce(oe,"/affiliate/customers__"),AFFILIATE_WITHDRAWALS:ce(oe,"/affiliate/withdrawals"),ADMIN_AFFILIATE_USERS:ce(oe,"/admin/affiliate/users"),ADMIN_AFFILIATE_USER_CUSTOMERS:s=>ce(oe,`/admin/affiliate/users/${s}/customers`),ADMIN_AFFILIATE_USER_ORDERS:s=>ce(oe,`/admin/affiliate/users/${s}/orders`),ADMIN_AFFILIATE_COMMISSIONS:ce(oe,"/admin/affiliate/commissions"),ADMIN_AFFILIATE_WITHDRAWALS:ce(oe,"/admin/affiliate/withdrawals"),ADMIN_UPDATE_WITHDRAWAL:s=>ce(oe,`/admin/affiliate/withdrawals/${s}`),BRANDS:ce(oe,"/brands"),BRAND_BY_ID:s=>ce(oe,`/brands/${s}`),ADMIN_BRANDS:ce(oe,"/admin/brands"),ADMIN_BRAND_BY_ID:s=>ce(oe,`/admin/brands/${s}`),VENDORS:ce(oe,"/vendors"),VENDOR_REGISTER:ce(oe,"/vendors/register"),VENDOR_BY_USER:s=>ce(oe,`/vendors/user/${s}`),VENDOR_BY_SLUG:s=>ce(oe,`/vendors/slug/${s}`),VENDOR_UPDATE:ce(oe,"/vendors/update"),VENDOR_AVAILABLE_PRODUCTS:s=>ce(oe,`/vendors/${s}/available-products`),VENDOR_CROSS_SELL_COMMISSIONS:s=>ce(oe,`/vendors/${s}/cross-sell-commissions`),STORE_BY_SLUG:s=>ce(oe,`/stores/${s}`),STORE_COLLECTIONS:s=>ce(oe,`/stores/${s}/collections`),COLLECTIONS:ce(oe,"/collections"),COLLECTION_BY_ID:s=>ce(oe,`/collections/${s}`),ADMIN_COLLECTIONS:ce(oe,"/admin/collections"),ADMIN_COLLECTION_BY_ID:s=>ce(oe,`/admin/collections/${s}`),CROSS_SELL_PRODUCTS:s=>ce(oe,`/vendors/${s}/available-products`),MLM_REFERRAL:ce(oe,"/mlm/referral"),MLM_REFERRAL_CODE:ce(oe,"/mlm/referral-code"),MLM_TREE:s=>ce(oe,`/mlm/tree/${s}`),MLM_BALANCE:s=>ce(oe,`/mlm/balance/${s}`),MLM_WITHDRAWALS:ce(oe,"/mlm/withdrawals"),ADMIN_MLM_WITHDRAWALS:ce(oe,"/admin/mlm/withdrawals"),ADMIN_MLM_WITHDRAWAL_PROCESS:s=>ce(oe,`/admin/mlm/withdrawals/${s}`),ADMIN_STAKEHOLDERS:ce(oe,"/admin/stakeholders"),ADMIN_STAKEHOLDER_BY_ID:s=>ce(oe,`/admin/stakeholders/${s}`),ADMIN_STAKEHOLDER_ALLOCATION:s=>ce(oe,`/admin/stakeholders/${s}/allocation`),ADMIN_STAKEHOLDER_SETTLEMENTS:s=>ce(oe,`/admin/stakeholders/${s}/settlements`),ADMIN_STAKEHOLDER_SETTLE:s=>ce(oe,`/admin/stakeholders/${s}/settle`),ADMIN_ALL_SETTLEMENTS:ce(oe,"/admin/stakeholders/settlements"),ADMIN_PROCESS_SETTLEMENT:s=>ce(oe,`/admin/stakeholders/settlements/${s}/process`),ADMIN_COMMISSION_SETTINGS:ce(oe,"/admin/commission-settings"),ADMIN_COMMISSION_SETTING_BY_KEY:s=>ce(oe,`/admin/commission-settings/${s}`),ADMIN_COMMISSION_SETTINGS_HISTORY:ce(oe,"/admin/commission-settings/history"),CLOUDINARY_SIGN:ce(oe,"/media/cloudinary/sign"),FINANCIAL_REASONS:ce(oe,"/financial/reasons"),FINANCIAL_BALANCE:ce(oe,"/financial/balance"),FINANCIAL_TRANSACTIONS:ce(oe,"/financial/transactions"),USER_BALANCE:ce(oe,"/user/balance"),USER_BALANCE_TRANSACTIONS:ce(oe,"/user/balance/transactions"),USER_BALANCE_STATISTICS:ce(oe,"/user/balance/statistics"),ADMIN_SIGNUP_REWARD_SETTINGS:ce(oe,"/admin/signup-reward-settings"),ADMIN_SIGNUP_REWARD_SETTINGS_TOGGLE:ce(oe,"/admin/signup-reward-settings/toggle")},ze=s=>{if(Array.isArray(s))return s;if(s&&typeof s=="object"){if(Array.isArray(s.results))return s.results;if(Array.isArray(s.data))return s.data}return console.warn("Could not normalize list response, returning empty array.",s),[]},Se=s=>s&&typeof s=="object"&&("data"in s&&s.data!==void 0||"success"in s&&s.success===!0&&"data"in s)?s.data:s;class Xg{constructor(){this.localToBackendMap=new Map,this.backendToLocalMap=new Map}updateMap(c){c.forEach(u=>{const d=u.backendId||String(u.id),m=u.id;m&&d&&(this.localToBackendMap.set(m,d),this.backendToLocalMap.set(d,m))})}getBackendId(c){const u=this.localToBackendMap.get(c);if(!u)throw console.error(`Backend ID not found for local product ID: ${c}. Ensure product data is loaded.`),new Error(`Backend ID mapping not found for product ${c}`);return u}getLocalId(c){return this.backendToLocalMap.get(c)}clear(){this.localToBackendMap.clear(),this.backendToLocalMap.clear()}}const Kt=new Xg,El={getCategories:async()=>{const s=await P.get(W.CATEGORIES_GET);return ze(s)},getCategoryById:async s=>{const c=await P.get(W.CATEGORY_BY_ID(s));return Se(c)},createCategory:async s=>{const c=await P.post(W.CATEGORIES,s);return Se(c)},updateCategory:async(s,c)=>{const u=await P.put(W.CATEGORY_BY_ID(s),c);return Se(u)},deleteCategory:async s=>{await P.delete(W.CATEGORY_BY_ID(s))}},Zg=Object.freeze(Object.defineProperty({__proto__:null,CategoryService:El},Symbol.toStringTag,{value:"Module"})),Ke=({size:s="md",text:c})=>{const u={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return l.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[l.jsx("div",{className:`${u[s]} border-4 border-gray-200 border-t-brand-dark rounded-full animate-spin`}),c&&l.jsx("p",{className:"text-sm text-brand-secondary",children:c})]})},Kg=s=>{const c=s.toLowerCase();return c.includes("apparel")||c.includes("clothing")||c.includes("wear")?l.jsx(zg,{}):c.includes("footwear")||c.includes("shoe")||c.includes("sneaker")?l.jsx(Ug,{}):l.jsx(Jm,{})},Jg=({onCategoryClick:s})=>{const[c,u]=p.useState([]),[d,m]=p.useState(!0),[y,h]=p.useState(null);return p.useEffect(()=>{(async()=>{m(!0),h(null);try{const x=(await El.getCategories()).filter(C=>C.is_active!==!1);u(x)}catch(g){console.error("Failed to load categories:",g),h("Failed to load categories"),u([])}finally{m(!1)}})()},[]),d?l.jsxs("section",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"500ms"},children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Shop by Category"})}),l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx(Ke,{size:"md",text:"Loading categories..."})})]}):y||c.length===0?l.jsxs("section",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"500ms"},children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Shop by Category"})}),l.jsx("div",{className:"text-center py-8 text-brand-secondary",children:y||"No categories available"})]}):l.jsxs("section",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"500ms"},children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Shop by Category"})}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map((j,g)=>l.jsx(Dg,{category:{name:j.name,icon:Kg(j.name)},index:g,onClick:()=>s&&s(j.id,j.name)},j.id))})]})},Eo={getAllBrands:async(s=!1)=>{let c=W.BRANDS;s&&(c+="?active_only=true");const u=await P.get(c);return ze(u)},getBrandById:async s=>{const c=await P.get(W.BRAND_BY_ID(String(s)));return Se(c)},createBrand:async s=>{const c=await P.post(W.ADMIN_BRANDS,s);return Se(c)},updateBrand:async(s,c)=>{const u=await P.put(W.ADMIN_BRAND_BY_ID(String(s)),c);return Se(u)},deleteBrand:async s=>{await P.delete(W.ADMIN_BRAND_BY_ID(String(s)))}},Fg=({onStoreSelect:s})=>{const[c,u]=p.useState([]),[d,m]=p.useState(!0);p.useEffect(()=>{y()},[]);const y=async()=>{try{const g=await Eo.getAllBrands(!0);u(g)}catch(g){console.error("Error loading brands:",g)}finally{m(!1)}},h=g=>g.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),j=g=>{const x=h(g.name);s(x)};return d?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Brands"}),l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(Ke,{text:"Loading brands..."})})]}):c.length===0?null:l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Brands"}),l.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:c.map(g=>{var S,z;const x=((S=g.theme_colors)==null?void 0:S.primary)||"#1F2937",C=(z=g.theme_colors)==null?void 0:z.secondary;return h(g.name),l.jsx("div",{onClick:()=>j(g),className:"flex-shrink-0 w-40 cursor-pointer group",children:l.jsxs("div",{className:"rounded-lg p-4 transition-transform hover:scale-105",style:{background:C?`linear-gradient(135deg, ${x}15, ${C}15)`:`${x}15`,border:`2px solid ${x}30`},children:[g.logo_url?l.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-lg overflow-hidden bg-white p-2",children:l.jsx("img",{src:g.logo_url,alt:g.name,className:"w-full h-full object-contain",onError:D=>{D.currentTarget.style.display="none"}})}):l.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-lg flex items-center justify-center text-white font-bold text-xl",style:{backgroundColor:x},children:g.name.charAt(0).toUpperCase()}),l.jsx("h3",{className:"text-sm font-bold text-brand-dark text-center truncate",children:g.name}),g.brand_tagline&&l.jsx("p",{className:"text-xs text-brand-secondary text-center mt-1 line-clamp-2",children:g.brand_tagline})]})},g.id)})})]})},yo=({products:s,onProductSelect:c,wishlist:u,onToggleWishlist:d,onAddToCart:m,onOpenQuickView:y,onNavigateToCollections:h,onStoreSelect:j,onCategorySelect:g,onSeeAllProducts:x})=>l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 space-y-8",children:[l.jsx(Og,{}),l.jsx(Lg,{products:s,onProductSelect:c,wishlist:u,onToggleWishlist:d,onAddToCart:m,onOpenQuickView:y,onSeeAll:x}),l.jsx(Jg,{onCategoryClick:g}),j&&l.jsx(Fg,{onStoreSelect:j}),h&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Recommended Collections"}),l.jsx("button",{onClick:h,className:"text-brand-dark hover:text-gray-700 font-semibold text-sm transition",children:"View All "})]}),l.jsx("p",{className:"text-brand-secondary mb-4",children:"Discover curated product collections"}),l.jsx("button",{onClick:h,className:"w-full md:w-auto bg-brand-dark text-white font-semibold py-3 px-8 rounded-full hover:bg-gray-700 transition",children:"Browse Collections"})]})]})}),Ao=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Pm=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),eh=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),zm=({onSearch:s,onLogoClick:c,onWishlistClick:u,wishlistCount:d,onCartClick:m,cartItemCount:y,onProfileClick:h,simplified:j=!1,initialQuery:g,isSignedIn:x=!1,userRole:C,onNavigateToAdmin:S,onTogglePublicView:z,isPublicView:D=!1})=>{const[E,K]=p.useState(g),[ae,le]=p.useState("Hello");p.useEffect(()=>{K(g)},[g]),p.useEffect(()=>{const V=setTimeout(()=>{E!==g&&s(E)},500);return()=>{clearTimeout(V)}},[E,s]),p.useEffect(()=>{const V=new Date().getHours();V<5?le("Good Night"):V<12?le("Good Morning"):V<17?le("Good Afternoon"):V<21?le("Good Evening"):le("Good Night")},[]);const Z=V=>{V.preventDefault(),s(E.trim())};return l.jsx("header",{className:"sticky top-0 z-50 animate-fade-in-up",style:{animationDelay:"100ms"},children:l.jsx("div",{className:"bg-brand-dark text-white rounded-b-2xl shadow-lg",children:l.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 h-20 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsx("button",{onClick:c,className:"text-3xl font-bold tracking-tight",children:"Shauq"}),!j&&l.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm",children:[ae,","]}),x&&l.jsx("span",{className:"text-sm font-semibold bg-white-24 px-3 py-1 rounded-full",children:"Signed in"})]})]}),!j&&l.jsx("div",{className:"flex-1 flex justify-center px-8 hidden lg:flex",children:l.jsxs("form",{onSubmit:Z,className:"w-full max-w-md",children:[l.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-white-70",children:l.jsx(Ao,{})}),l.jsx("input",{id:"search",name:"search",value:E,onChange:V=>K(V.target.value),className:"block w-full bg-white-08 border border-white-24 rounded-[24px] py-2.5 pl-11 pr-3 text-sm placeholder-white-70 focus:outline-none focus:bg-white-24 focus:ring-1 focus:ring-white transition",placeholder:"Search for products...",type:"search"})]})]})}),l.jsxs("div",{className:"flex items-center space-x-5",children:[!j&&(C===ua.ADMIN||C===ua.VENDOR||C===ua.BRAND)&&l.jsxs(l.Fragment,{children:[z&&l.jsx("button",{onClick:z,className:"px-3 py-1.5 text-sm font-medium bg-white-08 hover:bg-white-24 rounded-lg transition",title:D?"Switch to Admin Panel":"Switch to Public View",children:D?"Admin Panel":"Public View"}),S&&!D&&l.jsx("button",{onClick:S,className:"px-3 py-1.5 text-sm font-medium bg-white-08 hover:bg-white-24 rounded-lg transition",children:"Admin Panel"})]}),!j&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:u,className:`${d>0?"text-white":"text-gray-400"} hover:text-white transition`,children:l.jsx(jn,{})}),l.jsxs("button",{onClick:m,className:"relative text-white hover:text-white transition",children:[l.jsx(Pm,{}),y>0&&l.jsx("span",{className:"absolute -top-2 -right-2 flex items-center justify-center h-5 w-5 bg-red-500 text-xs font-bold rounded-full",children:y})]})]}),l.jsx("button",{onClick:h,className:"text-white",children:l.jsx(eh,{})})]})]})})})},Um=({label:s,isChecked:c,onChange:u})=>l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[l.jsx("div",{onClick:()=>u(!c),className:`h-5 w-5 border-2 rounded ${c?"bg-brand-dark border-brand-dark":"border-gray-300 bg-white"} flex items-center justify-center transition`,children:c&&l.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"text-sm text-gray-700",children:s})]}),bo=({title:s,children:c})=>l.jsxs("div",{className:"py-4 border-b border-gray-200 last:border-b-0",children:[l.jsx("h4",{className:"font-bold text-brand-dark mb-3",children:s}),l.jsx("div",{className:"space-y-2",children:c})]}),$g=({activeFilters:s,onFilterChange:c})=>{const u=["Apparel","Footwear","Accessories"],d=["S","M","L","XL"],m=(h,j)=>{const g=j?[...s.categories,h]:s.categories.filter(x=>x!==h);c({...s,categories:g})},y=(h,j)=>{const g=j?[...s.sizes,h]:s.sizes.filter(x=>x!==h);c({...s,sizes:g})};return l.jsxs("aside",{className:"bg-white rounded-xl shadow-md p-6 sticky top-28",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-gray-200",children:[l.jsx("h3",{className:"text-xl font-bold text-brand-dark",children:"Filter By"}),l.jsx("button",{onClick:()=>c({categories:[],sizes:[]}),className:"text-sm font-semibold text-gray-500 hover:text-brand-dark",children:"Clear"})]}),l.jsx(bo,{title:"Category",children:u.map(h=>l.jsx(Um,{label:h,isChecked:s.categories.includes(h),onChange:j=>m(h,j)},h))}),l.jsx(bo,{title:"Size",children:d.map(h=>l.jsx(Um,{label:h,isChecked:s.sizes.includes(h),onChange:j=>y(h,j)},h))}),l.jsx(bo,{title:"Price Range",children:l.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})})]})},Wg=({product:s,index:c,onProductSelect:u,isWishlisted:d,onToggleWishlist:m,onAddToCart:y,onOpenQuickView:h})=>{const j=C=>{C.stopPropagation(),m(s.id)},g=C=>{C.stopPropagation(),y(s,1)},x=C=>{C.stopPropagation(),h(s)};return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden flex items-center p-4 space-x-4 transition transform hover:shadow-lg hover:-translate-y-1 opacity-0 animate-fade-in-up cursor-pointer",style:{animationDelay:`${c*50}ms`},onClick:()=>u(s),children:[l.jsx("div",{className:"flex-shrink-0 h-28 w-28 rounded-lg overflow-hidden bg-gray-100",children:l.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"text-xs text-brand-secondary uppercase tracking-wide",children:s.category}),l.jsx("h3",{className:"text-lg font-bold text-brand-dark truncate",children:s.name}),l.jsx("p",{className:"text-sm text-gray-600 mt-1 hidden sm:block",children:s.description})]}),l.jsxs("div",{className:"flex-shrink-0 flex flex-col items-end justify-between self-stretch text-right",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:x,className:"text-gray-400 hover:text-brand-dark transition-colors z-10","aria-label":"Quick View",children:l.jsx(Km,{})}),l.jsx("button",{onClick:j,className:"text-gray-400 hover:text-red-500 transition-colors z-10","aria-label":"Toggle Wishlist",children:l.jsx(jn,{className:`w-6 h-6 ${d?"text-red-500 fill-current":""}`})}),l.jsx("button",{onClick:g,className:"h-9 w-9 bg-brand-dark text-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform z-10",children:l.jsx(Zm,{})})]}),l.jsxs("div",{className:"mt-2",children:[l.jsxs("p",{className:"text-brand-dark font-bold text-lg",children:["Rs. ",s.price]}),s.originalPrice&&l.jsxs("p",{className:"text-sm text-brand-secondary line-through",children:["Rs. ",s.originalPrice]})]})]})]})},Pg=()=>l.jsx("nav",{className:"flex items-center justify-center pt-8",children:l.jsxs("ul",{className:"flex items-center space-x-2",children:[l.jsx("li",{children:l.jsx("button",{className:"px-3 py-1 rounded-md text-sm font-bold bg-brand-dark text-white",children:"1"})}),l.jsx("li",{children:l.jsx("button",{className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-200",children:"2"})}),l.jsx("li",{children:l.jsx("button",{className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-200",children:"3"})}),l.jsx("li",{children:l.jsx("span",{className:"px-3 py-1 text-sm text-gray-400",children:"..."})}),l.jsx("li",{children:l.jsx("button",{className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-200",children:"8"})}),l.jsx("li",{children:l.jsx("button",{className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-200",children:"Next"})})]})}),e0=({className:s="h-5 w-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),pt=({onClick:s,className:c=""})=>l.jsxs("button",{onClick:s,className:`flex items-center space-x-2 text-sm font-semibold text-brand-secondary hover:text-brand-dark transition ${c}`,"aria-label":"Go back",children:[l.jsx(e0,{}),l.jsx("span",{children:"Back"})]}),t0=({query:s,products:c,onProductSelect:u,wishlist:d,onToggleWishlist:m,onAddToCart:y,onOpenQuickView:h,onGoBack:j,activeFilters:g,onFilterChange:x})=>{const C=p.useMemo(()=>{const S=s.toLowerCase();return(s?c.filter(D=>{var E;return D.name.toLowerCase().includes(S)||((E=D.category)==null?void 0:E.toLowerCase().includes(S))}):c).filter(D=>{const E=g.categories.length===0||D.category&&g.categories.includes(D.category),K=g.sizes.length===0||D.sizes&&D.sizes.some(ae=>g.sizes.includes(ae));return E&&K})},[s,c,g]);return l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[l.jsx(pt,{onClick:j,className:"mb-4"}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold text-brand-dark",children:["Search Results ",s&&`for '${s}'`]}),l.jsxs("p",{className:"text-brand-secondary mt-1",children:[C.length," ",C.length===1?"result":"results"," found"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsx($g,{activeFilters:g,onFilterChange:x})}),l.jsx("div",{className:"lg:col-span-3",children:C.length>0?l.jsxs("div",{className:"space-y-4",children:[C.map((S,z)=>l.jsx(Wg,{product:S,index:z,onProductSelect:u,isWishlisted:d.includes(S.id),onToggleWishlist:m,onAddToCart:y,onOpenQuickView:h},S.id)),l.jsx(Pg,{})]}):l.jsxs("div",{className:"w-full bg-white rounded-xl shadow-md p-8 sm:p-12 text-center flex flex-col items-center justify-center h-full min-h-[300px]",children:[l.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4",children:l.jsx(Ao,{})}),l.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"No results found"}),l.jsx("p",{className:"text-brand-secondary mt-1",children:"Try adjusting your search or filters."})]})})]})]})},To=()=>l.jsx("div",{className:"flex flex-col items-center group",title:"Cash on Delivery",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),Mo=()=>l.jsx("div",{className:"flex flex-col items-center group",title:"Easypaisa",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8V6m0 12v-2m0-10a9 9 0 110 18 9 9 0 010-18z"})})}),ko=()=>l.jsx("div",{className:"flex flex-col items-center group",title:"JazzCash",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),th=()=>l.jsx("div",{className:"flex flex-col items-center group",title:"Bank Transfer",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M3 6h18M3 14h18M3 18h18"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4h16v16H4z"})]})}),a0="modulepreload",l0=function(s){return"/"+s},Bm={},n0=function(c,u,d){let m=Promise.resolve();if(u&&u.length>0){let h=function(x){return Promise.all(x.map(C=>Promise.resolve(C).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const j=document.querySelector("meta[property=csp-nonce]"),g=(j==null?void 0:j.nonce)||(j==null?void 0:j.getAttribute("nonce"));m=h(u.map(x=>{if(x=l0(x),x in Bm)return;Bm[x]=!0;const C=x.endsWith(".css"),S=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${S}`))return;const z=document.createElement("link");if(z.rel=C?"stylesheet":a0,C||(z.as="script"),z.crossOrigin="",z.href=x,g&&z.setAttribute("nonce",g),document.head.appendChild(z),C)return new Promise((D,E)=>{z.addEventListener("load",D),z.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${x}`)))})}))}function y(h){const j=new Event("vite:preloadError",{cancelable:!0});if(j.payload=h,window.dispatchEvent(j),!j.defaultPrevented)throw h}return m.then(h=>{for(const j of h||[])j.status==="rejected"&&y(j.reason);return c().catch(y)})},la={getProducts:async s=>{try{let c=W.PRODUCTS_GET;if(s){const m=new URLSearchParams;s.page&&m.append("page",String(s.page)),s.limit&&m.append("limit",String(s.limit)),s.category_id&&m.append("category_id",String(s.category_id)),s.search&&m.append("search",s.search),s.sort&&m.append("sort",s.sort);const y=m.toString();y&&(c+=`?${y}`)}const u=await P.get(c),d=ze(u);return Kt.updateMap(d),d.map(m=>{let y=[];m.images&&Array.isArray(m.images)&&(y=m.images.map(j=>typeof j=="object"&&j.image_url?j.image_url:typeof j=="string"?j:"").filter(j=>j.length>0));const h=m.image_url||y[0]||"";return{id:m.id,backendId:String(m.id),name:m.name,category:m.category_name,description:m.description,price:String(m.original_price||m.price||0),originalPrice:m.price?String(m.price):null,image:h,images:y.length>0?y:h?[h]:[],stock:m.stock}})}catch(c){throw console.error("API call failed:",c),c}},getProductsWithMeta:async s=>{let c=W.PRODUCTS_GET;if(s){const g=new URLSearchParams;s.page&&g.append("page",String(s.page)),s.limit&&g.append("limit",String(s.limit)),s.category_id&&g.append("category_id",String(s.category_id)),s.search&&g.append("search",s.search),s.sort&&g.append("sort",s.sort);const x=g.toString();x&&(c+=`?${x}`)}const{data:u,headers:d}=await P.getWithMeta(c),m=ze(u);Kt.updateMap(m);const y=m.map(g=>{let x=[];g.images&&Array.isArray(g.images)&&(x=g.images.map(S=>typeof S=="object"&&S.image_url?S.image_url:typeof S=="string"?S:"").filter(S=>S.length>0));const C=g.image_url||x[0]||"";return{id:g.id,backendId:String(g.id),name:g.name,category:g.category_name,description:g.description,price:String(g.original_price||g.price||0),originalPrice:g.price?String(g.price):null,image:C,images:x.length>0?x:C?[C]:[],stock:g.stock}}),h=d["x-total-count"]||d["x-total"]||d.total;let j=h?parseInt(h,10):void 0;return!j&&u&&typeof u=="object"&&(typeof u.total=="number"&&(j=u.total),!j&&typeof u.count=="number"&&(j=u.count)),{items:y,total:j,page:s==null?void 0:s.page,limit:s==null?void 0:s.limit}},getProductById:async s=>{try{const c=Kt.getBackendId(s),u=await P.get(W.PRODUCT_BY_ID(c)),d=Se(u);Kt.updateMap([d]);let m=[];d.images&&Array.isArray(d.images)&&(m=d.images.map(h=>typeof h=="object"&&h.image_url?h.image_url:typeof h=="string"?h:"").filter(h=>h.length>0));const y=d.image_url||m[0]||"";return{id:d.id,backendId:String(d.id),name:d.name,category:d.category_name,description:d.description,price:String(d.original_price||d.price||0),originalPrice:d.price?String(d.price):null,image:y,images:m.length>0?m:y?[y]:[],stock:d.stock}}catch(c){throw console.error("API call failed:",c),c}},createProduct:async s=>{var c;try{let u;if(s.category)try{const{CategoryService:h}=await n0(async()=>{const{CategoryService:x}=await Promise.resolve().then(()=>Zg);return{CategoryService:x}},void 0),g=(await h.getCategories()).find(x=>x.name===s.category);g&&(u=g.id)}catch(h){console.warn("Failed to fetch categories for mapping:",h)}const d={name:s.name,category_id:u||1,original_price:parseFloat(s.price||"0"),price:s.originalPrice?parseFloat(s.originalPrice):void 0,description:s.description,image_url:s.image,public_id:s.public_id,stock:s.stock};s.images&&Array.isArray(s.images)&&(d.images=s.images);const m=await P.post(W.PRODUCTS,d),y=Se(m);return{id:y.id,backendId:String(y.id),name:y.name,category:y.category_name,description:y.description,price:String(y.original_price||y.price||0),originalPrice:y.price?String(y.price):null,image:y.image_url||((c=y.images)==null?void 0:c[0])||"",images:y.images||[],stock:y.stock}}catch(u){throw console.error("API call failed:",u),u}},updateProduct:async(s,c)=>{var u;try{const d=Kt.getBackendId(s),m={};c.name&&(m.name=c.name),c.price&&(m.original_price=parseFloat(c.price)),c.originalPrice&&(m.price=parseFloat(c.originalPrice)),c.description&&(m.description=c.description),c.image&&(m.image_url=c.image),c.public_id!==void 0&&(m.public_id=c.public_id),c.stock!==void 0&&(m.stock=c.stock);const y=await P.put(W.PRODUCT_BY_ID(d),m),h=Se(y);return{id:h.id,backendId:String(h.id),name:h.name,category:h.category_name,description:h.description,price:String(h.original_price||h.price||0),originalPrice:h.price?String(h.price):null,image:h.image_url||((u=h.images)==null?void 0:u[0])||"",images:h.images||[],stock:h.stock}}catch(d){throw console.error("API call failed:",d),d}},deleteProduct:async s=>{try{const c=Kt.getBackendId(s);await P.delete(W.PRODUCT_BY_ID(c))}catch(c){throw console.error("API call failed:",c),c}},addProductImages:async(s,c,u)=>{const d=Kt.getBackendId(s),m=await P.post(W.PRODUCT_IMAGES(d),{images:c,primary_index:u});return Se(m)},reorderProductImages:async(s,c,u)=>{const d=Kt.getBackendId(s),m=await P.put(W.REORDER_PRODUCT_IMAGES(d),{image_ids:c,primary_image_id:u});return Se(m)},deleteProductImage:async(s,c)=>{const u=Kt.getBackendId(s);await P.delete(W.DELETE_PRODUCT_IMAGE(u,c))}},s0={getAvailableProducts:async(s,c)=>{let u=W.VENDOR_AVAILABLE_PRODUCTS(String(s));c&&(u+=`?limit=${c}`);const d=await P.get(u);return ze(d)},getCrossSellCommissions:async(s,c)=>{let u=W.VENDOR_CROSS_SELL_COMMISSIONS(String(s));if(c){const m=new URLSearchParams;c.status&&m.append("status",c.status),c.page&&m.append("page",String(c.page)),c.limit&&m.append("limit",String(c.limit));const y=m.toString();y&&(u+=`?${y}`)}const d=await P.get(u);return ze(d)}},i0=({currentVendorId:s,currentProductId:c,onProductSelect:u,wishlist:d,onToggleWishlist:m,onAddToCart:y,onOpenQuickView:h})=>{const[j,g]=p.useState([]),[x,C]=p.useState(!1);p.useEffect(()=>{S()},[s,c]);const S=async()=>{if(s){C(!0);try{const D=(await s0.getAvailableProducts(s,10)).filter(E=>E.id!==c).map(E=>{var K;return{id:E.id,backendId:String(E.id),name:E.name||"",category:E.brand_name||E.category_name||"",description:E.description||"",price:String(E.price||0),originalPrice:E.original_price?String(E.original_price):null,image:E.image_url||((K=E.images)==null?void 0:K[0])||"",images:E.images||[],stock:E.stock||0,vendorId:E.vendor_id,brandName:E.brand_name,brandLogoUrl:E.brand_logo_url}});g(D)}catch(z){console.error("Error loading cross-sell products:",z)}finally{C(!1)}}};return!s||j.length===0&&!x?null:l.jsxs("div",{className:"mt-12 border-t border-gray-200 pt-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-brand-dark",children:"Available from Other Vendors"}),x&&l.jsx("div",{className:"w-4 h-4 border-2 border-brand-dark border-t-transparent rounded-full animate-spin"})]}),x&&j.length===0?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx(Ke,{text:"Loading cross-sell products..."})}):l.jsx("div",{className:"overflow-x-auto pb-4 -mx-2 px-2",children:l.jsx("div",{className:"flex space-x-4 min-w-max",children:j.map((z,D)=>{const E=z;return l.jsxs("div",{className:"flex-shrink-0 w-64 relative",children:[l.jsx(Ss,{product:z,index:D,onProductSelect:u,isWishlisted:d.includes(z.id),onToggleWishlist:m,onAddToCart:y,onOpenQuickView:h}),E.brandName&&l.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 backdrop-blur-sm rounded-lg px-2 py-1 flex items-center space-x-1.5 z-30 pointer-events-none",children:[E.brandLogoUrl&&l.jsx("img",{src:E.brandLogoUrl,alt:E.brandName,className:"w-4 h-4 rounded object-cover",onError:K=>{K.currentTarget.style.display="none"}}),l.jsx("span",{className:"text-white text-xs font-bold",children:E.brandName})]})]},z.id)})})})]})},r0=({quantity:s,setQuantity:c})=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>c(Math.max(1,s-1)),className:"h-8 w-8 bg-gray-200 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-300 transition",children:"-"}),l.jsx("span",{className:"w-10 text-center font-semibold",children:s}),l.jsx("button",{onClick:()=>c(s+1),className:"h-8 w-8 bg-gray-200 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-300 transition",children:"+"})]}),c0=({product:s,isWishlisted:c,onToggleWishlist:u,onAddToCart:d,onProductSelect:m,onOpenQuickView:y,wishlist:h,onGoBack:j})=>{var ee,Y;const[g,x]=p.useState(s.image),[C,S]=p.useState(((ee=s.sizes)==null?void 0:ee[0])||null),[z,D]=p.useState(1),[E,K]=p.useState(null),[ae,le]=p.useState(s.images||[s.image].filter(Boolean)),[Z,V]=p.useState(null);p.useEffect(()=>{var A;x(s.image),S(((A=s.sizes)==null?void 0:A[0])||null),le(s.images||[s.image].filter(Boolean)),ne()},[s]);const ne=async()=>{try{const A=await la.getProductById(s.id);V(A),A.images&&A.images.length>0&&(le(A.images),(!g||g===s.image)&&x(A.image||A.images[0]));const $=A;$.vendor_id&&K($.vendor_id)}catch(A){console.error("Error loading vendor info:",A)}};return l.jsx(l.Fragment,{children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[l.jsx(pt,{onClick:j,className:"mb-4"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-white rounded-2xl shadow-md aspect-square overflow-hidden",children:l.jsx("img",{src:g,alt:s.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),l.jsx("div",{className:"grid grid-cols-4 gap-4",children:ae.length>0?ae.map((A,$)=>l.jsx("button",{onClick:()=>x(A),className:`bg-white rounded-lg shadow-sm aspect-square overflow-hidden border-2 transition ${g===A?"border-brand-dark":"border-transparent hover:border-gray-300"}`,children:l.jsx("img",{src:A,alt:`${s.name} thumbnail ${$+1}`,className:"w-full h-full object-cover",onError:J=>{J.currentTarget.style.display="none"}})},$)):l.jsx("button",{onClick:()=>x(s.image),className:`bg-white rounded-lg shadow-sm aspect-square overflow-hidden border-2 transition ${g===s.image?"border-brand-dark":"border-transparent hover:border-gray-300"}`,children:l.jsx("img",{src:s.image,alt:`${s.name} thumbnail`,className:"w-full h-full object-cover",onError:A=>{A.currentTarget.style.display="none"}})})})]}),l.jsxs("div",{className:"py-4",children:[l.jsx("p",{className:"text-sm font-semibold text-brand-secondary uppercase tracking-wider",children:s.category}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark mt-2",children:s.name}),l.jsxs("div",{className:"mt-4 flex items-baseline space-x-3",children:[l.jsxs("p",{className:"text-3xl font-bold text-brand-dark",children:["Rs. ",s.price]}),s.originalPrice&&l.jsxs("p",{className:"text-xl text-brand-secondary line-through",children:["Rs. ",s.originalPrice]})]}),l.jsx("p",{className:"mt-6 text-base text-gray-700 leading-relaxed",children:s.description}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h3",{className:"text-sm font-bold text-brand-dark uppercase",children:"Size Options"}),l.jsx("div",{className:"flex flex-wrap gap-3 mt-3",children:(Y=s.sizes)==null?void 0:Y.map(A=>l.jsx("button",{onClick:()=>S(A),className:`px-5 py-2 rounded-full border-2 text-sm font-semibold transition ${C===A?"bg-brand-dark text-white border-brand-dark":"bg-white text-brand-dark border-gray-300 hover:border-brand-dark"}`,children:A},A))})]}),l.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-8 flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-bold text-brand-dark uppercase",children:"Quantity"}),l.jsx(r0,{quantity:z,setQuantity:D})]}),l.jsxs("div",{className:"mt-8 flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>d(s,z),className:"flex-1 bg-brand-dark text-white font-semibold py-4 px-8 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Add to Cart"}),l.jsx("button",{onClick:()=>u(s.id),className:"p-4 bg-white border-2 border-gray-300 rounded-full hover:border-brand-dark transition",children:l.jsx(jn,{className:`w-6 h-6 transition-colors ${c?"text-red-500 fill-current":"text-gray-500"}`})})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("span",{className:"text-sm font-semibold text-green-600",children:"In Stock"})}),l.jsx("div",{className:"mt-8 border-t border-gray-200 pt-6",children:l.jsxs("div",{className:"flex items-center justify-center space-x-6 text-gray-500",children:[l.jsx(To,{}),l.jsx(Mo,{}),l.jsx(ko,{}),l.jsx(th,{})]})})]})]}),E&&l.jsx(i0,{currentVendorId:E,currentProductId:s.id,onProductSelect:m,wishlist:h,onToggleWishlist:u,onAddToCart:d,onOpenQuickView:y})]})})},o0=({wishlistedProducts:s,onProductSelect:c,onToggleWishlist:u,onShopNow:d,onAddToCart:m,onOpenQuickView:y,onGoBack:h})=>l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[l.jsx(pt,{onClick:h,className:"mb-4"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-brand-dark",children:"My Wishlist"}),l.jsxs("p",{className:"text-brand-secondary mt-1",children:[s.length," ",s.length===1?"item":"items"]})]}),s.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map((j,g)=>l.jsx(Ss,{product:j,index:g,onProductSelect:c,isWishlisted:!0,onToggleWishlist:u,onAddToCart:m,onOpenQuickView:y},j.id))}):l.jsxs("div",{className:"w-full bg-white rounded-xl shadow-md p-8 sm:p-12 text-center flex flex-col items-center justify-center min-h-[400px]",children:[l.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4 text-gray-400",children:l.jsx(jn,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Your wishlist is empty"}),l.jsx("p",{className:"text-brand-secondary mt-1 mb-6",children:"Start saving your favorite items!"}),l.jsx("button",{onClick:d,className:"bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Shop Now"})]})]}),d0=s=>parseFloat(s.replace(/,/g,"")),u0=({quantity:s,onUpdate:c})=>l.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-full p-1",children:[l.jsx("button",{onClick:()=>c(s-1),className:"h-6 w-6 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-200 transition",children:"-"}),l.jsx("span",{className:"w-6 text-center font-semibold text-sm",children:s}),l.jsx("button",{onClick:()=>c(s+1),className:"h-6 w-6 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-200 transition",children:"+"})]}),f0=({item:s,onUpdateQuantity:c,onRemoveItem:u})=>{const d=d0(s.price)*s.quantity;return l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-4 flex items-center space-x-4",children:[l.jsx("div",{className:"flex-shrink-0 h-24 w-24 rounded-lg overflow-hidden bg-gray-100",children:l.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-grow flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[l.jsxs("div",{className:"flex-grow mb-2 sm:mb-0",children:[l.jsx("h3",{className:"text-base font-bold text-brand-dark",children:s.name}),l.jsxs("p",{className:"text-sm text-brand-secondary",children:["Item Price: Rs. ",s.price]})]}),l.jsxs("div",{className:"flex items-center space-x-4 sm:space-x-6 w-full sm:w-auto",children:[l.jsx(u0,{quantity:s.quantity,onUpdate:m=>c(s.cartItemId,m)}),l.jsxs("p",{className:"font-bold text-brand-dark w-24 text-left sm:text-center",children:["Rs. ",d.toLocaleString()]}),l.jsx("button",{onClick:()=>u(s.cartItemId),className:"text-sm font-semibold text-gray-500 hover:text-red-500 transition",children:"Remove"})]})]})]})},Hm=s=>parseFloat(s.replace(/,/g,"")),ah=({cartItems:s,view:c,onButtonClick:u,onSecondaryAction:d,commission:m=0,mlmBalanceUsed:y=0,accountBalanceUsed:h=0,isButtonDisabled:j=!1})=>{const g=p.useMemo(()=>s.reduce((D,E)=>D+Hm(E.price)*E.quantity,0),[s]),x=g>0?150:0,C=Math.max(0,g+x+m-y-h),S=c==="cart"?"Proceed to Checkout":"Place Order",z=c==="checkout"?"bg-red-500 hover:bg-red-600":"bg-brand-dark hover:bg-gray-700";return l.jsxs("aside",{className:"bg-white rounded-2xl shadow-md p-6 sticky top-28",children:[l.jsx("h2",{className:"text-xl font-bold text-brand-dark border-b pb-4 mb-4",children:"Order Summary"}),c==="checkout"&&s.map(D=>l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[l.jsxs("span",{children:[D.name," x ",D.quantity]}),l.jsxs("span",{children:["Rs. ",(Hm(D.price)*D.quantity).toLocaleString()]})]},D.id)),l.jsxs("div",{className:"space-y-3 text-brand-dark mt-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["Rs. ",g.toLocaleString()]})]}),m>0&&l.jsxs("div",{className:"flex justify-between text-green-600",children:[l.jsx("span",{children:"Commission"}),l.jsxs("span",{children:["Rs. ",m.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Delivery Fee"}),l.jsxs("span",{children:["Rs. ",x.toLocaleString()]})]}),y>0&&l.jsxs("div",{className:"flex justify-between text-blue-600",children:[l.jsx("span",{children:"MLM Balance Used"}),l.jsxs("span",{children:["- Rs. ",y.toFixed(2)]})]}),h>0&&l.jsxs("div",{className:"flex justify-between text-purple-600",children:[l.jsx("span",{children:"Account Balance Used"}),l.jsxs("span",{children:["- Rs. ",h.toFixed(2)]})]}),c==="checkout"&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(Mo,{})," ",l.jsxs("span",{children:["Rs. ",g.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(ko,{})," ",l.jsx("span",{children:"Rs. 1500"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(th,{})," ",l.jsx("span",{children:"Rs. 1900"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(To,{})," ",l.jsx("span",{children:"Rs. 1900"})]})]}),l.jsxs("div",{className:"border-t pt-4 mt-4 flex justify-between font-bold text-lg",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["Rs. ",C.toLocaleString()]})]})]}),l.jsx("button",{onClick:u,disabled:g===0||j,className:`mt-6 w-full text-white font-semibold py-3 px-6 rounded-[24px] focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed ${z}`,children:S}),l.jsx("button",{onClick:d,className:"w-full text-center mt-4 text-sm font-semibold text-brand-secondary hover:text-brand-dark",children:"Continue Shopping"})]})},m0=({cartItems:s,onUpdateQuantity:c,onRemoveItem:u,onContinueShopping:d,onCheckout:m,onGoBack:y})=>l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[l.jsx(pt,{onClick:y,className:"mb-4"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-brand-dark",children:"Your Cart"}),l.jsxs("p",{className:"text-brand-secondary mt-1",children:[s.reduce((h,j)=>h+j.quantity,0)," items"]})]}),s.length>0?l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.map(h=>l.jsx(f0,{item:h,onUpdateQuantity:c,onRemoveItem:u},h.cartItemId))}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx(ah,{cartItems:s,onButtonClick:m,onSecondaryAction:d,view:"cart"})})]}):l.jsxs("div",{className:"w-full bg-white rounded-xl shadow-md p-8 sm:p-12 text-center flex flex-col items-center justify-center min-h-[400px]",children:[l.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4 text-gray-400",children:l.jsx(Pm,{})}),l.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Your cart is empty"}),l.jsx("p",{className:"text-brand-secondary mt-1 mb-6",children:"Time to find some amazing products!"}),l.jsx("button",{onClick:d,className:"bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Shop Now"})]})]}),h0=()=>l.jsx("div",{className:"flex flex-col items-center group",title:"Delivery Transfer",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-500 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2-2h8zm6-11l-4 4m0 0l4 4m-4-4h12"})]})}),lh=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),bn={createReferral:async(s,c)=>{const u=await P.post(W.MLM_REFERRAL,{user_id:s,referral_code:c});return Se(u)},getReferralTree:async s=>{const c=await P.get(W.MLM_TREE(String(s)));return Se(c)},getReferralCode:async()=>{const s=await P.get(W.MLM_REFERRAL_CODE);return Se(s).referral_code||""},getMlmBalance:async s=>{const c=await P.get(W.MLM_BALANCE(String(s)));return Se(c)},createWithdrawalRequest:async s=>{const c=await P.post(W.MLM_WITHDRAWALS,s);return Se(c)},listWithdrawalRequests:async()=>{const s=await P.get(W.MLM_WITHDRAWALS);return ze(s)},listAllWithdrawals:async s=>{let c=W.ADMIN_MLM_WITHDRAWALS;if(s){const d=new URLSearchParams;s.status&&d.append("status",s.status),s.page&&d.append("page",String(s.page)),s.limit&&d.append("limit",String(s.limit));const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)},processWithdrawal:async(s,c)=>{const u=await P.put(W.ADMIN_MLM_WITHDRAWAL_PROCESS(String(s)),c);return Se(u)}},x0={getUserBalance:async s=>{const c=await P.get(W.USER_BALANCE);return Se(c)},getTransactionHistory:async(s,c)=>{const u=new URLSearchParams;c!=null&&c.page&&u.append("page",c.page.toString()),c!=null&&c.per_page&&u.append("per_page",c.per_page.toString()),c!=null&&c.source_type&&u.append("source_type",c.source_type),c!=null&&c.transaction_type&&u.append("transaction_type",c.transaction_type),c!=null&&c.from_date&&u.append("from_date",c.from_date),c!=null&&c.to_date&&u.append("to_date",c.to_date);const d=`${W.USER_BALANCE_TRANSACTIONS}?${u.toString()}`,m=await P.get(d);return Se(m)},getPurchaseStatistics:async s=>{const c=await P.get(W.USER_BALANCE_STATISTICS);return Se(c)}},g0=s=>parseFloat(s.replace(/,/g,"")),p0=({cartItems:s,onConfirmOrder:c,onContinueShopping:u,onGoBack:d})=>{const[m,y]=p.useState("customer"),[h,j]=p.useState({phone:"",address:""}),[g,x]=p.useState(""),[C,S]=p.useState("cod"),[z,D]=p.useState(null),[E,K]=p.useState(!1),[ae,le]=p.useState(""),[Z,V]=p.useState(0),[ne,ee]=p.useState(!1),[Y,A]=p.useState(!1),[$,J]=p.useState(""),[F,me]=p.useState(0),[se,M]=p.useState(!1),q=p.useMemo(()=>s.reduce((re,B)=>re+g0(B.price)*B.quantity,0),[s]),pe=q>0?150:0,v=parseFloat(g)||0,T=E?Math.min(parseFloat(ae)||0,Z):0,ie=Y?Math.min(parseFloat($)||0,F):0,L=Math.max(0,q+pe+v-T-ie);p.useEffect(()=>{de(),N()},[]);const de=async()=>{const re=We.getBackendUser();if(re!=null&&re.id){ee(!0);try{const B=parseInt(re.id,10);if(!isNaN(B)){const ye=await bn.getMlmBalance(B);V(ye.available_balance||0)}}catch(B){console.error("Error loading MLM balance:",B)}finally{ee(!1)}}},N=async()=>{const re=We.getBackendUser();if(re!=null&&re.id){M(!0);try{const B=parseInt(re.id,10);if(!isNaN(B)){const ye=await x0.getUserBalance(B),Ue=ye.breakdown.platform_rewards+ye.breakdown.advance_credit;me(Ue)}}catch(B){console.error("Error loading account balance:",B)}finally{M(!1)}}},H=re=>{(parseFloat(re)||0)>Z?le(Z.toString()):le(re)},te=re=>{(parseFloat(re)||0)>F?J(F.toString()):J(re)},ue=()=>{if(D(null),m==="customer"){if(!h.phone||!h.address){D("Please fill in all customer information fields.");return}if(!g){D("Commission is required for customer orders.");return}}let re="Cash on Delivery";C==="transfer"?re="Delivery Transfer":C==="easypaisa"?re="Easypaisa":C==="jazzcash"&&(re="JazzCash");const B={orderId:`#${Math.floor(Math.random()*9e5)+1e5}`,orderDate:new Date().toLocaleDateString("en-GB"),orderType:m,paymentMethod:re,customerInfo:m==="customer"?h:void 0,items:s,subtotal:q,deliveryFee:pe,commission:v,mlmBalanceUsed:T,accountBalanceUsed:ie,total:L};c(B)},be=m==="customer"&&(!h.phone||!h.address||!g);return l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:d}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Checkout"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[l.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:"1. Select Order Type"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{onClick:()=>y("self"),className:`px-6 py-2 rounded-full font-semibold transition ${m==="self"?"bg-gray-200 text-brand-dark":"bg-white border border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Self Order"}),l.jsx("button",{onClick:()=>y("customer"),className:`px-6 py-2 rounded-full font-semibold transition ${m==="customer"?"bg-brand-dark text-white":"bg-white border border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Customer Order"})]})]}),m==="customer"&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[l.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:"2. Customer Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Customer Phone Number",value:h.phone,onChange:re=>j({...h,phone:re.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),l.jsx("textarea",{placeholder:"Delivery Address",value:h.address,onChange:re=>j({...h,address:re.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none h-24 resize-none"}),l.jsx("input",{type:"number",placeholder:"Your Commission (Optional)",value:g,onChange:re=>x(re.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),Z>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[l.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:"3. Use MLM Balance"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"flex items-center space-x-4 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:E,onChange:re=>{K(re.target.checked),re.target.checked||le("")},className:"w-5 h-5 text-brand-dark rounded focus:ring-brand-dark"}),l.jsx("span",{className:"font-semibold text-brand-dark flex-1",children:"Use MLM Balance"}),l.jsxs("span",{className:"text-sm text-green-600 font-semibold",children:["Available: Rs ",Z.toFixed(2)]})]}),E&&l.jsxs("div",{className:"pl-9 space-y-2",children:[l.jsx("input",{type:"number",step:"0.01",min:"0",max:Z,value:ae,onChange:re=>H(re.target.value),placeholder:"Enter amount to use",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),l.jsxs("p",{className:"text-xs text-brand-secondary",children:["Max: Rs ",Z.toFixed(2)]})]})]})]}),F>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[l.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:Z>0?"3.5. Use Account Balance":"3. Use Account Balance"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"flex items-center space-x-4 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:Y,onChange:re=>{A(re.target.checked),re.target.checked||J("")},className:"w-5 h-5 text-brand-dark rounded focus:ring-brand-dark"}),l.jsx("span",{className:"font-semibold text-brand-dark flex-1",children:"Use Account Balance"}),l.jsxs("span",{className:"text-sm text-blue-600 font-semibold",children:["Available: Rs ",F.toFixed(2)]})]}),Y&&l.jsxs("div",{className:"pl-9 space-y-2",children:[l.jsx("input",{type:"number",step:"0.01",min:"0",max:F,value:$,onChange:re=>te(re.target.value),placeholder:"Enter amount to use",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),l.jsxs("p",{className:"text-xs text-brand-secondary",children:["Max: Rs ",F.toFixed(2)," (Platform Rewards + Advance Credit)"]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[l.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:Z>0||F>0?"4. Select Payment Method":"3. Select Payment Method"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center space-x-4 p-4 border rounded-lg cursor-pointer hover:bg-gray-50 transition",children:[l.jsx(To,{}),l.jsx("span",{className:"font-semibold text-brand-dark flex-grow",children:"Cash on Delivery for customer orders"}),l.jsx("input",{type:"radio",name:"payment",value:"cod",checked:C==="cod",onChange:()=>S("cod"),className:"form-radio h-5 w-5 text-brand-dark"})]}),l.jsxs("label",{className:"flex items-center space-x-4 p-4 border rounded-lg cursor-pointer hover:bg-gray-50 transition",children:[l.jsx(h0,{}),l.jsx("span",{className:"font-semibold text-brand-dark flex-grow",children:"Delivery Transfer"}),l.jsx("input",{type:"radio",name:"payment",value:"transfer",checked:C==="transfer",onChange:()=>S("transfer"),className:"form-radio h-5 w-5 text-brand-dark"})]}),l.jsxs("label",{className:"flex items-center space-x-4 p-4 border rounded-lg cursor-pointer hover:bg-gray-50 transition",children:[l.jsx(Mo,{}),l.jsx("span",{className:"font-semibold text-brand-dark flex-grow",children:"Easypaisa"}),l.jsx("input",{type:"radio",name:"payment",value:"easypaisa",checked:C==="easypaisa",onChange:()=>S("easypaisa"),className:"form-radio h-5 w-5 text-brand-dark"})]}),l.jsxs("label",{className:"flex items-center space-x-4 p-4 border rounded-lg cursor-pointer hover:bg-gray-50 transition",children:[l.jsx(ko,{}),l.jsx("span",{className:"font-semibold text-brand-dark flex-grow",children:"JazzCash"}),l.jsx("input",{type:"radio",name:"payment",value:"jazzcash",checked:C==="jazzcash",onChange:()=>S("jazzcash"),className:"form-radio h-5 w-5 text-brand-dark"})]}),l.jsx("div",{className:"flex items-center space-x-4 p-4",children:l.jsx("span",{className:"text-gray-500 font-semibold",children:"Delivery Charge: Rs. 150"})})]})]}),z&&l.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-3",children:[l.jsx(lh,{}),l.jsx("span",{className:"font-semibold",children:z})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx(ah,{cartItems:s,onButtonClick:ue,onSecondaryAction:u,view:"checkout",commission:v,mlmBalanceUsed:T,accountBalanceUsed:ie,isButtonDisabled:be})})]})]})},y0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-brand-success",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),b0=({orderDetails:s,onContinueShopping:c,onViewMyOrders:u})=>s?l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[l.jsx("div",{className:"bg-brand-dark text-white rounded-2xl p-8 text-center md:text-left md:flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"text-4xl font-bold flex items-center justify-center md:justify-start space-x-3",children:[l.jsx("span",{children:"Order Confirmed!"}),l.jsx(y0,{})]}),l.jsx("p",{className:"mt-2 text-white/80",children:"Thank you for your Shauq order!"})]})}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mt-[-2rem] z-10 relative",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 border-b pb-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-brand-secondary",children:"Order ID"}),l.jsx("p",{className:"font-bold text-brand-dark text-lg",children:s.orderId})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-brand-secondary",children:"Order Date"}),l.jsx("p",{className:"font-bold text-brand-dark",children:s.orderDate})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-brand-secondary",children:"Order Type"}),l.jsx("p",{className:"font-bold text-brand-dark",children:s.orderType==="self"?"Self Order":"Customer Order"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-brand-secondary",children:"Payment Method"}),l.jsx("p",{className:"font-bold text-brand-dark",children:s.paymentMethod})]}),s.customerInfo&&l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("p",{className:"text-sm text-brand-secondary",children:"Customer Info"}),l.jsxs("p",{className:"font-bold text-brand-dark",children:[s.customerInfo.phone,", ",s.customerInfo.address]})]})]}),l.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Order Summary"}),l.jsx("div",{className:"space-y-2",children:s.items.map(d=>l.jsxs("div",{className:"flex justify-between items-center text-brand-dark",children:[l.jsxs("span",{children:[d.name," (x",d.quantity,")"]}),l.jsxs("span",{children:["Rs. ",(parseFloat(d.price.replace(/,/g,""))*d.quantity).toLocaleString()]})]},d.id))}),l.jsxs("div",{className:"border-t mt-4 pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-brand-dark",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["Rs. ",s.subtotal.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-brand-dark",children:[l.jsx("span",{children:"Delivery Fee"}),l.jsxs("span",{children:["Rs. ",s.deliveryFee.toLocaleString()]})]}),s.commission>0&&l.jsxs("div",{className:"flex justify-between text-green-600 font-semibold",children:[l.jsx("span",{children:"Commission"}),l.jsxs("span",{children:["Rs. ",s.commission.toLocaleString()]})]}),s.mlmBalanceUsed&&s.mlmBalanceUsed>0&&l.jsxs("div",{className:"flex justify-between text-blue-600 font-semibold",children:[l.jsx("span",{children:"MLM Balance Used"}),l.jsxs("span",{children:["- Rs. ",s.mlmBalanceUsed.toFixed(2)]})]}),s.accountBalanceUsed&&s.accountBalanceUsed>0&&l.jsxs("div",{className:"flex justify-between text-purple-600 font-semibold",children:[l.jsx("span",{children:"Account Balance Used"}),l.jsxs("span",{children:["- Rs. ",s.accountBalanceUsed.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-brand-dark font-bold text-xl",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["Rs. ",s.total.toLocaleString()]})]})]}),s.balanceBreakdown&&l.jsxs("div",{className:"border-t mt-6 pt-6",children:[l.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Balance Breakdown"}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Available Balance (Before):"}),l.jsxs("span",{className:"font-semibold",children:["Rs. ",s.balanceBreakdown.available_balance_before.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Total Balance Used:"}),l.jsxs("span",{className:"font-semibold text-red-600",children:["- Rs. ",s.balanceBreakdown.total_balance_used.toFixed(2)]})]}),s.cashPaid!==void 0&&s.cashPaid>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Cash Paid:"}),l.jsxs("span",{className:"font-semibold",children:["Rs. ",s.cashPaid.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[l.jsx("span",{className:"text-gray-600",children:"Remaining Balance:"}),l.jsxs("span",{className:"font-semibold text-green-600",children:["Rs. ",s.balanceBreakdown.remaining_balance.toFixed(2)]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"MLM Balance:"}),l.jsxs("span",{children:["Rs. ",s.balanceBreakdown.breakdown.mlm_balance.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"Platform Rewards:"}),l.jsxs("span",{children:["Rs. ",s.balanceBreakdown.breakdown.platform_rewards.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"Advance Credit:"}),l.jsxs("span",{children:["Rs. ",s.balanceBreakdown.breakdown.advance_credit.toFixed(2)]})]})]})]})]})]}),l.jsxs("div",{className:"mt-8 text-center space-y-4",children:[l.jsx("button",{onClick:u,className:"bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700 transition",children:"View My Orders"}),l.jsx("p",{children:l.jsx("button",{onClick:c,className:"text-brand-secondary font-semibold hover:underline",children:"Continue Shopping"})})]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Order details not found."}),l.jsx("button",{onClick:c,className:"mt-4 bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700",children:"Go to Home"})]}),v0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),j0=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),N0=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 017.743-5.743z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 00-2-2"})]}),S0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),nh=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),w0=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6"})]}),_o=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8V6m0 12v-2m0-10a9 9 0 110 18 9 9 0 010-18z"})}),_0={Delivered:"bg-green-100 text-green-800",Processing:"bg-blue-100 text-blue-800",Cancelled:"bg-red-100 text-red-800"},C0=({order:s})=>{const c=s.items.reduce((u,d)=>u+d.quantity,0);return l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[l.jsxs("div",{className:"flex-grow space-y-1",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:s.orderId}),l.jsx("span",{className:`px-2.5 py-0.5 text-xs font-semibold rounded-full ${_0[s.status]||"bg-gray-100 text-gray-800"}`,children:s.status})]}),l.jsxs("p",{className:"text-sm text-brand-secondary",children:["Date: ",s.orderDate]}),l.jsxs("p",{className:"text-sm text-brand-secondary",children:["Items: ",c]}),l.jsxs("p",{className:"text-base font-bold text-brand-dark sm:hidden",children:["Total: Rs. ",s.total.toLocaleString()]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center sm:space-x-6 w-full sm:w-auto",children:[l.jsxs("p",{className:"text-lg font-bold text-brand-dark hidden sm:block text-right",children:["Rs. ",s.total.toLocaleString()]}),l.jsx("button",{className:"bg-brand-dark text-white font-semibold py-2.5 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors mt-2 sm:mt-0",children:"View Details"})]})]})},ll={getBalance:async()=>{const s=await P.get(W.AFFILIATE_BALANCE);return Se(s)},getCommissions:async s=>{let c=W.AFFILIATE_COMMISSIONS;if(s){const d=new URLSearchParams;s.page&&d.append("page",String(s.page)),s.limit&&d.append("limit",String(s.limit)),s.status&&d.append("status",s.status);const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)},getCustomers:async s=>{let c=W.AFFILIATE_CUSTOMERS;if(s){const d=new URLSearchParams;Object.entries(s).forEach(([y,h])=>{h!=null&&d.append(y,String(h))});const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)},getWithdrawals:async s=>{let c=W.AFFILIATE_WITHDRAWALS;s!=null&&s.status&&(c+=`?status=${s.status}`);const u=await P.get(c);return ze(u)},getAdminAffiliateUsers:async s=>{let c=W.ADMIN_AFFILIATE_USERS;if(s){const d=new URLSearchParams;Object.entries(s).forEach(([y,h])=>{h!=null&&d.append(y,String(h))});const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)},getAdminAffiliateUserCustomers:async s=>{const c=await P.get(W.ADMIN_AFFILIATE_USER_CUSTOMERS(s));return ze(c)},getAdminAffiliateUserOrders:async s=>{const c=await P.get(W.ADMIN_AFFILIATE_USER_ORDERS(s));return ze(c)},getAdminCommissions:async s=>{let c=W.ADMIN_AFFILIATE_COMMISSIONS;if(s){const d=new URLSearchParams;s.affiliate_user_id&&d.append("affiliate_user_id",s.affiliate_user_id),s.page&&d.append("page",String(s.page)),s.limit&&d.append("limit",String(s.limit)),s.status&&d.append("status",s.status);const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)},getAdminWithdrawals:async s=>{let c=W.ADMIN_AFFILIATE_WITHDRAWALS;if(s){const d=new URLSearchParams;s.status&&d.append("status",s.status),s.page&&d.append("page",String(s.page)),s.limit&&d.append("limit",String(s.limit));const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)},updateWithdrawalStatus:async(s,c)=>{await P.put(W.ADMIN_UPDATE_WITHDRAWAL(s),{status:c})}},vn={createOrder:async s=>{const c=await P.post(W.ORDERS,s);return Se(c)},getOrders:async s=>{let c=W.ORDERS;if(s){const d=new URLSearchParams;Object.entries(s).forEach(([y,h])=>{h!=null&&d.append(y,String(h))});const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)},getOrdersWithMeta:async s=>{let c=W.ORDERS;if(s){const j=new URLSearchParams;Object.entries(s).forEach(([x,C])=>{C!=null&&j.append(x,String(C))});const g=j.toString();g&&(c+=`?${g}`)}const{data:u,headers:d}=await P.getWithMeta(c),m=ze(u),y=d["x-total-count"]||d["x-total"]||d.total;let h=y?parseInt(y,10):void 0;return!h&&u&&typeof u=="object"&&(typeof u.total=="number"&&(h=u.total),!h&&typeof u.count=="number"&&(h=u.count)),{items:m,total:h,page:s==null?void 0:s.page,limit:s==null?void 0:s.limit}},getAffiliateOrders:async s=>{const c=s?`${W.AFFILIATE_ORDERS}?${new URLSearchParams(s)}`:W.AFFILIATE_ORDERS,u=await P.get(c);return ze(u)},getOrderById:async s=>P.get(W.ORDER_BY_ID(s)),getOrderByOrderId:async s=>P.get(W.ORDER_BY_ORDER_ID(s)),updateOrderStatus:async(s,c)=>P.patch(W.UPDATE_ORDER_STATUS(s),{status:c})},E0=({earnings:s})=>l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Affiliate History"}),s.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[l.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Order ID"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Customer"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Commission"}),l.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"})]})}),l.jsx("tbody",{children:s.map(c=>l.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[l.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:c.orderId}),l.jsx("td",{className:"px-6 py-4",children:c.customerName}),l.jsx("td",{className:"px-6 py-4",children:c.orderDate}),l.jsxs("td",{className:"px-6 py-4",children:["Rs. ",c.commission]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${c.status==="Paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})})]},c.orderId))})]})}):l.jsx("p",{children:"No affiliate earnings yet."})]}),A0=({user:s,onLogout:c,setToastMessage:u,orders:d,onShopNow:m,initialSection:y,onGoBack:h,onNavigateToVendorRegistration:j,onNavigateToMlmDashboard:g})=>{const[x,C]=p.useState(y),[S,z]=p.useState("My Orders"),[D,E]=p.useState([]),[K,ae]=p.useState(!1);p.useEffect(()=>{C(y)},[y]),p.useEffect(()=>{(async()=>{if(S==="Affiliate History"){ae(!0);try{const me=(await ll.getCommissions({page:1,limit:100})).map(async M=>{var ie;const q=((ie=M.status)==null?void 0:ie.toLowerCase())==="settled"?"Paid":"Pending",pe=M.order_id?`#ORD${M.order_id}`:`#CUST${M.id}`,v=M.created_at?new Date(M.created_at).toLocaleDateString("en-GB"):new Date().toLocaleDateString("en-GB");let T="Unknown Customer";if(M.order_id)try{const L=await vn.getOrderById(String(M.order_id)),de=Se(L);T=(de==null?void 0:de.customer_name)||(de==null?void 0:de.customer_phone)||"Unknown Customer"}catch(L){console.warn("Failed to fetch order details for commission:",L)}return{orderId:pe,customerName:T,orderDate:v,commission:M.amount||0,status:q}}),se=await Promise.all(me);E(se)}catch(F){console.error("Failed to load affiliate earnings:",F),u("Failed to load affiliate earnings. Please try again later."),E([])}finally{ae(!1)}}})()},[S,u]);const[le,Z]=p.useState({name:(s==null?void 0:s.name)||"John Doe",email:(s==null?void 0:s.email)||"john.doe.example.com",phone:"+1 234 Number"}),V=J=>{const{name:F,value:me}=J.target;Z(se=>({...se,[F]:me}))},ne=J=>{J.preventDefault(),console.log("Saving changes:",le),u("Profile updated successfully!")},ee=[{name:"Personal Information",icon:l.jsx(v0,{})},{name:"My Orders",icon:l.jsx(w0,{})},{name:"Address Management",icon:l.jsx(j0,{})},{name:"Change Password",icon:l.jsx(N0,{})},...j?[{name:"Register as Vendor",icon:l.jsx(Xm,{}),action:j}]:[],...g?[{name:"MLM Dashboard",icon:l.jsx(_o,{}),action:g}]:[],{name:"Log Out",icon:l.jsx(S0,{}),action:c}],Y=()=>{switch(x){case"Personal Information":return l.jsxs("form",{onSubmit:ne,children:[l.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-6",children:"Personal Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",name:"name",value:le.name,onChange:V,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),l.jsx("input",{type:"email",name:"email",value:le.email,readOnly:!0,className:"w-full px-4 py-3 bg-gray-200 border border-gray-300 rounded-lg text-gray-500 cursor-not-allowed"}),l.jsx("input",{type:"tel",name:"phone",value:le.phone,onChange:V,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsx("button",{type:"submit",className:"mt-8 w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Save Changes"})]});case"My Orders":return l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-6",children:"Order & Affiliate Information"}),l.jsx("div",{className:"bg-gray-100 rounded-lg p-1 mb-6 inline-flex items-center space-x-1",children:["My Orders","Order History","Affiliate History"].map(J=>l.jsx("button",{onClick:()=>z(J),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition ${S===J?"bg-white shadow text-brand-dark":"text-gray-500 hover:bg-white/60"}`,children:J},J))}),S==="Affiliate History"?K?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx(Ke,{size:"md",text:"Loading affiliate earnings..."})}):l.jsx(E0,{earnings:D}):l.jsx(l.Fragment,{children:d.length>0?l.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:d.map(J=>l.jsx(C0,{order:J},J.orderId))}):l.jsxs("div",{className:"w-full bg-gray-50 rounded-lg p-8 text-center flex flex-col items-center justify-center min-h-[200px]",children:[l.jsx("h3",{className:"text-md font-bold text-brand-dark",children:"You haven't placed any orders yet."}),l.jsx("p",{className:"text-brand-secondary text-sm mt-1 mb-4",children:"All your future orders will appear here."}),l.jsx("button",{onClick:m,className:"bg-brand-dark text-white font-semibold py-2 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors text-sm",children:"Shop Now"})]})})]});case"Address Management":case"Change Password":return l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-6",children:x}),l.jsx("p",{className:"text-brand-secondary",children:"This feature is coming soon."})]});default:return null}},A=(s==null?void 0:s.role)===ua.AFFILIATE||(s==null?void 0:s.affiliateBalance)!==void 0&&s.affiliateBalance>0,$=(s==null?void 0:s.affiliateBalance)||0;return l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[l.jsx(pt,{onClick:h,className:"mb-4"}),l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-brand-dark",children:"My Profile"}),A&&l.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-full shadow-lg flex items-center space-x-3",children:[l.jsx("span",{className:"font-semibold",children:"Affiliate Balance:"}),l.jsxs("span",{className:"font-bold text-xl",children:["Rs. ",$.toLocaleString()]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[l.jsxs("aside",{className:"lg:col-span-1 bg-white rounded-2xl shadow-md p-4 space-y-1",children:[ee.map(J=>l.jsxs("button",{onClick:()=>J.action?J.action():C(J.name),className:`w-full flex items-center space-x-4 p-3 rounded-lg text-left font-semibold transition ${x===J.name?"bg-gray-100 text-brand-dark":"text-gray-500 hover:bg-gray-50 hover:text-brand-dark"}`,children:[J.icon,l.jsx("span",{children:J.name})]},J.name)),l.jsx("div",{className:"border-t my-2 !mt-4 !mb-2"}),l.jsxs("div",{className:"p-3 text-gray-400 flex items-center space-x-4",children:[l.jsx(nh,{}),l.jsx("span",{children:(s==null?void 0:s.role)===ua.ADMIN?"Admin Account":(s==null?void 0:s.role)===ua.AFFILIATE?"Affiliate Account":"Customer Account"})]})]}),l.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-8",children:Y()})]})]})},T0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ki=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),At=({message:s,show:c,onClose:u,type:d="success"})=>{if(p.useEffect(()=>{if(c){const h=setTimeout(()=>{u()},3e3);return()=>clearTimeout(h)}},[c,u]),!c)return null;const m=d==="error"?"bg-red-500":d==="warning"?"bg-orange-500":"bg-green-600",y=d==="error"?Ki:d==="warning"?lh:T0;return l.jsx("div",{className:"fixed top-24 right-6 z-50 animate-fade-in-up",children:l.jsxs("div",{className:`flex items-center space-x-4 ${m} text-white text-sm font-semibold px-4 py-3 rounded-lg shadow-lg`,children:[l.jsx(y,{}),l.jsx("span",{children:s}),l.jsx("button",{onClick:u,className:"ml-auto -mr-1 p-1",children:l.jsx(Ki,{})})]})})},M0=({quantity:s,setQuantity:c})=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>c(Math.max(1,s-1)),className:"h-8 w-8 bg-gray-200 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-300 transition",children:"-"}),l.jsx("span",{className:"w-10 text-center font-semibold",children:s}),l.jsx("button",{onClick:()=>c(s+1),className:"h-8 w-8 bg-gray-200 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-300 transition",children:"+"})]}),k0=({product:s,onClose:c,onAddToCart:u,onToggleWishlist:d,isWishlisted:m,onProductSelect:y})=>{var z;const[h,j]=p.useState(1),[g,x]=p.useState(((z=s.sizes)==null?void 0:z[0])||null);p.useEffect(()=>{const D=E=>{E.key==="Escape"&&c()};return window.addEventListener("keydown",D),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",D),document.body.style.overflow="auto"}},[c]);const C=()=>{u(s,h),c()},S=()=>{c(),y(s)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-scale-in",onClick:c,children:l.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[l.jsxs("div",{className:"relative aspect-square",children:[l.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover rounded-t-2xl md:rounded-l-2xl md:rounded-tr-none"}),l.jsx("button",{onClick:c,className:"absolute top-4 right-4 p-2 bg-white/70 backdrop-blur-sm rounded-full text-gray-600 hover:text-brand-dark transition z-10",children:l.jsx(Ki,{})})]}),l.jsxs("div",{className:"p-8 flex flex-col",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-brand-secondary uppercase tracking-wider",children:s.category}),l.jsx("h2",{className:"text-3xl font-bold text-brand-dark mt-2",children:s.name}),l.jsxs("div",{className:"mt-4 flex items-baseline space-x-3",children:[l.jsxs("p",{className:"text-2xl font-bold text-brand-dark",children:["Rs. ",s.price]}),s.originalPrice&&l.jsxs("p",{className:"text-lg text-brand-secondary line-through",children:["Rs. ",s.originalPrice]})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600 leading-relaxed line-clamp-3",children:s.description})]}),s.sizes&&s.sizes.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-sm font-bold text-brand-dark uppercase",children:"Size"}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.sizes.map(D=>l.jsx("button",{onClick:()=>x(D),className:`px-4 py-1.5 rounded-full border text-xs font-semibold transition ${g===D?"bg-brand-dark text-white border-brand-dark":"bg-white text-brand-dark border-gray-300 hover:border-brand-dark"}`,children:D},D))})]}),l.jsxs("div",{className:"mt-auto pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-sm font-bold text-brand-dark uppercase",children:"Quantity"}),l.jsx(M0,{quantity:h,setQuantity:j})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:C,className:"flex-1 bg-brand-dark text-white font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-700 transition",children:"Add to Cart"}),l.jsx("button",{onClick:()=>d(s.id),className:"p-3 bg-white border-2 border-gray-300 rounded-full hover:border-brand-dark transition","aria-label":"Toggle Wishlist",children:l.jsx(jn,{className:`w-5 h-5 transition-colors ${m?"text-red-500 fill-current":"text-gray-500"}`})})]}),l.jsx("button",{onClick:S,className:"w-full text-center mt-3 text-sm font-semibold text-brand-secondary hover:text-brand-dark hover:underline",children:"View full details"})]})]})]})})})},R0=({onLogout:s,onNavigateToPublicView:c})=>l.jsxs("header",{className:"sticky top-0 z-50 bg-brand-dark shadow-md h-16 flex items-center px-6 justify-between",children:[l.jsx("h1",{className:"text-white text-xl font-bold",children:"Shauq Admin"}),l.jsxs("div",{className:"flex items-center gap-4",children:[c&&l.jsx("button",{onClick:c,className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors text-sm font-medium",title:"Switch to Public View",children:"Public View"}),l.jsx("button",{onClick:s,className:"text-white rounded-full p-1.5 hover:bg-white/10 transition-colors",title:"Log Out",children:l.jsx(eh,{})})]})]}),O0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),L0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),D0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01m-1.01 4h.01"})}),z0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A4 4 0 013 12.354"})}),U0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),B0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),H0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),q0=[{name:"Dashboard",icon:l.jsx(O0,{})},{name:"Products",icon:l.jsx(L0,{})},{name:"Categories",icon:l.jsx(Jm,{})},{name:"Orders",icon:l.jsx(D0,{})},{name:"Users",icon:l.jsx(z0,{})},{name:"Commission",icon:l.jsx(_o,{})},{name:"Stakeholders",icon:l.jsx(U0,{})},{name:"CommissionSettings",icon:l.jsx(_o,{})},{name:"Collections",icon:l.jsx(B0,{})},{name:"Financial",icon:l.jsx(H0,{})}],Y0=({activeTab:s,setActiveTab:c})=>l.jsx("aside",{className:"w-64 bg-brand-dark text-white h-[calc(100vh-4rem)] sticky top-16 rounded-tr-2xl rounded-br-2xl flex flex-col p-4",children:l.jsxs("nav",{className:"flex flex-col space-y-2",children:[l.jsx("p",{className:"px-4 pt-2 pb-2 text-xs font-semibold text-gray-400 uppercase",children:"DesktopTopNav"}),q0.map(u=>{const d=s===u.name;return l.jsxs("button",{onClick:()=>c(u.name),className:`flex items-center space-x-3 px-4 py-2.5 rounded-lg transition-colors text-sm font-medium ${d?"bg-sky-500/80 text-white":"text-gray-300 hover:bg-white/10 hover:text-white"}`,children:[u.icon,l.jsx("span",{children:u.name})]},u.name)})]})}),vo=({title:s,value:c})=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("p",{className:"text-sm text-gray-500",children:s}),l.jsx("h3",{className:"text-3xl font-bold text-gray-800 mt-1",children:c})]}),qm=()=>{const[s,c]=p.useState(!0),[u,d]=p.useState(0),[m,y]=p.useState(0),[h,j]=p.useState(0),[g,x]=p.useState(null);return p.useEffect(()=>{(async()=>{c(!0);try{const S=await vn.getOrders({page:1,limit:50});d(Array.isArray(S)?S.length:0);const D=(await la.getProducts({page:1,limit:200})).filter(E=>(E.stock??0)>0&&(E.stock??0)<10).length;y(D);try{const E=await P.get(`${W.ADMIN_AFFILIATE_WITHDRAWALS}?status=pending`),K=E&&(E.data||E.result||E.items)||E||[];j(Array.isArray(K)?K.length:0)}catch{const E=await P.get(W.ADMIN_AFFILIATE_WITHDRAWALS),K=E&&(E.data||E.result||E.items)||E||[];j(Array.isArray(K)?K.length:0)}}catch(S){console.error("Dashboard load failed",S),x({msg:(S==null?void 0:S.message)||"Failed to load dashboard",type:"error"})}finally{c(!1)}})()},[]),s?l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:l.jsx("div",{className:"py-16 flex items-center justify-center",children:l.jsx(Ke,{size:"lg",text:"Loading dashboard..."})})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(vo,{title:"Recent Orders (last 50)",value:u}),l.jsx(vo,{title:"Low Stock Products (<10)",value:m}),l.jsx(vo,{title:"Pending Withdrawals",value:h})]}),g&&l.jsx(At,{message:g.msg,show:!!g,onClose:()=>x(null),type:g.type})]})},G0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),V0=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})});async function I0(s,c){return await P.post(W.CLOUDINARY_SIGN,{folder:s,tags:c})}async function Ro(s,c){const u=await I0(c==null?void 0:c.folder,c==null?void 0:c.tags),d=`https://api.cloudinary.com/v1_1/${u.cloud_name}/upload`,m=new FormData;m.append("file",s),m.append("api_key",u.api_key),m.append("timestamp",u.timestamp.toString()),m.append("signature",u.signature),u.folder&&m.append("folder",u.folder),u.tags&&m.append("tags",u.tags);const y=await fetch(d,{method:"POST",body:m});if(!y.ok){const j=await y.text().catch(()=>"");throw new Error(`Cloudinary upload failed (${y.status}): ${j}`)}const h=await y.json();if(!h.secure_url||!h.public_id)throw new Error("Cloudinary upload did not return secure_url or public_id");return h}const sh={registerVendor:async s=>{const c=await P.post(W.VENDOR_REGISTER,s);return Se(c)},getVendorByUserId:async s=>{const c=await P.get(W.VENDOR_BY_USER(String(s)));return Se(c)},getVendorBySlug:async s=>{const c=await P.get(W.VENDOR_BY_SLUG(s));return Se(c)},getAllVendors:async s=>{let c=W.VENDORS;if(s){const d=new URLSearchParams;s.type&&d.append("type",s.type),s.active_only!==void 0&&d.append("active_only",String(s.active_only));const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)},updateVendorRegistration:async s=>{const c=await P.put(W.VENDOR_UPDATE,s);return Se(c)}},Q0=({product:s,onSave:c,onClose:u})=>{const[d,m]=p.useState({name:"",category:"",price:"",originalPrice:"",stock:0,description:"",image:"",public_id:"",vendor_id:"",brand_id:""}),[y,h]=p.useState([]),[j,g]=p.useState([]),[x,C]=p.useState([]),[S,z]=p.useState(!1),[D,E]=p.useState([]),[K,ae]=p.useState([]);p.useEffect(()=>{(async()=>{try{const $=(await El.getCategories()).filter(me=>me.is_active!==!1);h($),!s&&$.length>0&&m(me=>me.category?me:{...me,category:$[0].name});const J=await sh.getAllVendors({active_only:!0});g(J);const F=await Eo.getAllBrands(!0);C(F)}catch(A){console.error("Failed to load data:",A)}})()},[s]),p.useEffect(()=>{s?(m({name:s.name,category:s.category||(y.length>0?y[0].name:""),price:s.price,originalPrice:s.originalPrice||"",stock:s.stock||0,description:s.description||"",image:s.image,public_id:s.public_id||"",vendor_id:s.vendor_id?String(s.vendor_id):"",brand_id:s.brand_id?String(s.brand_id):""}),s.images&&Array.isArray(s.images)?E(s.images.map(Y=>({url:Y,public_id:void 0}))):s.image&&E([{url:s.image,public_id:s.public_id}])):E([])},[s,y]),p.useEffect(()=>{const Y=A=>{A.key==="Escape"&&u()};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[u]);const le=Y=>{const{name:A,value:$}=Y.target;m(J=>({...J,[A]:A==="stock"?parseInt($):$}))},Z=Y=>{Y.preventDefault();const A={...d,originalPrice:d.originalPrice||null,public_id:d.public_id||void 0,vendor_id:d.vendor_id?parseInt(d.vendor_id,10):void 0,brand_id:d.brand_id?parseInt(d.brand_id,10):void 0};!s&&D.length>0&&(A.images=D,!A.image&&D[0]&&(A.image=D[0].url,A.public_id=D[0].public_id)),c(s?{...s,...A}:A)},V=async Y=>{const A=Y.target.files;if(!A||A.length===0)return;const $=Array.from(A);z(!0);try{const J=$.map(async(me,se)=>{ae(M=>[...M,se]);try{const M=await Ro(me,{folder:"products"});return{url:M.secure_url,public_id:M.public_id||void 0}}finally{ae(M=>M.filter(q=>q!==se))}}),F=await Promise.all(J);E(me=>[...me,...F]),!d.image&&F.length>0&&m(me=>({...me,image:F[0].url,public_id:F[0].public_id||""}))}catch(J){alert((J==null?void 0:J.message)||"Image upload failed")}finally{z(!1),Y.target.value=""}},ne=Y=>{E(A=>{const $=A.filter((J,F)=>F!==Y);return Y===0&&$.length>0?m(J=>({...J,image:$[0].url,public_id:$[0].public_id||""})):$.length===0&&m(J=>({...J,image:"",public_id:""})),$})},ee=Y=>{D[Y]&&(m(A=>({...A,image:D[Y].url,public_id:D[Y].public_id||""})),E(A=>{const $=[...A],[J]=$.splice(Y,1);return[J,...$]}))};return l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:u,children:l.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",onClick:Y=>Y.stopPropagation(),children:l.jsxs("form",{onSubmit:Z,children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s?"Edit Product":"Add New Product"}),l.jsx("button",{type:"button",onClick:u,className:"p-1 rounded-full hover:bg-gray-100",children:l.jsx(Ki,{})})]}),l.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Name"}),l.jsx("input",{type:"text",name:"name",value:d.name,onChange:le,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Category"}),l.jsx("select",{name:"category",value:d.category,onChange:le,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",required:!0,children:y.length===0?l.jsx("option",{children:"Loading categories..."}):y.map(Y=>l.jsx("option",{value:Y.name,children:Y.name},Y.id))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Price"}),l.jsx("input",{type:"text",name:"price",value:d.price,onChange:le,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Original Price"}),l.jsx("input",{type:"text",name:"originalPrice",value:d.originalPrice,onChange:le,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Stock"}),l.jsx("input",{type:"number",name:"stock",value:d.stock,onChange:le,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Vendor (Optional)"}),l.jsxs("select",{name:"vendor_id",value:d.vendor_id,onChange:le,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",children:[l.jsx("option",{value:"",children:"Select Vendor"}),j.map(Y=>l.jsxs("option",{value:Y.user_id,children:[Y.store_name," (",Y.registration_type,")"]},Y.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Brand (Optional)"}),l.jsxs("select",{name:"brand_id",value:d.brand_id,onChange:le,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",children:[l.jsx("option",{value:"",children:"Select Brand"}),x.map(Y=>l.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Primary Image URL"}),l.jsx("input",{type:"text",name:"image",value:d.image,onChange:le,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none"}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Primary image (auto-filled from first uploaded image)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Product Images"}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:V,disabled:S,className:"w-full mt-1"}),(S||K.length>0)&&l.jsx("div",{className:"mt-2",children:l.jsx(Ke,{size:"sm",text:`Uploading ${K.length} image(s)...`})}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You can select multiple images. First image will be set as primary."})]}),D.length>0&&l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-600 mb-2 block",children:["Uploaded Images (",D.length,")"]}),l.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:D.map((Y,A)=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:`relative aspect-square rounded-lg overflow-hidden border-2 ${d.image===Y.url?"border-brand-dark":"border-gray-200"}`,children:[l.jsx("img",{src:Y.url,alt:`Product image ${A+1}`,className:"w-full h-full object-cover"}),d.image===Y.url&&l.jsx("div",{className:"absolute top-1 left-1 bg-brand-dark text-white text-xs px-2 py-1 rounded",children:"Primary"}),l.jsx("button",{type:"button",onClick:()=>ne(A),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),l.jsx("div",{className:"mt-1 flex gap-1",children:l.jsx("button",{type:"button",onClick:()=>ee(A),className:`text-xs px-2 py-1 rounded ${d.image===Y.url?"bg-brand-dark text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:d.image===Y.url?"Primary":"Set Primary"})})]},A))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),l.jsx("textarea",{name:"description",value:d.description,onChange:le,rows:4,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none resize-y"})]})]}),l.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:u,className:"py-2 px-4 border border-gray-300 rounded-md text-sm font-semibold text-gray-700 hover:bg-gray-100",children:"Cancel"}),l.jsx("button",{type:"submit",className:"py-2 px-4 bg-brand-dark text-white rounded-md text-sm font-semibold hover:bg-gray-700",children:s?"Save Changes":"Add Product"})]})]})})})},X0=({products:s,onAddProduct:c,onUpdateProduct:u,onDeleteProduct:d})=>{const[m,y]=p.useState(!1),[h,j]=p.useState(null),[g,x]=p.useState([]),[C,S]=p.useState(!0),[z,D]=p.useState(null),[E,K]=p.useState(1),[ae]=p.useState(50),[le,Z]=p.useState(!1),[V,ne]=p.useState(void 0),ee=p.useMemo(()=>{if(typeof V=="number"&&V>0)return Math.max(1,Math.ceil(V/ae))},[V,ae]),[Y,A]=p.useState("");p.useEffect(()=>{$()},[E,ae,Y]);const $=async()=>{S(!0);try{const M=await la.getProductsWithMeta({page:E,limit:ae,search:Y||void 0});x(M.items),Z(Array.isArray(M.items)?M.items.length===ae:!1),ne(M.total)}catch(M){D({msg:(M==null?void 0:M.message)||"Failed to load products",type:"error"}),x([])}finally{S(!1)}},J=()=>{j(null),y(!0)},F=M=>{j(M),y(!0)},me=async M=>{if(window.confirm("Are you sure you want to delete this product?"))try{await d(M),await $()}catch(q){D({msg:(q==null?void 0:q.message)||"Delete failed",type:"error"})}},se=async M=>{try{"id"in M?await u(M):await c(M),y(!1),await $()}catch(q){D({msg:(q==null?void 0:q.message)||"Save failed",type:"error"})}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-[0_4px_8px_rgba(0,0,0,0.05)] p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Product Management"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Add, edit, and manage your products."})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:J,className:"bg-gray-800 text-white font-semibold py-2 px-4 rounded-md hover:bg-gray-700 transition-colors",children:"Add New Product"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Search",value:Y,onChange:M=>{A(M.target.value),K(1)},className:"w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400"}),l.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx(Ao,{})})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:C?l.jsx("div",{className:"py-12 flex justify-center",children:l.jsx(Ke,{size:"md",text:"Loading products..."})}):l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 text-sm font-semibold text-gray-600",children:[l.jsx("th",{className:"p-4 rounded-l-lg",children:"Name"}),l.jsx("th",{className:"p-4",children:"Stock"}),l.jsx("th",{className:"p-4",children:"Price"}),l.jsx("th",{className:"p-4 rounded-r-lg",children:"Actions"})]})}),l.jsx("tbody",{children:g.map(M=>l.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 text-sm font-medium text-gray-800",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:M.image,alt:M.name,className:"w-10 h-10 object-cover rounded-md bg-gray-200"}),l.jsx("span",{children:M.name})]})}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:M.stock||0}),l.jsxs("td",{className:"p-4 text-sm text-gray-600",children:["Rs. ",M.price]}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-3 text-gray-500",children:[l.jsx("button",{onClick:()=>F(M),className:"hover:text-blue-600",children:l.jsx(G0,{})}),l.jsx("button",{onClick:()=>me(M.id),className:"hover:text-red-500",children:l.jsx(V0,{})})]})})]},M.id))})]})}),l.jsxs("div",{className:"mt-6 flex justify-end items-center space-x-3 text-sm text-gray-600",children:[typeof V=="number"&&l.jsxs("span",{className:"text-xs text-gray-500",children:["Total: ",V.toLocaleString()]}),l.jsx("button",{onClick:()=>K(Math.max(1,E-1)),disabled:E<=1,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),l.jsxs("span",{children:["Page ",E,ee?` of ${ee}`:""]}),l.jsx("button",{onClick:()=>K(E+1),disabled:ee?E>=ee:!le,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]}),m&&l.jsx(Q0,{product:h,onSave:se,onClose:()=>y(!1)}),z&&l.jsx(At,{message:z.msg,show:!!z,onClose:()=>D(null),type:z.type})]})},Z0=()=>{const[s,c]=p.useState([]),[u,d]=p.useState(!0),[m,y]=p.useState(null),[h,j]=p.useState({name:"",description:"",image_url:"",public_id:"",is_active:!0}),[g,x]=p.useState(null),[C,S]=p.useState(!1);p.useEffect(()=>{z()},[]);const z=async()=>{d(!0);try{const Z=await El.getCategories();c(Z)}catch(Z){x({msg:(Z==null?void 0:Z.message)||"Failed to load categories",type:"error"})}finally{d(!1)}},D=()=>{y(null),j({name:"",description:"",image_url:"",public_id:"",is_active:!0})},E=async Z=>{var V,ne,ee;Z.preventDefault();try{const Y={name:h.name,description:((V=h.description)==null?void 0:V.trim())||void 0,image_url:((ne=h.image_url)==null?void 0:ne.trim())||void 0,public_id:((ee=h.public_id)==null?void 0:ee.trim())||void 0,is_active:h.is_active};if(m){const A=await El.updateCategory(String(m.id),Y);c($=>$.map(J=>J.id===A.id?A:J)),x({msg:"Category updated",type:"success"})}else{const A=await El.createCategory(Y);c($=>[A,...$]),x({msg:"Category created",type:"success"})}D()}catch(Y){x({msg:(Y==null?void 0:Y.message)||"Save failed",type:"error"})}},K=async Z=>{var ne;const V=(ne=Z.target.files)==null?void 0:ne[0];if(V){S(!0);try{const ee=await Ro(V,{folder:"categories"});j(Y=>({...Y,image_url:ee.secure_url,public_id:ee.public_id||""}))}catch(ee){x({msg:(ee==null?void 0:ee.message)||"Image upload failed",type:"error"})}finally{S(!1)}}},ae=Z=>{y(Z),j({name:Z.name,description:Z.description,image_url:Z.image_url,is_active:Z.is_active!==!1})},le=async Z=>{if(confirm("Delete this category?"))try{await El.deleteCategory(String(Z)),c(V=>V.filter(ne=>ne.id!==Z)),x({msg:"Category deleted",type:"success"})}catch(V){x({msg:(V==null?void 0:V.message)||"Delete failed",type:"error"})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:m?"Edit Category":"Create Category"}),l.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx("input",{value:h.name,onChange:Z=>j({...h,name:Z.target.value}),placeholder:"Name",required:!0,className:"border rounded-lg px-3 py-2"}),l.jsx("input",{value:h.description||"",onChange:Z=>j({...h,description:Z.target.value}),placeholder:"Description",className:"border rounded-lg px-3 py-2"}),l.jsx("input",{value:h.image_url||"",onChange:Z=>j({...h,image_url:Z.target.value}),placeholder:"Image URL (optional)",className:"border rounded-lg px-3 py-2"}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:K,disabled:C,className:"w-full"}),C&&l.jsx("div",{className:"mt-2",children:l.jsx(Ke,{size:"sm",text:"Uploading..."})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm text-gray-700",children:"Active"}),l.jsx("input",{type:"checkbox",checked:h.is_active!==!1,onChange:Z=>j({...h,is_active:Z.target.checked})})]}),l.jsxs("div",{className:"md:col-span-4 flex gap-2",children:[l.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-dark text-white rounded-lg",children:m?"Update":"Create"}),m&&l.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 border rounded-lg",children:"Cancel"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Categories"}),l.jsx("button",{onClick:z,className:"text-sm font-semibold text-brand-dark hover:text-gray-700 transition",children:"Refresh"})]}),u?l.jsx("div",{className:"py-12 flex items-center justify-center",children:l.jsx(Ke,{size:"md",text:"Loading categories..."})}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[l.jsx("th",{className:"px-4 py-3",children:"Name"}),l.jsx("th",{className:"px-4 py-3",children:"Description"}),l.jsx("th",{className:"px-4 py-3",children:"Active"}),l.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),l.jsx("tbody",{children:s.map(Z=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 font-semibold",children:Z.name}),l.jsx("td",{className:"px-4 py-3",children:Z.description||"-"}),l.jsx("td",{className:"px-4 py-3",children:Z.is_active!==!1?"Yes":"No"}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>ae(Z),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Edit"}),l.jsx("button",{onClick:()=>le(Z.id),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Delete"})]})})]},Z.id))})]}),s.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-10",children:"No categories found"})]})]}),g&&l.jsx(At,{message:g.msg,show:!!g,onClose:()=>x(null),type:g.type})]})},K0=["all","pending","confirmed","shipped","delivered","cancelled"],J0=()=>{const[s,c]=p.useState([]),[u,d]=p.useState(!0),[m,y]=p.useState(null),[h,j]=p.useState(null),[g,x]=p.useState("all"),[C,S]=p.useState(""),[z,D]=p.useState(null),[E,K]=p.useState(null),[ae,le]=p.useState(!1),[Z,V]=p.useState(1),[ne]=p.useState(50),[ee,Y]=p.useState(!1),[A,$]=p.useState(void 0),J=p.useMemo(()=>{if(typeof A=="number"&&A>0)return Math.max(1,Math.ceil(A/ne))},[A,ne]);p.useEffect(()=>{F()},[Z,g]);const F=async()=>{d(!0),y(null);try{const v={page:Z,limit:ne};g!=="all"&&(v.status=g);const T=await vn.getOrdersWithMeta(v);c(T.items),Y(Array.isArray(T.items)?T.items.length===ne:!1),$(T.total)}catch(v){console.error("Failed to load orders",v),y("Failed to load orders"),j({msg:(v==null?void 0:v.message)||"Failed to load orders",type:"error"}),c([])}finally{d(!1)}},me=p.useMemo(()=>{const v=C.trim().toLowerCase();return s.filter(T=>{const ie=g==="all"?!0:(T.status||"").toLowerCase()===g,L=!v||T.order_id&&T.order_id.toLowerCase().includes(v)||String(T.id).includes(v)||T.customer_name&&T.customer_name.toLowerCase().includes(v)||T.customer_phone&&T.customer_phone.toLowerCase().includes(v);return ie&&L})},[s,g,C]),se=async(v,T)=>{D(`${v}:${T}`);try{await vn.updateOrderStatus(String(v),T),c(ie=>ie.map(L=>L.id===v?{...L,status:T}:L)),j({msg:"Order status updated",type:"success"})}catch(ie){console.error("Failed to update status",ie),j({msg:(ie==null?void 0:ie.message)||"Failed to update status",type:"error"})}finally{D(null)}},M=async v=>{K(null),le(!0);try{const T=await vn.getOrderById(String(v));K(T&&T)}catch(T){j({msg:(T==null?void 0:T.message)||"Failed to load order details",type:"error"})}finally{le(!1)}},q=v=>{const T=(v.items||[]).map(de=>`<tr><td>${de.product_name||de.name||de.product_id}</td><td style="text-align:center;">${de.quantity||1}</td><td style="text-align:right;">Rs. ${(de.price||0).toLocaleString()}</td></tr>`).join(""),ie=`
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Shauq  Invoice #${v.order_id||v.id}</title>
  <style>
    @media print { @page { size: A4; margin: 16mm; } }
    :root { --brand-dark:#111827; --muted:#6B7280; --border:#E5E7EB; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif; color: var(--brand-dark); }
    .wrap { max-width: 800px; margin: 0 auto; }
    .header { display:flex; align-items:center; justify-content:space-between; border-bottom: 2px solid var(--brand-dark); padding-bottom: 12px; margin-bottom: 16px; }
    .brand { display:flex; align-items:center; gap: 12px; }
    .logo { width: 40px; height: 40px; border-radius: 8px; background: var(--brand-dark); color: white; display:flex; align-items:center; justify-content:center; font-weight:700; }
    .brand-title { font-size: 22px; font-weight: 800; letter-spacing: .5px; }
    .brand-sub { font-size: 12px; color: var(--muted); }
    .muted { color: #6B7280; }
    table { width: 100%; border-collapse: collapse; margin-top: 16px; }
    th, td { padding: 8px; border-bottom: 1px solid var(--border); font-size: 12px; }
    th { text-align: left; color: #6B7280; }
    .totals { margin-top: 16px; width: 100%; }
    .totals td { padding: 6px 0; }
    .right { text-align: right; }
    .center { text-align: center; }
    .foot { margin-top: 24px; font-size: 11px; color: var(--muted); display:flex; justify-content:space-between; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div class="brand">
        <div class="logo">S</div>
        <div>
          <div class="brand-title">Shauq</div>
          <div class="brand-sub">Fashion & Lifestyle</div>
        </div>
      </div>
      <div style="text-align:right;">
        <div class="muted">Order</div>
        <div style="font-weight:700;">#${v.order_id||v.id}</div>
      </div>
    </div>
    <div style="display:flex; justify-content:space-between; gap:24px;">
      <div>
        <div class="muted">Billed To</div>
        <div style="font-weight:600;">${v.customer_name||"-"}</div>
        <div class="muted">${v.customer_phone||""}</div>
        ${v.customer_address?`<div class="muted">${v.customer_address}</div>`:""}
      </div>
      <div style="text-align:right;">
        <div class="muted">Placed</div>
        <div style="font-weight:600;">${v.created_at?new Date(v.created_at).toLocaleString():"-"}</div>
      </div>
    </div>
    <table>
    <thead>
      <tr><th>Product</th><th class="center">Qty</th><th class="right">Price</th></tr>
    </thead>
    <tbody>
      ${T}
    </tbody>
    </table>
    <table class="totals">
    <tr><td>Subtotal</td><td class="right">Rs. ${(v.subtotal||0).toLocaleString()}</td></tr>
    <tr><td>Delivery</td><td class="right">Rs. ${(v.delivery_charge||0).toLocaleString()}</td></tr>
    <tr><td><strong>Total</strong></td><td class="right"><strong>Rs. ${(v.total_amount||0).toLocaleString()}</strong></td></tr>
    </table>
    <div class="foot">
      <div>Thanks for shopping with Shauq!</div>
      <div>www.shauq.pk</div>
    </div>
  </div>
  <script>window.onload = () => window.print();<\/script>
</body>
</html>`,L=window.open("","_blank");L&&(L.document.open(),L.document.write(ie),L.document.close())},pe=(v,T)=>{if(!T||T.length===0)return;const ie=Object.keys(T[0]),L=[ie.join(","),...T.map(te=>ie.map(ue=>{const be=te[ue]!==void 0&&te[ue]!==null?String(te[ue]):"",re=be.includes(",")||be.includes('"')||be.includes(`
`),B=be.replace(/"/g,'""');return re?`"${B}"`:B}).join(","))].join(`
`),de=new Blob([L],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),H=URL.createObjectURL(de);N.href=H,N.setAttribute("download",v),document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(H)};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Management"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("select",{value:g,onChange:v=>{x(v.target.value),V(1)},className:"border rounded-md px-3 py-2 text-sm",children:K0.map(v=>l.jsx("option",{value:v,children:v==="all"?"All Statuses":v.charAt(0).toUpperCase()+v.slice(1)},v))}),l.jsx("input",{value:C,onChange:v=>S(v.target.value),placeholder:"Search by order id, name, phone",className:"border rounded-md px-3 py-2 text-sm w-64"}),l.jsx("button",{onClick:()=>pe("orders.csv",me),className:"text-sm font-semibold border rounded-md px-3 py-2 hover:bg-gray-50",title:"Export CSV",children:"Export CSV"}),l.jsx("button",{onClick:F,className:"text-sm font-semibold text-brand-dark hover:text-gray-700 transition",children:"Refresh"})]})]}),u?l.jsx("div",{className:"py-16 flex items-center justify-center",children:l.jsx(Ke,{size:"lg",text:"Loading orders..."})}):m?l.jsx("div",{className:"py-16 text-center text-red-500",children:m}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[l.jsx("th",{className:"px-4 py-3",children:"Order"}),l.jsx("th",{className:"px-4 py-3",children:"Customer"}),l.jsx("th",{className:"px-4 py-3",children:"Total"}),l.jsx("th",{className:"px-4 py-3",children:"Status"}),l.jsx("th",{className:"px-4 py-3",children:"Placed"}),l.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),l.jsx("tbody",{children:me.map(v=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 font-semibold",children:v.order_id?`#${v.order_id}`:`#ORD${v.id}`}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-gray-800",children:v.customer_name||"-"}),l.jsx("span",{className:"text-gray-500",children:v.customer_phone||"-"})]})}),l.jsxs("td",{className:"px-4 py-3",children:["Rs. ",(v.total_amount||0).toLocaleString()]}),l.jsx("td",{className:"px-4 py-3 capitalize",children:v.status||"-"}),l.jsx("td",{className:"px-4 py-3",children:v.created_at?new Date(v.created_at).toLocaleString():"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>M(v.id),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",title:"View details",children:"View"}),["confirmed","shipped","delivered","cancelled"].map(T=>l.jsx("button",{onClick:()=>se(v.id,T),disabled:z===`${v.id}:${T}`,className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100 disabled:opacity-50",title:`Mark ${T}`,children:z===`${v.id}:${T}`?"...":T},T))]})})]},v.id))})]}),me.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-10",children:"No orders found"})]}),h&&l.jsx(At,{message:h.msg,show:!!h,onClose:()=>j(null),type:h.type}),!u&&l.jsxs("div",{className:"flex justify-end gap-3 items-center",children:[typeof A=="number"&&l.jsxs("span",{className:"text-xs text-gray-500",children:["Total: ",A.toLocaleString()]}),l.jsx("button",{onClick:()=>V(Math.max(1,Z-1)),disabled:Z<=1,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),l.jsxs("span",{className:"text-sm text-gray-500 px-2 py-1",children:["Page ",Z,J?` of ${J}`:""]}),l.jsx("button",{onClick:()=>V(Z+1),disabled:J?Z>=J:!ee,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]}),ae||E?l.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Order Details"}),l.jsx("button",{onClick:()=>K(null),className:"px-3 py-1 border rounded-md",children:"Close"})]}),ae?l.jsx("div",{className:"py-8 flex justify-center",children:l.jsx(Ke,{size:"md",text:"Loading details..."})}):E?l.jsxs("div",{className:"space-y-3 max-h-[70vh] overflow-auto",children:[l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>q(E),className:"px-3 py-1 border rounded-md text-sm",children:"Print Invoice"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Order"}),l.jsxs("p",{className:"font-semibold",children:["#",E.order_id||E.id]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Status"}),l.jsx("p",{className:"font-semibold capitalize",children:E.status||"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Customer"}),l.jsx("p",{className:"font-semibold",children:E.customer_name||E.customer_phone||"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Placed"}),l.jsx("p",{className:"font-semibold",children:E.created_at?new Date(E.created_at).toLocaleString():"-"})]})]}),l.jsxs("div",{className:"border-t pt-3",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Items"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[l.jsx("th",{className:"px-2 py-2",children:"Product"}),l.jsx("th",{className:"px-2 py-2",children:"Qty"}),l.jsx("th",{className:"px-2 py-2",children:"Price"})]})}),l.jsx("tbody",{children:(E.items||[]).map((v,T)=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"px-2 py-2",children:v.product_name||v.name||v.product_id}),l.jsx("td",{className:"px-2 py-2",children:v.quantity||1}),l.jsxs("td",{className:"px-2 py-2",children:["Rs. ",(v.price||0).toLocaleString()]})]},T))})]})})]}),l.jsxs("div",{className:"border-t pt-3 grid grid-cols-3 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Subtotal"}),l.jsxs("p",{className:"font-semibold",children:["Rs. ",(E.subtotal||0).toLocaleString()]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Delivery"}),l.jsxs("p",{className:"font-semibold",children:["Rs. ",(E.delivery_charge||0).toLocaleString()]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Total"}),l.jsxs("p",{className:"font-semibold",children:["Rs. ",(E.total_amount||0).toLocaleString()]})]})]})]}):null]})}):null]})},F0=()=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Management"}),l.jsx("p",{className:"mt-2 text-gray-500",children:"Coming soon..."})]}),$0=()=>{const[s,c]=p.useState("users"),[u,d]=p.useState(!0),[m,y]=p.useState(null),[h,j]=p.useState([]),[g,x]=p.useState([]),[C,S]=p.useState([]),[z,D]=p.useState("all"),[E,K]=p.useState(""),[ae,le]=p.useState(1),[Z]=p.useState(50),[V,ne]=p.useState(null),[ee,Y]=p.useState([]),[A,$]=p.useState([]),[J,F]=p.useState(!1);p.useEffect(()=>{s==="users"&&me(),s==="commissions"&&se(),s==="withdrawals"&&M()},[s,ae,z]);const me=async()=>{d(!0);try{const L=await ll.getAdminAffiliateUsers({limit:Z,page:ae});j(L)}catch(L){y({msg:(L==null?void 0:L.message)||"Failed to load affiliate users",type:"error"})}finally{d(!1)}},se=async()=>{d(!0);try{const L=await ll.getAdminCommissions({limit:Z,page:ae,status:z==="all"?void 0:z});x(L)}catch(L){y({msg:(L==null?void 0:L.message)||"Failed to load commissions",type:"error"})}finally{d(!1)}},M=async()=>{d(!0);try{const L=await ll.getAdminWithdrawals({limit:Z,page:ae,status:z==="all"?void 0:z});S(L)}catch(L){y({msg:(L==null?void 0:L.message)||"Failed to load withdrawals",type:"error"})}finally{d(!1)}},q=async L=>{try{await ll.updateWithdrawalStatus(L,"approved"),y({msg:"Withdrawal approved",type:"success"}),await M()}catch(de){y({msg:(de==null?void 0:de.message)||"Approve failed",type:"error"})}},pe=async L=>{try{await ll.updateWithdrawalStatus(L,"rejected"),y({msg:"Withdrawal rejected",type:"success"}),await M()}catch(de){y({msg:(de==null?void 0:de.message)||"Reject failed",type:"error"})}},v=p.useMemo(()=>{const L=E.trim().toLowerCase();return h.filter(de=>!L||de.name&&de.name.toLowerCase().includes(L)||de.email&&de.email.toLowerCase().includes(L)||de.phone&&de.phone.toLowerCase().includes(L))},[h,E]),T=async L=>{ne(L),Y([]),$([]),F(!0);try{const[de,N]=await Promise.all([ll.getAdminAffiliateUserCustomers(String(L.id)),ll.getAdminAffiliateUserOrders(String(L.id))]);Y(de),$(N)}catch(de){y({msg:(de==null?void 0:de.message)||"Failed to load user details",type:"error"})}finally{F(!1)}},ie=()=>{ne(null),Y([]),$([])};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Affiliate Admin"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("select",{value:z,onChange:L=>D(L.target.value),className:"border rounded-md px-3 py-2 text-sm",children:["all","pending","settled","approved","rejected"].map(L=>l.jsx("option",{value:L,children:L},L))}),l.jsx("input",{value:E,onChange:L=>K(L.target.value),placeholder:"Search users...",className:"border rounded-md px-3 py-2 text-sm"})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{c("users"),le(1)},className:`px-4 py-2 rounded-full ${s==="users"?"bg-brand-dark text-white":"border"}`,children:"Users"}),l.jsx("button",{onClick:()=>{c("commissions"),le(1)},className:`px-4 py-2 rounded-full ${s==="commissions"?"bg-brand-dark text-white":"border"}`,children:"Commissions"}),l.jsx("button",{onClick:()=>{c("withdrawals"),le(1)},className:`px-4 py-2 rounded-full ${s==="withdrawals"?"bg-brand-dark text-white":"border"}`,children:"Withdrawals"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>{const L=s==="users"?v:s==="commissions"?g:C;if(!L||L.length===0)return;const de=Object.keys(L[0]),N=[de.join(","),...L.map(be=>de.map(re=>{const B=be[re]!==void 0&&be[re]!==null?String(be[re]):"",ye=B.includes(",")||B.includes('"')||B.includes(`
`),Ue=B.replace(/"/g,'""');return ye?`"${Ue}"`:Ue}).join(","))].join(`
`),H=new Blob([N],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a"),ue=URL.createObjectURL(H);te.href=ue,te.setAttribute("download",`${s}.csv`),document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(ue)},className:"text-sm font-semibold border rounded-md px-3 py-2 hover:bg-gray-50",children:"Export CSV"})}),u?l.jsx("div",{className:"py-12 flex items-center justify-center",children:l.jsx(Ke,{size:"lg",text:"Loading..."})}):s==="users"?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[V?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Affiliate: ",V.name||V.email||V.id]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[V.email," ",V.phone?` ${V.phone}`:""]})]}),l.jsx("button",{onClick:ie,className:"px-4 py-2 border rounded-lg",children:"Back"})]}),J?l.jsx("div",{className:"py-8 flex justify-center",children:l.jsx(Ke,{size:"md",text:"Loading user details..."})}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Customers"}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[l.jsx("th",{className:"px-4 py-3",children:"Name/Phone"}),l.jsx("th",{className:"px-4 py-3",children:"Joined"})]})}),l.jsx("tbody",{children:ee.map(L=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"px-4 py-3",children:L.name||L.phone||"-"}),l.jsx("td",{className:"px-4 py-3",children:L.created_at?new Date(L.created_at).toLocaleString():"-"})]},L.id||L.customer_id))})]}),ee.length===0&&l.jsx("div",{className:"text-gray-500 text-center py-6",children:"No customers"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Orders"}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[l.jsx("th",{className:"px-4 py-3",children:"Order"}),l.jsx("th",{className:"px-4 py-3",children:"Amount"}),l.jsx("th",{className:"px-4 py-3",children:"Status"}),l.jsx("th",{className:"px-4 py-3",children:"Date"})]})}),l.jsx("tbody",{children:A.map(L=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"px-4 py-3",children:L.order_id?`#ORD${L.order_id}`:`#${L.id}`}),l.jsxs("td",{className:"px-4 py-3",children:["Rs. ",(L.total_amount||0).toLocaleString()]}),l.jsx("td",{className:"px-4 py-3 capitalize",children:L.status||"-"}),l.jsx("td",{className:"px-4 py-3",children:L.created_at?new Date(L.created_at).toLocaleString():"-"})]},L.id))})]}),A.length===0&&l.jsx("div",{className:"text-gray-500 text-center py-6",children:"No orders"})]})]})]})]}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[l.jsx("th",{className:"px-4 py-3",children:"User"}),l.jsx("th",{className:"px-4 py-3",children:"Email"}),l.jsx("th",{className:"px-4 py-3",children:"Phone"}),l.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),l.jsx("tbody",{children:v.map(L=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 font-semibold",children:L.name||"-"}),l.jsx("td",{className:"px-4 py-3",children:L.email||"-"}),l.jsx("td",{className:"px-4 py-3",children:L.phone||"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("button",{onClick:()=>T(L),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"View Details"})})]},L.id))})]}),v.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-10",children:"No users found"})]}),!V&&l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx("button",{onClick:()=>le(Math.max(1,ae-1)),className:"px-3 py-1 border rounded disabled:opacity-50",disabled:ae<=1,children:"Prev"}),l.jsxs("span",{className:"text-sm text-gray-500 px-2 py-1",children:["Page ",ae]}),l.jsx("button",{onClick:()=>le(ae+1),className:"px-3 py-1 border rounded",children:"Next"})]})]}):s==="commissions"?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[l.jsx("th",{className:"px-4 py-3",children:"Order"}),l.jsx("th",{className:"px-4 py-3",children:"Affiliate"}),l.jsx("th",{className:"px-4 py-3",children:"Amount"}),l.jsx("th",{className:"px-4 py-3",children:"Status"}),l.jsx("th",{className:"px-4 py-3",children:"Date"})]})}),l.jsx("tbody",{children:g.map(L=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3",children:L.order_id?`#ORD${L.order_id}`:"-"}),l.jsx("td",{className:"px-4 py-3",children:L.affiliate_name||L.affiliate_email||L.affiliate_id||"-"}),l.jsxs("td",{className:"px-4 py-3",children:["Rs. ",(L.amount||0).toLocaleString()]}),l.jsx("td",{className:"px-4 py-3 capitalize",children:L.status||"-"}),l.jsx("td",{className:"px-4 py-3",children:L.created_at?new Date(L.created_at).toLocaleString():"-"})]},L.id))})]}),g.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-10",children:"No commissions found"})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx("button",{onClick:()=>le(Math.max(1,ae-1)),className:"px-3 py-1 border rounded disabled:opacity-50",disabled:ae<=1,children:"Prev"}),l.jsxs("span",{className:"text-sm text-gray-500 px-2 py-1",children:["Page ",ae]}),l.jsx("button",{onClick:()=>le(ae+1),className:"px-3 py-1 border rounded",children:"Next"})]})]}):l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[l.jsx("th",{className:"px-4 py-3",children:"ID"}),l.jsx("th",{className:"px-4 py-3",children:"User"}),l.jsx("th",{className:"px-4 py-3",children:"Amount"}),l.jsx("th",{className:"px-4 py-3",children:"Status"}),l.jsx("th",{className:"px-4 py-3",children:"Requested"}),l.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),l.jsx("tbody",{children:C.map(L=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3",children:L.id}),l.jsx("td",{className:"px-4 py-3",children:L.user_name||L.user_email||L.user_id||"-"}),l.jsxs("td",{className:"px-4 py-3",children:["Rs. ",(L.amount||0).toLocaleString()]}),l.jsx("td",{className:"px-4 py-3 capitalize",children:L.status||"-"}),l.jsx("td",{className:"px-4 py-3",children:L.created_at?new Date(L.created_at).toLocaleString():"-"}),l.jsx("td",{className:"px-4 py-3",children:L.status==="pending"?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>q(String(L.id)),className:"px-2 py-1 text-xs rounded-md border border-green-500 text-green-700 hover:bg-green-50",children:"Approve"}),l.jsx("button",{onClick:()=>pe(String(L.id)),className:"px-2 py-1 text-xs rounded-md border border-red-500 text-red-700 hover:bg-red-50",children:"Reject"})]}):l.jsx("span",{className:"text-gray-400",children:""})})]},L.id))})]}),C.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-10",children:"No withdrawals found"})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx("button",{onClick:()=>le(Math.max(1,ae-1)),className:"px-3 py-1 border rounded disabled:opacity-50",disabled:ae<=1,children:"Prev"}),l.jsxs("span",{className:"text-sm text-gray-500 px-2 py-1",children:["Page ",ae]}),l.jsx("button",{onClick:()=>le(ae+1),className:"px-3 py-1 border rounded",children:"Next"})]})]}),m&&l.jsx(At,{message:m.msg,show:!!m,onClose:()=>y(null),type:m.type})]})},js={getAllStakeholders:async()=>{const s=await P.get(W.ADMIN_STAKEHOLDERS);return ze(s)},getStakeholderById:async s=>{const c=await P.get(W.ADMIN_STAKEHOLDER_BY_ID(String(s)));return Se(c)},updateAllocationPercentage:async(s,c)=>{const u=await P.put(W.ADMIN_STAKEHOLDER_ALLOCATION(String(s)),{allocation_percentage:c});return Se(u)},createSettlement:async(s,c)=>{const u=await P.post(W.ADMIN_STAKEHOLDER_SETTLE(String(s)),c);return Se(u)},processSettlement:async(s,c)=>{const u=await P.put(W.ADMIN_PROCESS_SETTLEMENT(String(s)),c);return Se(u)},getStakeholderSettlements:async(s,c)=>{let u=W.ADMIN_STAKEHOLDER_SETTLEMENTS(String(s));if(c){const m=new URLSearchParams;c.status&&m.append("status",c.status),c.page&&m.append("page",String(c.page)),c.limit&&m.append("limit",String(c.limit));const y=m.toString();y&&(u+=`?${y}`)}const d=await P.get(u);return ze(d)},getAllSettlements:async s=>{let c=W.ADMIN_ALL_SETTLEMENTS;if(s){const d=new URLSearchParams;s.status&&d.append("status",s.status),s.page&&d.append("page",String(s.page)),s.limit&&d.append("limit",String(s.limit));const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)}},Al=({title:s,message:c,icon:u,action:d})=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[u||l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),l.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-2",children:s}),l.jsx("p",{className:"text-brand-secondary mb-4",children:c}),d&&l.jsx("button",{onClick:d.onClick,className:"bg-brand-dark text-white font-semibold py-2 px-6 rounded-full hover:bg-gray-700 transition",children:d.label})]}),W0=()=>{const[s,c]=p.useState("overview"),[u,d]=p.useState([]),[m,y]=p.useState([]),[h,j]=p.useState(!1),[g,x]=p.useState(""),[C,S]=p.useState("success");p.useEffect(()=>{z()},[]),p.useEffect(()=>{s==="settlements"&&D()},[s]);const z=async()=>{j(!0);try{const V=await js.getAllStakeholders();d(V)}catch(V){x("Failed to load stakeholders"),S("error"),console.error("Error loading stakeholders:",V)}finally{j(!1)}},D=async()=>{j(!0);try{const V=await js.getAllSettlements();y(V)}catch(V){x("Failed to load settlements"),S("error"),console.error("Error loading settlements:",V)}finally{j(!1)}},E=async(V,ne)=>{if(ne<0||ne>100){x("Percentage must be between 0 and 100"),S("error");return}j(!0);try{await js.updateAllocationPercentage(V,ne),x("Allocation updated successfully"),S("success"),await z()}catch(ee){x(ee.message||"Failed to update allocation"),S("error")}finally{j(!1)}},K=async(V,ne,ee,Y,A)=>{if(!ne||ne<=0){x("Settlement amount must be greater than 0"),S("error");return}j(!0);try{await js.createSettlement(V,{amount:ne,payment_method:ee||void 0,transaction_id:Y||void 0,notes:A||void 0}),x("Settlement request created successfully"),S("success"),await z(),await D()}catch($){x($.message||"Failed to create settlement"),S("error")}finally{j(!1)}},ae=async(V,ne,ee)=>{j(!0);try{await js.processSettlement(V,{status:ne,transaction_id:ee||void 0}),x(`Settlement ${ne==="processed"?"approved":"rejected"} successfully`),S("success"),await D(),await z()}catch(Y){x(Y.message||`Failed to ${ne} settlement`),S("error")}finally{j(!1)}},le=()=>h&&u.length===0?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(Ke,{size:"lg",text:"Loading stakeholders..."})}):u.length===0?l.jsx(Al,{title:"No Stakeholders Found",message:"There are no stakeholders configured yet."}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Stakeholder Allocation Management"}),u.map(V=>l.jsx(P0,{stakeholder:V,onUpdateAllocation:E,onCreateSettlement:K,isLoading:h},V.id))]}),Z=()=>h&&m.length===0?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(Ke,{size:"lg",text:"Loading settlements..."})}):m.length===0?l.jsx(Al,{title:"No Settlements Found",message:"There are no settlement records yet."}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Settlement History"}),m.map(V=>l.jsx(ep,{settlement:V,onProcessSettlement:ae,isLoading:h},V.id))]});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{onClick:()=>c("overview"),className:`px-6 py-2 rounded-full font-semibold transition ${s==="overview"?"bg-brand-dark text-white":"bg-white text-brand-dark border border-gray-300 hover:bg-gray-50"}`,children:"Overview"}),l.jsx("button",{onClick:()=>c("settlements"),className:`px-6 py-2 rounded-full font-semibold transition ${s==="settlements"?"bg-brand-dark text-white":"bg-white text-brand-dark border border-gray-300 hover:bg-gray-50"}`,children:"Settlements"}),l.jsx("div",{className:"ml-auto flex gap-2",children:s==="overview"?l.jsx("button",{onClick:()=>{if(u.length===0)return;const V=Object.keys(u[0]),ne=[V.join(","),...u.map($=>V.map(J=>{const F=$[J]!==void 0&&$[J]!==null?String($[J]):"",me=F.includes(",")||F.includes('"')||F.includes(`
`),se=F.replace(/"/g,'""');return me?`"${se}"`:se}).join(","))].join(`
`),ee=new Blob([ne],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),A=URL.createObjectURL(ee);Y.href=A,Y.setAttribute("download","stakeholders.csv"),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(A)},className:"px-4 py-2 border rounded-lg",children:"Export CSV"}):l.jsx("button",{onClick:()=>{if(m.length===0)return;const V=Object.keys(m[0]),ne=[V.join(","),...m.map($=>V.map(J=>{const F=$[J]!==void 0&&$[J]!==null?String($[J]):"",me=F.includes(",")||F.includes('"')||F.includes(`
`),se=F.replace(/"/g,'""');return me?`"${se}"`:se}).join(","))].join(`
`),ee=new Blob([ne],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),A=URL.createObjectURL(ee);Y.href=A,Y.setAttribute("download","settlements.csv"),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(A)},className:"px-4 py-2 border rounded-lg",children:"Export CSV"})})]}),s==="overview"?le():Z(),l.jsx(At,{message:g,show:!!g,onClose:()=>x(""),type:C})]})},P0=({stakeholder:s,onUpdateAllocation:c,onCreateSettlement:u,isLoading:d})=>{const[m,y]=p.useState(String(s.allocation_percentage)),[h,j]=p.useState(""),[g,x]=p.useState(""),[C,S]=p.useState(""),[z,D]=p.useState("");return p.useEffect(()=>{y(String(s.allocation_percentage))},[s.allocation_percentage]),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-brand-dark",children:s.name}),s.description&&l.jsx("p",{className:"text-sm text-brand-secondary mt-1",children:s.description})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s.is_active?"bg-green-100 text-green-800":"bg-gray-200 text-gray-700"}`,children:s.is_active?"Active":"Inactive"})]}),l.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[l.jsx(jo,{label:"Total Allocated",value:`Rs ${(s.total_allocated||0).toFixed(2)}`,color:"blue"}),l.jsx(jo,{label:"Total Settled",value:`Rs ${(s.total_settled||0).toFixed(2)}`,color:"green"}),l.jsx(jo,{label:"Available",value:`Rs ${(s.available_balance||0).toFixed(2)}`,color:"orange"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Allocation Percentage"}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:m,onChange:E=>y(E.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),l.jsx("button",{onClick:()=>{const E=parseFloat(m);isNaN(E)||c(s.id,E)},disabled:d,className:"px-6 py-2 bg-brand-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition disabled:opacity-50",children:"Update"})]})]}),l.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-brand-dark mb-4",children:"Create Settlement"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"number",step:"0.01",min:"0",max:s.available_balance,value:h,onChange:E=>j(E.target.value),placeholder:"Amount (Rs)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),l.jsx("input",{type:"text",value:g,onChange:E=>x(E.target.value),placeholder:"Payment Method (Optional)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),l.jsx("input",{type:"text",value:C,onChange:E=>S(E.target.value),placeholder:"Transaction ID (Optional)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),l.jsx("textarea",{value:z,onChange:E=>D(E.target.value),placeholder:"Notes (Optional)",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),l.jsx("button",{onClick:()=>{u(s.id,parseFloat(h)||0,g,C,z),j(""),x(""),S(""),D("")},disabled:d||!h,className:"w-full px-6 py-3 bg-brand-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Create Settlement Request"})]})]})]})]})},jo=({label:s,value:c,color:u})=>{const d={blue:"bg-blue-50 border-blue-200 text-blue-700",green:"bg-green-50 border-green-200 text-green-700",orange:"bg-orange-50 border-orange-200 text-orange-700"};return l.jsxs("div",{className:`p-3 rounded-lg border ${d[u]}`,children:[l.jsx("p",{className:"text-xs font-semibold mb-1",children:s}),l.jsx("p",{className:"text-base font-bold",children:c})]})},ep=({settlement:s,onProcessSettlement:c,isLoading:u})=>{const d=s.status==="processed"?"bg-green-100 text-green-800":s.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";return l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"text-2xl font-bold text-brand-dark mb-2",children:["Rs ",s.amount.toFixed(2)]}),s.payment_method&&l.jsxs("p",{className:"text-sm text-brand-secondary",children:["Payment: ",s.payment_method]}),s.transaction_id&&l.jsxs("p",{className:"text-sm text-brand-secondary",children:["Transaction ID: ",s.transaction_id]}),s.notes&&l.jsxs("p",{className:"text-sm text-brand-secondary mt-1",children:["Notes: ",s.notes]}),s.processed_at&&l.jsxs("p",{className:"text-xs text-brand-secondary mt-1",children:["Processed: ",new Date(s.processed_at).toLocaleString()]})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${d}`,children:s.status.toUpperCase()})]}),s.status==="pending"&&l.jsxs("div",{className:"flex space-x-3 mt-4",children:[l.jsx("button",{onClick:()=>c(s.id,"processed",s.transaction_id),disabled:u,className:"flex-1 px-4 py-2 border-2 border-green-500 text-green-700 font-semibold rounded-lg hover:bg-green-50 transition disabled:opacity-50",children:"Approve"}),l.jsx("button",{onClick:()=>c(s.id,"rejected"),disabled:u,className:"flex-1 px-4 py-2 border-2 border-red-500 text-red-700 font-semibold rounded-lg hover:bg-red-50 transition disabled:opacity-50",children:"Reject"})]})]})},Gi={getCommissionSettings:async()=>{const s=await P.get(W.ADMIN_COMMISSION_SETTINGS);return ze(s).map(u=>({key:u.setting_key||u.key,setting_key:u.setting_key||u.key,value:u.setting_value!==void 0?u.setting_value:u.value,setting_value:u.setting_value!==void 0?u.setting_value:typeof u.value=="number"?u.value:parseFloat(String(u.value))||0,description:u.description,min_value:u.min_value,max_value:u.max_value,updated_at:u.updated_at,updated_by:u.updated_by}))},getCommissionSetting:async s=>{const c=await P.get(W.ADMIN_COMMISSION_SETTING_BY_KEY(s));return Se(c)},updateCommissionSetting:async(s,c,u)=>{const m={value:typeof c=="number"?c:parseFloat(String(c))};u&&(m.reason=u);const y=await P.put(W.ADMIN_COMMISSION_SETTING_BY_KEY(s),m),h=Se(y);return{key:h.setting_key||h.key,setting_key:h.setting_key||h.key,value:h.setting_value!==void 0?h.setting_value:h.value,setting_value:h.setting_value!==void 0?h.setting_value:typeof h.value=="number"?h.value:parseFloat(String(h.value))||0,description:h.description,min_value:h.min_value,max_value:h.max_value,updated_at:h.updated_at,updated_by:h.updated_by}},getCommissionSettingsHistory:async s=>{let c=W.ADMIN_COMMISSION_SETTINGS_HISTORY;if(s){const d=new URLSearchParams;s.setting_key&&d.append("setting_key",s.setting_key),s.limit&&d.append("limit",String(s.limit)),s.offset&&d.append("offset",String(s.offset));const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)}},tp=()=>{const[s,c]=p.useState([]),[u,d]=p.useState([]),[m,y]=p.useState(!1),[h,j]=p.useState(!1),[g,x]=p.useState(""),[C,S]=p.useState("success"),[z,D]=p.useState(null),[E,K]=p.useState(""),[ae,le]=p.useState("");p.useEffect(()=>{Z(),V()},[]);const Z=async(se=!1)=>{se?j(!0):y(!0);try{const M=await Gi.getCommissionSettings();c(M)}catch(M){x("Failed to load commission settings"),S("error"),console.error("Error loading settings:",M)}finally{y(!1),j(!1)}},V=async()=>{try{const se=await Gi.getCommissionSettingsHistory({limit:50});d(se)}catch(se){console.error("Error loading history:",se)}},ne=se=>{const M=me(se);D(M),K(String(F(se))),le("")},ee=()=>{D(null),K(""),le("")},Y=async se=>{const M=parseFloat(E);if(!M||M<=0){x("Value must be greater than 0"),S("error");return}y(!0);try{await Gi.updateCommissionSetting(se,M,ae.trim()||void 0),x("Commission setting updated successfully"),S("success"),ee(),await Z(!0),await V()}catch(q){x(q.message||"Failed to update setting"),S("error")}finally{y(!1)}},A=async se=>{y(!0);try{await Gi.updateCommissionSetting("mlm_commission_type",se?1:0),x(`MLM commission type updated to ${se?"fixed amount":"percentage-based"}`),S("success"),await Z(!0)}catch(M){x(M.message||"Failed to update commission type"),S("error")}finally{y(!1)}},$=()=>{const se=s.find(q=>q.key==="mlm_commission_type"||q.setting_key==="mlm_commission_type");return se?F(se)>=1:!1},J=se=>s.find(M=>M.key===se||M.setting_key===se),F=se=>typeof se.value=="number"?se.value:se.setting_value!==void 0?se.setting_value:parseFloat(String(se.value))||0,me=se=>se.setting_key||se.key;return m&&s.length===0?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(Ke,{size:"lg",text:"Loading commission settings..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Commission Settings"}),l.jsxs("button",{onClick:()=>Z(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center space-x-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:"Refresh"})]})]}),l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx("svg",{className:"w-6 h-6 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),l.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"MLM Fixed Commissions"})]}),l.jsx("p",{className:"text-sm text-brand-secondary mb-4",children:"Configure whether MLM commissions use percentage-based or fixed amounts."}),l.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-semibold text-brand-dark",children:"Commission Type"}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:$(),onChange:se=>A(se.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsx("p",{className:`text-sm font-medium ${$()?"text-green-700":"text-blue-700"}`,children:$()?"Using Fixed Amount Commissions":"Using Percentage-Based Commissions"})]}),$()&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-bold text-brand-dark",children:"Fixed Commission Amounts"}),["mlm_direct_fixed_amount","mlm_indirect_fixed_amount","mlm_root_fixed_amount"].map(se=>{const M=J(se);if(!M)return null;const q=me(M);return l.jsx(Ym,{setting:M,isSelected:z===q,onSelectForEdit:ne,onCancelEdit:ee,onUpdate:Y,editValue:E,editReason:ae,onEditValueChange:K,onEditReasonChange:le,isLoading:m,isFixedAmount:!0},q)})]})]}),s.length===0?l.jsx(Al,{title:"No Commission Settings",message:"No commission settings are configured yet."}):l.jsx("div",{className:"space-y-4",children:s.filter(se=>{const M=se.setting_key||se.key;return M!=="mlm_commission_type"&&!M.includes("fixed_amount")}).map(se=>{const M=me(se);return l.jsx(Ym,{setting:se,isSelected:z===M,onSelectForEdit:ne,onCancelEdit:ee,onUpdate:Y,editValue:E,editReason:ae,onEditValueChange:K,onEditReasonChange:le,isLoading:m,isFixedAmount:!1},M)})}),l.jsxs("div",{className:"mt-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-brand-dark",children:"Change History"}),l.jsxs("button",{onClick:V,className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center space-x-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:"Refresh"})]})]}),u.length===0?l.jsx(Al,{title:"No Change History",message:"No commission setting changes have been made yet."}):l.jsx("div",{className:"space-y-3",children:u.slice(0,10).map(se=>l.jsx(ap,{entry:se},se.id))})]}),l.jsx(At,{message:g,show:!!g,onClose:()=>x(""),type:C})]})},Ym=({setting:s,isSelected:c,onSelectForEdit:u,onCancelEdit:d,onUpdate:m,editValue:y,editReason:h,onEditValueChange:j,onEditReasonChange:g,isLoading:x,isFixedAmount:C})=>{const S=s.setting_key||s.key,z=s.setting_value!==void 0?s.setting_value:typeof s.value=="number"?s.value:parseFloat(String(s.value))||0,D=C?`Rs ${z.toFixed(2)}`:`${z.toFixed(2)}%`,E=S.replace(/_/g," ").toUpperCase();return l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-lg font-bold text-brand-dark",children:E}),s.description&&l.jsx("p",{className:"text-sm text-brand-secondary mt-1",children:s.description})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"text-2xl font-bold text-brand-dark",children:D})})]}),c?l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:["New Value ",C?"(Rs)":"(%)"]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:y,onChange:K=>j(K.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Reason (Optional)"}),l.jsx("textarea",{value:h,onChange:K=>g(K.target.value),placeholder:"Enter reason for change",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),s.min_value!==void 0||s.max_value!==void 0?l.jsxs("p",{className:"text-xs text-brand-secondary mb-2",children:["Range: ",s.min_value!==void 0?`${C?"Rs ":""}${s.min_value.toFixed(2)}${C?"":"%"}`:"N/A"," - ",s.max_value!==void 0?`${C?"Rs ":""}${s.max_value.toFixed(2)}${C?"":"%"}`:"N/A"]}):null,l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition",children:"Cancel"}),l.jsx("button",{onClick:()=>m(S),disabled:x,className:"px-4 py-2 bg-brand-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition disabled:opacity-50",children:x?"Saving...":"Save"})]})]}):l.jsxs("button",{onClick:()=>u(s),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center justify-center space-x-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),l.jsx("span",{children:"Edit"})]})]})},ap=({entry:s})=>{const c=s.setting_key.replace(/_/g," ").toUpperCase(),u=typeof s.old_value=="number"?s.old_value:parseFloat(String(s.old_value)),d=typeof s.new_value=="number"?s.new_value:parseFloat(String(s.new_value)),m=s.setting_key.includes("fixed_amount");return l.jsx("div",{className:"bg-white rounded-xl shadow-md p-4",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-brand-dark",children:c}),l.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[!isNaN(u)&&l.jsx("span",{className:"text-red-600 font-semibold",children:m?`Rs ${u.toFixed(2)}`:`${u.toFixed(2)}%`}),!isNaN(u)&&!isNaN(d)&&l.jsx("svg",{className:"w-4 h-4 text-brand-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),!isNaN(d)&&l.jsx("span",{className:"text-green-600 font-semibold",children:m?`Rs ${d.toFixed(2)}`:`${d.toFixed(2)}%`})]}),s.reason&&l.jsx("p",{className:"text-xs text-brand-secondary italic mt-1",children:s.reason}),l.jsx("p",{className:"text-xs text-brand-secondary mt-2",children:new Date(s.created_at).toLocaleString()})]})})})},nl={getAllCollections:async(s=!0)=>{let c=W.COLLECTIONS;s&&(c+="?active_only=true");const u=await P.get(c);return ze(u)},getCollectionById:async s=>{const c=await P.get(W.COLLECTION_BY_ID(String(s)));return Se(c)},getStoreCollections:async s=>{const c=await P.get(W.STORE_COLLECTIONS(s));return ze(c)},createCollection:async s=>{const c={...s};c.products&&!c.product_ids&&(c.product_ids=c.products,delete c.products);const u=await P.post(W.ADMIN_COLLECTIONS,c);return Se(u)},updateCollection:async(s,c)=>{const u={...c};u.products&&!u.product_ids&&(u.product_ids=u.products,delete u.products);const d=await P.put(W.ADMIN_COLLECTION_BY_ID(String(s)),u);return Se(d)},deleteCollection:async s=>{await P.delete(W.ADMIN_COLLECTION_BY_ID(String(s)))}},lp=()=>{const[s,c]=p.useState([]),[u,d]=p.useState(!0),[m,y]=p.useState(null),[h,j]=p.useState(null),[g,x]=p.useState({name:"",description:"",image_url:"",public_id:"",is_active:!0,products_csv:""}),[C,S]=p.useState(!1),[z,D]=p.useState([]),[E,K]=p.useState([]),[ae,le]=p.useState(""),[Z,V]=p.useState(!1);p.useEffect(()=>{ee(),ne()},[]);const ne=async()=>{V(!0);try{const q=await la.getProducts({limit:1e3});D(q)}catch(q){console.error("Failed to load products:",q)}finally{V(!1)}},ee=async()=>{d(!0);try{const q=await nl.getAllCollections(!1);c(q)}catch(q){y({msg:(q==null?void 0:q.message)||"Failed to load collections",type:"error"}),c([])}finally{d(!1)}},Y=()=>{j(null),x({name:"",description:"",image_url:"",public_id:"",is_active:!0,products_csv:""}),K([]),le("")},A=async q=>{q.preventDefault();try{const pe={name:g.name,description:g.description||void 0,image_url:g.image_url||void 0,public_id:g.public_id||void 0,is_active:g.is_active!==!1},v=E.length>0?E:(g.products_csv||"").split(",").map(T=>parseInt(T.trim(),10)).filter(T=>!isNaN(T));if(v.length>0&&(pe.product_ids=v),h){const T=await nl.updateCollection(h.id,pe);c(ie=>ie.map(L=>L.id===T.id?T:L)),y({msg:"Collection updated",type:"success"})}else{const T=await nl.createCollection(pe);c(ie=>[T,...ie]),y({msg:"Collection created",type:"success"})}Y()}catch(pe){y({msg:(pe==null?void 0:pe.message)||"Save failed",type:"error"})}},$=async q=>{j(q),x({name:q.name,description:q.description||"",image_url:q.image_url||"",public_id:q.public_id||"",is_active:q.is_active!==!1,products_csv:""});try{const pe=await nl.getCollectionById(q.id);pe.products&&pe.products.length>0?K(pe.products.map(v=>v.id)):K([])}catch(pe){console.error("Failed to load collection products:",pe),K([])}},J=async q=>{if(confirm("Delete this collection?"))try{await nl.deleteCollection(q),c(pe=>pe.filter(v=>v.id!==q)),y({msg:"Collection deleted",type:"success"})}catch(pe){y({msg:(pe==null?void 0:pe.message)||"Delete failed",type:"error"})}},F=async q=>{var v;const pe=(v=q.target.files)==null?void 0:v[0];if(pe){S(!0);try{const T=await Ro(pe,{folder:"collections"});x(ie=>({...ie,image_url:T.secure_url,public_id:T.public_id||""}))}catch(T){y({msg:(T==null?void 0:T.message)||"Image upload failed",type:"error"})}finally{S(!1)}}},me=q=>{K(pe=>pe.includes(q)?pe.filter(v=>v!==q):[...pe,q])},se=z.filter(q=>q.name.toLowerCase().includes(ae.toLowerCase())||q.id.toString().includes(ae)),M=z.filter(q=>E.includes(q.id));return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:h?"Edit Collection":"Create Collection"}),l.jsxs("form",{onSubmit:A,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Name"}),l.jsx("input",{value:g.name,onChange:q=>x({...g,name:q.target.value}),placeholder:"Collection Name",required:!0,className:"w-full border rounded-lg px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Active"}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("input",{type:"checkbox",checked:g.is_active!==!1,onChange:q=>x({...g,is_active:q.target.checked})}),l.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Description"}),l.jsx("textarea",{value:g.description||"",onChange:q=>x({...g,description:q.target.value}),placeholder:"Description (optional)",rows:3,className:"w-full border rounded-lg px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Featured Image (Optional)"}),l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"This image will be shown first on the collection page. If not provided, product images will be used."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{value:g.image_url||"",onChange:q=>x({...g,image_url:q.target.value}),placeholder:"Image URL",className:"border rounded-lg px-3 py-2"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:F,disabled:C,className:"w-full"}),C&&l.jsx("div",{className:"mt-2",children:l.jsx(Ke,{size:"sm",text:"Uploading..."})})]})]}),g.image_url&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:g.image_url,alt:"Featured",className:"w-32 h-32 object-cover rounded-lg border"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Select Products"}),l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Search and select products to include in this collection"}),l.jsx("input",{type:"text",value:ae,onChange:q=>le(q.target.value),placeholder:"Search products by name or ID...",className:"w-full border rounded-lg px-3 py-2 mb-3"}),Z?l.jsx("div",{className:"py-4",children:l.jsx(Ke,{size:"sm",text:"Loading products..."})}):l.jsxs("div",{className:"border rounded-lg p-4 max-h-64 overflow-y-auto",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:se.map(q=>l.jsxs("div",{onClick:()=>me(q.id),className:`border rounded-lg p-2 cursor-pointer transition-colors ${E.includes(q.id)?"border-brand-dark bg-brand-dark/10":"border-gray-200 hover:border-gray-300"}`,children:[l.jsxs("div",{className:"relative aspect-square mb-2 rounded overflow-hidden",children:[l.jsx("img",{src:q.image,alt:q.name,className:"w-full h-full object-cover",onError:pe=>{pe.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'}}),E.includes(q.id)&&l.jsx("div",{className:"absolute top-1 right-1 bg-brand-dark text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:""})]}),l.jsx("p",{className:"text-xs font-semibold text-gray-800 truncate",children:q.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Rs. ",q.price]})]},q.id))}),se.length===0&&l.jsx("p",{className:"text-center text-gray-500 py-4",children:"No products found"})]})]}),M.length>0&&l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:["Selected Products (",M.length,")"]}),l.jsx("div",{className:"border rounded-lg p-4",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(q=>l.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-2 bg-gray-50",children:[l.jsx("img",{src:q.image,alt:q.name,className:"w-12 h-12 object-cover rounded",onError:pe=>{pe.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold text-gray-800 truncate",children:q.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",q.id]})]}),l.jsx("button",{type:"button",onClick:()=>me(q.id),className:"text-red-500 hover:text-red-700 text-xs",children:""})]},q.id))})})]}),l.jsx("div",{className:"hidden",children:l.jsx("input",{value:g.products_csv||"",onChange:q=>x({...g,products_csv:q.target.value}),placeholder:"Product IDs (comma-separated)",className:"border rounded-lg px-3 py-2"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-dark text-white rounded-lg",children:h?"Update Collection":"Create Collection"}),h&&l.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 border rounded-lg",children:"Cancel"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Collections"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{if(s.length===0)return;const q=Object.keys(s[0]),pe=[q.join(","),...s.map(L=>q.map(de=>{const N=L[de]!==void 0&&L[de]!==null?String(L[de]):"",H=N.includes(",")||N.includes('"')||N.includes(`
`),te=N.replace(/"/g,'""');return H?`"${te}"`:te}).join(","))].join(`
`),v=new Blob([pe],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),ie=URL.createObjectURL(v);T.href=ie,T.setAttribute("download","collections.csv"),document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(ie)},className:"text-sm font-semibold border rounded-md px-3 py-2 hover:bg-gray-50",children:"Export CSV"}),l.jsx("button",{onClick:ee,className:"text-sm font-semibold text-brand-dark hover:text-gray-700 transition",children:"Refresh"})]})]}),u?l.jsx("div",{className:"py-12 flex items-center justify-center",children:l.jsx(Ke,{size:"md",text:"Loading collections..."})}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[l.jsx("th",{className:"px-4 py-3",children:"Name"}),l.jsx("th",{className:"px-4 py-3",children:"Active"}),l.jsx("th",{className:"px-4 py-3",children:"Created"}),l.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),l.jsx("tbody",{children:s.map(q=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 font-semibold",children:q.name}),l.jsx("td",{className:"px-4 py-3",children:q.is_active!==!1?"Yes":"No"}),l.jsx("td",{className:"px-4 py-3",children:q.created_at?new Date(q.created_at).toLocaleString():"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>$(q),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Edit"}),l.jsx("button",{onClick:()=>J(q.id),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Delete"})]})})]},q.id))})]}),s.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-10",children:"No collections found"})]})]}),m&&l.jsx(At,{message:m.msg,show:!!m,onClose:()=>y(null),type:m.type})]})},Vi={getReasons:async s=>{let c=W.FINANCIAL_REASONS;s&&(c+=`?type=${s}`);const u=await P.get(c);return ze(u)},getBalance:async s=>{let c=W.FINANCIAL_BALANCE;if(s){const d=new URLSearchParams;s.user_id&&d.append("user_id",String(s.user_id)),s.vendor_id&&d.append("vendor_id",String(s.vendor_id)),s.brand_id&&d.append("brand_id",String(s.brand_id));const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return Se(u)},getTransactions:async s=>{let c=W.FINANCIAL_TRANSACTIONS;if(s){const d=new URLSearchParams;s.user_id&&d.append("user_id",String(s.user_id)),s.vendor_id&&d.append("vendor_id",String(s.vendor_id)),s.brand_id&&d.append("brand_id",String(s.brand_id)),s.limit&&d.append("limit",String(s.limit)),s.offset&&d.append("offset",String(s.offset));const m=d.toString();m&&(c+=`?${m}`)}const u=await P.get(c);return ze(u)},createTransaction:async s=>{const c=await P.post(W.FINANCIAL_TRANSACTIONS,s);return Se(c)}},np=()=>{const[s,c]=p.useState(null),[u,d]=p.useState([]),[m,y]=p.useState([]),[h,j]=p.useState(!0),[g,x]=p.useState(!1),[C,S]=p.useState(""),[z,D]=p.useState(""),[E,K]=p.useState(!1),[ae,le]=p.useState("all"),[Z,V]=p.useState(1),ne=20,[ee,Y]=p.useState({user_id:void 0,vendor_id:void 0,brand_id:void 0,amount:0,type:"credit",reason_code:"",description:"",reference_id:void 0,reference_type:void 0});p.useEffect(()=>{A()},[ae,Z]);const A=async()=>{j(!0),S("");try{const M=await Vi.getBalance();c(M);const q=await Vi.getTransactions({limit:ne,offset:(Z-1)*ne});if(d(q),m.length===0){const pe=await Vi.getReasons();y(pe)}}catch(M){S((M==null?void 0:M.message)||"Failed to load financial data"),console.error("Error loading financial data:",M)}finally{j(!1)}},$=async M=>{M.preventDefault(),x(!0),S(""),D("");try{await Vi.createTransaction(ee),D("Transaction created successfully"),K(!1),Y({user_id:void 0,vendor_id:void 0,brand_id:void 0,amount:0,type:"credit",reason_code:"",description:"",reference_id:void 0,reference_type:void 0}),A()}catch(q){S((q==null?void 0:q.message)||"Failed to create transaction")}finally{x(!1)}},J=ae==="all"?u:u.filter(M=>M.type===ae),F=ee.type?m.filter(M=>M.type===ee.type||M.type==="both"):m,me=M=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(M),se=M=>new Date(M).toLocaleString("en-PK",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return h&&!s?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(Ke,{size:"md",text:"Loading financial data..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Financial Transactions"}),l.jsx("button",{onClick:()=>K(!E),className:"px-4 py-2 bg-brand-dark text-white rounded-lg hover:bg-gray-700 transition",children:E?"Cancel":"Create Transaction"})]}),s&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Current Balance"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Available Balance"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:me(s.balance)})]}),s.pending_balance!==void 0&&s.pending_balance>0&&l.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Pending Balance"}),l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:me(s.pending_balance)})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Balance"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:me(s.balance+(s.pending_balance||0))})]})]})]}),E&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Create New Transaction"}),l.jsxs("form",{onSubmit:$,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Transaction Type"}),l.jsxs("select",{value:ee.type,onChange:M=>Y({...ee,type:M.target.value,reason_code:""}),className:"w-full mt-1 px-3 py-2 border rounded-lg",required:!0,children:[l.jsx("option",{value:"credit",children:"Credit"}),l.jsx("option",{value:"debit",children:"Debit"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Amount"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:ee.amount,onChange:M=>Y({...ee,amount:parseFloat(M.target.value)||0}),className:"w-full mt-1 px-3 py-2 border rounded-lg",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Reason"}),l.jsxs("select",{value:ee.reason_code,onChange:M=>Y({...ee,reason_code:M.target.value}),className:"w-full mt-1 px-3 py-2 border rounded-lg",required:!0,children:[l.jsx("option",{value:"",children:"Select Reason"}),F.map(M=>l.jsxs("option",{value:M.code,children:[M.name," ",M.description&&`- ${M.description}`]},M.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description (Optional)"}),l.jsx("textarea",{value:ee.description,onChange:M=>Y({...ee,description:M.target.value}),className:"w-full mt-1 px-3 py-2 border rounded-lg",rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Reference Type (Optional)"}),l.jsx("input",{type:"text",value:ee.reference_type||"",onChange:M=>Y({...ee,reference_type:M.target.value||void 0}),className:"w-full mt-1 px-3 py-2 border rounded-lg",placeholder:"e.g., order, withdrawal, commission"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Reference ID (Optional)"}),l.jsx("input",{type:"number",value:ee.reference_id||"",onChange:M=>Y({...ee,reference_id:M.target.value?parseInt(M.target.value):void 0}),className:"w-full mt-1 px-3 py-2 border rounded-lg",placeholder:"Reference ID"})]})]}),C&&l.jsx("p",{className:"text-red-500 text-sm",children:C}),z&&l.jsx("p",{className:"text-green-500 text-sm",children:z}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-brand-dark text-white rounded-lg hover:bg-gray-700 transition disabled:opacity-50",children:g?"Creating...":"Create Transaction"}),l.jsx("button",{type:"button",onClick:()=>K(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50 transition",children:"Cancel"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Transaction History"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>le("all"),className:`px-3 py-1 rounded-lg text-sm ${ae==="all"?"bg-brand-dark text-white":"bg-gray-100 text-gray-700"}`,children:"All"}),l.jsx("button",{onClick:()=>le("credit"),className:`px-3 py-1 rounded-lg text-sm ${ae==="credit"?"bg-green-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Credits"}),l.jsx("button",{onClick:()=>le("debit"),className:`px-3 py-1 rounded-lg text-sm ${ae==="debit"?"bg-red-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Debits"})]})]}),h?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(Ke,{size:"sm",text:"Loading transactions..."})}):J.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"No transactions found"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Date"}),l.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Type"}),l.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Reason"}),l.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Description"}),l.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Amount"}),l.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Balance After"}),l.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Reference"})]})}),l.jsx("tbody",{children:J.map(M=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:se(M.created_at)}),l.jsx("td",{className:"py-3 px-4",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${M.type==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:M.type.toUpperCase()})}),l.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:M.reason_name||M.reason_code||"N/A"}),l.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:M.description||"-"}),l.jsxs("td",{className:`py-3 px-4 text-sm font-semibold text-right ${M.type==="credit"?"text-green-600":"text-red-600"}`,children:[M.type==="credit"?"+":"-",me(M.amount)]}),l.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 text-right",children:M.balance_after!==void 0?me(M.balance_after):"-"}),l.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:M.reference_type&&M.reference_id?`${M.reference_type} #${M.reference_id}`:"-"})]},M.id))})]})}),u.length>=ne&&l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsx("button",{onClick:()=>V(M=>Math.max(1,M-1)),disabled:Z===1,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),l.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",Z]}),l.jsx("button",{onClick:()=>V(M=>M+1),disabled:u.length<ne,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})},sp=({onLogout:s,products:c,onAddProduct:u,onUpdateProduct:d,onDeleteProduct:m,onNavigateToPublicView:y})=>{const[h,j]=p.useState("Products"),g=()=>{switch(h){case"Dashboard":return l.jsx(qm,{});case"Products":return l.jsx(X0,{products:c,onAddProduct:u,onUpdateProduct:d,onDeleteProduct:m});case"Categories":return l.jsx(Z0,{});case"Orders":return l.jsx(J0,{});case"Users":return l.jsx(F0,{});case"Commission":return l.jsx($0,{});case"Stakeholders":return l.jsx(W0,{});case"CommissionSettings":return l.jsx(tp,{});case"Collections":return l.jsx(lp,{});case"Financial":return l.jsx(np,{});default:return l.jsx(qm,{})}};return l.jsxs("div",{className:"bg-brand-bg min-h-screen",children:[l.jsx(R0,{onLogout:s,onNavigateToPublicView:y}),l.jsxs("div",{className:"flex",children:[l.jsx(Y0,{activeTab:h,setActiveTab:j}),l.jsx("main",{className:"flex-1 p-6",children:g()})]})]})},ip=({onNavigate:s})=>{const c=p.useRef(null),[u,d]=p.useState({x:30,y:window.innerHeight-100}),[m,y]=p.useState(!1),h=p.useRef({x:0,y:0});p.useEffect(()=>{const S=()=>{d(z=>({x:Math.min(z.x,window.innerWidth-60),y:Math.min(z.y,window.innerHeight-60)}))};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const j=S=>{if(!c.current)return;const z=c.current.getBoundingClientRect();h.current={x:S.clientX-z.left,y:S.clientY-z.top},y(!0),S.preventDefault()},g=S=>{if(!m)return;let z=S.clientX-h.current.x,D=S.clientY-h.current.y;z=Math.max(10,Math.min(z,window.innerWidth-60)),D=Math.max(10,Math.min(D,window.innerHeight-60)),d({x:z,y:D})},x=()=>{m&&(y(!1),setTimeout(()=>{c.current&&(c.current.dataset.dragging="false")},0))};p.useEffect(()=>(m&&(c.current&&(c.current.dataset.dragging="true"),window.addEventListener("mousemove",g),window.addEventListener("mouseup",x)),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",x)}),[m]);const C=()=>{var S;((S=c.current)==null?void 0:S.dataset.dragging)!=="true"&&s()};return l.jsx("button",{ref:c,onClick:C,onMouseDown:j,className:"fixed z-50 w-14 h-14 bg-brand-dark text-white rounded-full flex items-center justify-center shadow-2xl cursor-grab active:cursor-grabbing transition-transform duration-200 hover:scale-110",style:{left:`${u.x}px`,top:`${u.y}px`,transform:m?"scale(1.1)":"scale(1)"},title:"Go to Admin Panel",children:l.jsx(nh,{})})},ih=({collection:s,onCollectionSelect:c,primaryColor:u})=>{const d=s.products||[],m=typeof s.products_count=="number"?s.products_count:d.length,y=u||"#1F2937";return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[s.image_url&&l.jsx("div",{className:"relative h-32 w-full",children:l.jsx("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-cover",onError:h=>{h.currentTarget.style.display="none"}})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:y},children:s.name}),s.description&&l.jsx("p",{className:"text-sm text-brand-secondary",children:s.description}),l.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:m>0?`${m} ${m===1?"product":"products"}`:"No products in this collection yet"})]}),d.length>0?l.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:d.slice(0,5).map((h,j)=>l.jsxs("div",{className:"flex-shrink-0 w-32 cursor-pointer",onClick:()=>c(s),children:[l.jsx("div",{className:"relative aspect-square mb-2 rounded-lg overflow-hidden",children:l.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover",onError:g=>{g.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'}})}),l.jsx("p",{className:"text-xs font-semibold text-brand-dark truncate",children:h.name}),l.jsxs("p",{className:"text-xs font-bold text-brand-dark",children:["Rs. ",h.price]})]},h.id))}):null,l.jsx("button",{onClick:()=>c(s),className:"w-full mt-3 py-2 px-4 rounded-full font-semibold text-white transition-colors",style:{backgroundColor:y},onMouseEnter:h=>{h.currentTarget.style.opacity="0.9"},onMouseLeave:h=>{h.currentTarget.style.opacity="1"},children:"View Collection"})]})]})},Oo=({message:s,onRetry:c,retryText:u="Retry"})=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("div",{className:"mb-4",children:l.jsx("svg",{className:"w-16 h-16 mx-auto text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("p",{className:"text-brand-secondary mb-4",children:s}),c&&l.jsx("button",{onClick:c,className:"bg-brand-dark text-white font-semibold py-2 px-6 rounded-full hover:bg-gray-700 transition",children:u})]}),Gm=({onCollectionSelect:s,onGoBack:c})=>{const[u,d]=p.useState([]),[m,y]=p.useState(!0),[h,j]=p.useState(null),[g,x]=p.useState(""),[C,S]=p.useState("success"),z=p.useRef(!1);p.useEffect(()=>{z.current||(z.current=!0,D())},[]);const D=async()=>{y(!0),j(null);try{const E=await nl.getAllCollections(!0);d(E)}catch(E){j("Failed to load collections. Please try again."),S("error"),x("Failed to load collections"),console.error("Error loading collections:",E)}finally{y(!1)}};return m?l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:c}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Recommended Collections"})]}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(Ke,{size:"lg",text:"Loading collections..."})})]})}):h&&u.length===0?l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:c}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Recommended Collections"})]}),l.jsx(Oo,{message:h,onRetry:D})]})}):l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(pt,{onClick:c}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Recommended Collections"})]}),l.jsx("button",{onClick:D,className:"text-brand-dark hover:text-gray-700 transition",title:"Refresh",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),u.length===0?l.jsx(Al,{title:"No Collections Available",message:"There are no collections available at the moment.",action:{label:"Refresh",onClick:D}}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("p",{className:"text-brand-secondary",children:"Discover curated collections"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(E=>l.jsx(ih,{collection:E,onCollectionSelect:s},E.id))})]}),l.jsx(At,{message:g,show:!!g,onClose:()=>x(""),type:C})]})})},rp=({collection:s,wishlist:c,onToggleWishlist:u,onProductSelect:d,onAddToCart:m,onOpenQuickView:y,onGoBack:h})=>{const[j,g]=p.useState(s),[x,C]=p.useState(!s.products||s.products.length===0),[S,z]=p.useState(null),[D,E]=p.useState(""),[K,ae]=p.useState("success"),le=p.useRef(!1);p.useEffect(()=>{le.current||(le.current=!0,(!j.products||j.products.length===0)&&Z())},[j.id]);const Z=async()=>{C(!0),z(null);try{const ne=await nl.getCollectionById(j.id);g(ne)}catch(ne){z("Failed to load collection details. Please try again."),ae("error"),E("Failed to load collection"),console.error("Error loading collection:",ne)}finally{C(!1)}},V=j.products||[];return l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:h}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:j.name})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[j.image_url&&l.jsx("div",{className:"mb-4",children:l.jsx("img",{src:j.image_url,alt:j.name,className:"w-full h-48 object-cover rounded-lg",onError:ne=>{ne.currentTarget.style.display="none"}})}),j.description&&l.jsx("p",{className:"text-brand-secondary text-lg",children:j.description})]}),x?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(Ke,{size:"lg",text:"Loading products..."})}):S&&V.length===0?l.jsx(Oo,{message:S,onRetry:Z}):V.length===0?l.jsx(Al,{title:"No Products in Collection",message:"This collection doesn't have any products yet."}):l.jsxs(l.Fragment,{children:[l.jsxs("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:["Products (",V.length,")"]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:V.map((ne,ee)=>l.jsx(Ss,{product:ne,index:ee,onProductSelect:d,isWishlisted:c.includes(ne.id),onToggleWishlist:u,onAddToCart:m,onOpenQuickView:y},ne.id))})]}),l.jsx(At,{message:D,show:!!D,onClose:()=>E(""),type:K})]})})},cp=({onGoBack:s,onSuccess:c})=>{const[u,d]=p.useState("vendor"),[m,y]=p.useState(null),[h,j]=p.useState([]),[g,x]=p.useState(!1),[C,S]=p.useState(!1),[z,D]=p.useState(""),[E,K]=p.useState("success"),[ae,le]=p.useState(""),[Z,V]=p.useState(""),[ne,ee]=p.useState(""),[Y,A]=p.useState("");p.useEffect(()=>{u==="brand"&&$()},[u]);const $=async()=>{x(!0);try{const F=await Eo.getAllBrands(!0);j(F)}catch(F){console.error("Error loading brands:",F)}finally{x(!1)}},J=async F=>{if(F.preventDefault(),!ae.trim()){D("Store name is required"),K("error");return}if(u==="brand"&&!m){D("Please select a brand"),K("error");return}S(!0);try{await sh.registerVendor({registration_type:u,brand_id:m||void 0,store_name:ae.trim(),store_slug:Z.trim()||void 0,store_description:ne.trim()||void 0,store_banner_url:Y.trim()||void 0}),D("Vendor registration successful!"),K("success"),le(""),V(""),ee(""),A(""),y(null),c&&setTimeout(()=>{c()},1500)}catch(me){D(me.message||"Registration failed. Please try again."),K("error")}finally{S(!1)}};return l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[800px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:s}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Register as Vendor/Brand"})]}),l.jsxs("form",{onSubmit:J,className:"bg-white rounded-xl shadow-md p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-lg font-bold text-brand-dark mb-4",children:"Registration Type"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("label",{className:"flex-1 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"registrationType",value:"vendor",checked:u==="vendor",onChange:F=>{d("vendor"),y(null)},className:"sr-only"}),l.jsx("div",{className:`p-4 rounded-lg border-2 text-center transition ${u==="vendor"?"border-brand-dark bg-brand-dark text-white":"border-gray-300 bg-white text-brand-dark hover:border-gray-400"}`,children:"Vendor"})]}),l.jsxs("label",{className:"flex-1 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"registrationType",value:"brand",checked:u==="brand",onChange:F=>d("brand"),className:"sr-only"}),l.jsx("div",{className:`p-4 rounded-lg border-2 text-center transition ${u==="brand"?"border-brand-dark bg-brand-dark text-white":"border-gray-300 bg-white text-brand-dark hover:border-gray-400"}`,children:"Brand"})]})]})]}),u==="brand"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Select Brand *"}),g?l.jsx("div",{className:"text-brand-secondary",children:"Loading brands..."}):l.jsxs("select",{value:m||"",onChange:F=>y(Number(F.target.value)||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0,children:[l.jsx("option",{value:"",children:"Select a brand"}),h.map(F=>l.jsx("option",{value:F.id,children:F.name},F.id))]}),h.length===0&&!g&&l.jsx("p",{className:"text-sm text-brand-secondary mt-1",children:"No active brands available. Please contact admin."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Name *"}),l.jsx("input",{type:"text",value:ae,onChange:F=>le(F.target.value),placeholder:"Enter your store name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Slug (Optional)"}),l.jsx("input",{type:"text",value:Z,onChange:F=>V(F.target.value),placeholder:"e.g., my-store-name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),l.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:"Auto-generated if left empty"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Description (Optional)"}),l.jsx("textarea",{value:ne,onChange:F=>ee(F.target.value),placeholder:"Describe your store",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Banner URL (Optional)"}),l.jsx("input",{type:"url",value:Y,onChange:F=>A(F.target.value),placeholder:"https://example.com/banner.jpg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),l.jsx("button",{type:"submit",disabled:C,className:"w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-full hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Registering...":"Register"})]}),l.jsx(At,{message:z,show:!!z,onClose:()=>D(""),type:E})]})})},op={getStorePage:async s=>{const c=await P.get(W.STORE_BY_SLUG(s));return Se(c)},getStoreCollections:async s=>{const c=await P.get(W.STORE_COLLECTIONS(s));return Se(c)||[]}},dp=({primaryColor:s,secondaryColor:c,brandLogo:u,brandBanner:d,children:m})=>{const y=s||"#1F2937",h=c||"#6B7280";return l.jsx("div",{style:{"--brand-primary":y,"--brand-secondary":h},children:m})},up=({storeSlug:s,wishlist:c,onToggleWishlist:u,onProductSelect:d,onAddToCart:m,onOpenQuickView:y,onCollectionSelect:h,onGoBack:j,onNavigateHome:g})=>{const[x,C]=p.useState(null),[S,z]=p.useState([]),[D,E]=p.useState(!0),[K,ae]=p.useState(null),[le,Z]=p.useState("");p.useEffect(()=>{V()},[s]);const V=async()=>{E(!0),ae(null);try{const F=await op.getStorePage(s);C(F);try{const me=await nl.getStoreCollections(s);z(me)}catch(me){console.error("Error loading collections:",me)}}catch(F){ae("Failed to load store. Please try again."),Z("Failed to load store"),console.error("Error loading store:",F)}finally{E(!1)}},ne=F=>{var me;return(me=x==null?void 0:x.brand)!=null&&me.theme_colors&&x.brand.theme_colors[F]||(F==="primary"?"#1F2937":"#6B7280")},ee=ne("primary"),Y=ne("secondary"),A=x==null?void 0:x.store,$=x==null?void 0:x.brand,J=(x==null?void 0:x.products)||[];return D?l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:j}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Loading Store..."})]}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(Ke,{size:"lg",text:"Loading store..."})})]})}):K||!x||!A?l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:j}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Store Not Found"})]}),l.jsx(Oo,{message:K||"Store not found",onRetry:V})]})}):l.jsx(dp,{primaryColor:ee,secondaryColor:Y,brandLogo:$==null?void 0:$.logo_url,brandBanner:A.store_banner_url||($==null?void 0:$.banner_url),children:l.jsxs("div",{className:"bg-brand-bg min-h-screen",children:[(A.store_banner_url||($==null?void 0:$.banner_url))&&l.jsx("div",{className:"w-full h-48 md:h-64 overflow-hidden",children:l.jsx("img",{src:A.store_banner_url||($==null?void 0:$.banner_url),alt:A.store_name,className:"w-full h-full object-cover",onError:F=>{F.currentTarget.style.display="none"}})}),l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:j}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[($==null?void 0:$.logo_url)&&l.jsx("img",{src:$.logo_url,alt:$.name,className:"w-16 h-16 rounded-lg object-cover",onError:F=>{F.currentTarget.style.display="none"}}),l.jsx("h1",{className:"text-4xl font-bold",style:{color:ee},children:A.store_name})]}),A.store_description&&l.jsx("p",{className:"text-brand-secondary text-lg",children:A.store_description}),($==null?void 0:$.brand_tagline)&&l.jsx("p",{className:"text-sm italic mt-2",style:{color:ee},children:$.brand_tagline})]}),l.jsx("button",{onClick:g,className:"px-4 py-2 rounded-full font-semibold text-white transition",style:{backgroundColor:ee},onMouseEnter:F=>{F.currentTarget.style.opacity="0.9"},onMouseLeave:F=>{F.currentTarget.style.opacity="1"},children:"Main Catalog"})]}),S.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:ee},children:"Collections"}),l.jsx("div",{className:"space-y-6",children:S.map(F=>l.jsx(ih,{collection:F,onCollectionSelect:h,primaryColor:ee},F.id))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:ee},children:"Products"}),J.length===0?l.jsx(Al,{title:"No Products Available",message:"This store doesn't have any products yet."}):l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:J.map((F,me)=>{const se={id:F.id||0,name:F.name||"",price:String(F.price||0),originalPrice:F.original_price?String(F.original_price):null,image:F.image_url||"",category:F.category_name||"",stock:F.stock||0};return l.jsx(Ss,{product:se,index:me,onProductSelect:d,isWishlisted:c.includes(se.id),onToggleWishlist:u,onAddToCart:m,onOpenQuickView:y},se.id)})})]})]}),l.jsx(At,{message:le,show:!!le,onClose:()=>Z("")})]})})},fp=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),mp=({onGoBack:s})=>{const[c,u]=p.useState("balance"),[d,m]=p.useState(!0),[y,h]=p.useState(!1),[j,g]=p.useState(null),[x,C]=p.useState(""),[S,z]=p.useState(null),[D,E]=p.useState([]),[K,ae]=p.useState(""),[le,Z]=p.useState(""),[V,ne]=p.useState(""),[ee,Y]=p.useState(""),[A,$]=p.useState(""),[J,F]=p.useState(""),[me,se]=p.useState(""),[M,q]=p.useState(""),[pe,v]=p.useState("success"),T=(()=>{const B=We.getBackendUser();if(B!=null&&B.id){const ye=parseInt(B.id,10);return isNaN(ye)?null:ye}return null})();p.useEffect(()=>{T&&(ie(),L())},[T]),p.useEffect(()=>{c==="balance"&&T?ie():c==="tree"&&T?de():c==="withdrawals"&&N()},[c,T]);const ie=async(B=!1)=>{if(T){B?h(!0):m(!0);try{const ye=await bn.getMlmBalance(T);g(ye)}catch(ye){q("Failed to load balance"),v("error"),console.error("Error loading balance:",ye)}finally{m(!1),h(!1)}}},L=async()=>{try{const B=await bn.getReferralCode();C(B)}catch(B){console.error("Error loading referral code:",B)}},de=async(B=!1)=>{if(T){B?h(!0):m(!0);try{const ye=await bn.getReferralTree(T);z(ye)}catch(ye){q("Failed to load referral tree"),v("error"),console.error("Error loading referral tree:",ye)}finally{m(!1),h(!1)}}},N=async(B=!1)=>{B?h(!0):m(!0);try{const ye=await bn.listWithdrawalRequests();E(ye)}catch(ye){q("Failed to load withdrawals"),v("error"),console.error("Error loading withdrawals:",ye)}finally{m(!1),h(!1)}},H=()=>{x&&(navigator.clipboard.writeText(x),q("Referral code copied to clipboard!"),v("success"))},te=async B=>{B.preventDefault();const ye=parseFloat(K);if(!ye||ye<=0){q("Amount must be greater than 0"),v("error");return}if(j&&ye>j.available_balance){q("Amount exceeds available balance"),v("error");return}m(!0);try{await bn.createWithdrawalRequest({amount:ye,payment_method:le||void 0,bank_name:V||void 0,bank_account_number:ee||void 0,account_holder_name:A||void 0,easypaisa_number:J||void 0,jazzcash_number:me||void 0}),q("Withdrawal request created successfully!"),v("success"),ae(""),Z(""),ne(""),Y(""),$(""),F(""),se(""),T&&await ie(!0),await N(!0)}catch(Ue){q(Ue.message||"Failed to create withdrawal request"),v("error")}finally{m(!1)}},ue=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-brand-dark",children:"MLM Balance"}),l.jsx("button",{onClick:()=>ie(!0),className:"text-brand-dark hover:text-gray-700 transition",title:"Refresh",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),j?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-brand-secondary",children:"Available Balance:"}),l.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["Rs ",j.available_balance.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-brand-secondary",children:"Total Earned:"}),l.jsxs("span",{className:"text-lg font-semibold text-brand-dark",children:["Rs ",j.total_earned.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-brand-secondary",children:"Total Withdrawn:"}),l.jsxs("span",{className:"text-lg font-semibold text-brand-dark",children:["Rs ",j.total_withdrawn.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-brand-secondary",children:"Used for Purchase:"}),l.jsxs("span",{className:"text-lg font-semibold text-brand-dark",children:["Rs ",j.total_used_for_purchase.toFixed(2)]})]})]}):l.jsx("div",{className:"text-brand-secondary",children:"Loading balance..."})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-brand-dark mb-4",children:"Your Referral Code"}),x?l.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border-2 border-gray-200",children:[l.jsx("div",{className:"flex-1 font-mono text-xl font-bold tracking-wider text-brand-dark",children:x}),l.jsx("button",{onClick:H,className:"p-2 bg-brand-dark text-white rounded-lg hover:bg-gray-700 transition",title:"Copy to clipboard",children:l.jsx(fp,{})})]}):l.jsx("div",{className:"text-brand-secondary",children:"Loading referral code..."})]})]}),be=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-2xl font-bold text-brand-dark",children:"Referral Tree"}),l.jsxs("button",{onClick:()=>de(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center space-x-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:"Refresh"})]})]}),d&&!S?l.jsx("div",{className:"text-center py-8 text-brand-secondary",children:"Loading referral tree..."}):S?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"font-bold text-brand-dark",children:["User #",S.user_id]}),l.jsxs("div",{className:"text-sm text-brand-secondary",children:["Direct: ",S.direct_children_count," | Total: ",S.total_descendants_count]})]})]})}),S.children&&S.children.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-brand-dark mb-3",children:"Direct Referrals:"}),l.jsx("div",{className:"space-y-3",children:S.children.map((B,ye)=>l.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 ml-6",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-400 flex items-center justify-center text-white font-bold text-sm",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"font-semibold text-brand-dark",children:["User #",B.user_id]}),l.jsxs("div",{className:"text-sm text-brand-secondary",children:["Direct: ",B.direct_children_count," | Total: ",B.total_descendants_count]})]})]})},ye))})]})]}):l.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:l.jsx("p",{className:"text-brand-secondary",children:"No referral tree available"})})]}),re=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-2xl font-bold text-brand-dark",children:"Withdrawal Requests"}),l.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center space-x-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:"Refresh"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h4",{className:"text-lg font-bold text-brand-dark mb-4",children:"Request Withdrawal"}),l.jsxs("form",{onSubmit:te,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Amount (Rs) *"}),l.jsx("input",{type:"number",step:"0.01",min:"500",value:K,onChange:B=>ae(B.target.value),placeholder:"Minimum Rs 500",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0}),j&&l.jsxs("p",{className:"text-xs text-brand-secondary mt-1",children:["Max: Rs ",j.available_balance.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Payment Method *"}),l.jsxs("select",{value:le,onChange:B=>Z(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0,children:[l.jsx("option",{value:"",children:"Select payment method"}),l.jsx("option",{value:"bank",children:"Bank Transfer"}),l.jsx("option",{value:"easypaisa",children:"Easypaisa"}),l.jsx("option",{value:"jazzcash",children:"JazzCash"})]})]}),le==="bank"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Bank Name *"}),l.jsx("input",{type:"text",value:V,onChange:B=>ne(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Account Number *"}),l.jsx("input",{type:"text",value:ee,onChange:B=>Y(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Account Holder Name *"}),l.jsx("input",{type:"text",value:A,onChange:B=>$(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]})]}),le==="easypaisa"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Easypaisa Number *"}),l.jsx("input",{type:"text",value:J,onChange:B=>F(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),le==="jazzcash"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"JazzCash Number *"}),l.jsx("input",{type:"text",value:me,onChange:B=>se(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-full hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Submitting...":"Submit Withdrawal Request"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold text-brand-dark mb-4",children:"Withdrawal History"}),D.length===0?l.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:l.jsx("p",{className:"text-brand-secondary",children:"No withdrawal requests yet"})}):l.jsx("div",{className:"space-y-3",children:D.map(B=>{const ye=B.status==="processed"?"bg-green-100 text-green-800":B.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";return l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-bold text-lg text-brand-dark",children:["Rs ",B.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-brand-secondary mt-1",children:new Date(B.created_at).toLocaleDateString()})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye}`,children:B.status.toUpperCase()})]}),B.payment_method&&l.jsxs("div",{className:"text-sm text-brand-secondary",children:["Payment: ",B.payment_method]}),B.transaction_id&&l.jsxs("div",{className:"text-sm text-brand-secondary",children:["Transaction ID: ",B.transaction_id]})]},B.id)})})]})]});return T?l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:s}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"MLM Dashboard"})]}),l.jsx("div",{className:"flex space-x-4 mb-6",children:["balance","tree","withdrawals"].map(B=>l.jsx("button",{onClick:()=>u(B),className:`px-6 py-2 rounded-full font-semibold transition ${c===B?"bg-brand-dark text-white":"bg-white text-brand-dark border border-gray-300 hover:bg-gray-50"}`,children:B.charAt(0).toUpperCase()+B.slice(1)},B))}),d&&!j&&!S&&D.length===0?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(Ke,{size:"lg",text:"Loading MLM data..."})}):l.jsxs(l.Fragment,{children:[c==="balance"&&ue(),c==="tree"&&be(),c==="withdrawals"&&re()]}),l.jsx(At,{message:M,show:!!M,onClose:()=>q(""),type:pe})]})}):l.jsx("div",{className:"bg-brand-bg min-h-screen",children:l.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[l.jsx(pt,{onClick:s}),l.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"MLM Dashboard"})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:l.jsx("p",{className:"text-brand-secondary",children:"Please log in to access MLM dashboard"})})]})})},Ii=s=>{var c;return!s||typeof s!="object"?null:(c=s.data)!=null&&c.user?s.data.user:s.user?s.user:s.data&&typeof s.data=="object"&&"id"in s.data&&"email"in s.data?s.data:"id"in s&&"email"in s?s:null},Qi=s=>{var c,u,d;return(c=s.data)!=null&&c.access_token?s.data.access_token:s.access_token?s.access_token:(u=s.data)!=null&&u.token?s.data.token:s.token?s.token:(d=s.result)!=null&&d.token?s.result.token:null},hp=s=>{var c;return(c=s.data)!=null&&c.user?s.data.user:s.user?s.user:null},Xi={login:async s=>{const c={"Content-Type":"application/json; charset=utf-8","app-iss":ka.DEFAULT_HEADERS["app-iss"]};let u=null,d=null;try{u=await P.postRaw(W.LOGIN,s,c)}catch(h){if(d=h,((h==null?void 0:h.status)||(h==null?void 0:h.statusCode)||(h instanceof NotFoundError?404:null))===404){console.warn(`Login endpoint not found at ${W.LOGIN}, trying with trailing slash...`);try{u=await P.postRaw(`${W.LOGIN}/`,s,c)}catch{throw d}}else throw h}if(!u)throw new vt("Login failed: No response received.");const m=Qi(u),y=Ii(u);if(m&&y)return We.saveToken(m),We.saveBackendUser(y),{user:y,token:m};throw new wo("Login failed: Token or user data not found in response.")},register:async s=>{try{const c=await P.post(W.REGISTER,s);let u=Qi(c)||"",d=Ii(c);if(d)return u&&We.saveToken(u),We.saveBackendUser(d),{user:d,token:u};throw new vt("Registration response was invalid (no user found).")}catch(c){if(c instanceof So){console.warn(`Registration with JSON failed on ${W.REGISTER}, trying form-encoded...`,c);const u={"Content-Type":"application/x-www-form-urlencoded; charset=utf-8","app-iss":ka.DEFAULT_HEADERS["app-iss"]},d=new URLSearchParams(s).toString();try{const m=await P.postRaw(W.REGISTER,d,u);let y=Qi(m)||"",h=Ii(m);if(h)return y&&We.saveToken(y),We.saveBackendUser(h),{user:h,token:y};throw new vt("Registration response was invalid (no user found).")}catch(m){if(m instanceof So){console.warn("Registration with form-encoded failed, trying trailing slash...",m);const y=await P.postRaw(`${W.REGISTER}/`,d,u);let h=Qi(y)||"",j=Ii(y);if(j)return h&&We.saveToken(h),We.saveBackendUser(j),{user:j,token:h};throw new vt("Registration response was invalid (no user found).")}throw m}}throw c}},getProfile:async()=>{const s=await P.get(W.PROFILE),c=hp(s);if(c)return c;if(typeof s=="object"&&s!==null&&"id"in s&&"email"in s)return s;throw new vt("Failed to parse user profile from response.")},verifyToken:async()=>{try{return await P.post(W.VERIFY,{}),!0}catch(s){return s instanceof wo||console.error("Token verification failed with an unexpected error:",s),!1}},logout:async()=>{const s=We.getToken();if(We.clearAll(),s)try{await P.post(W.LOGOUT,{})}catch(c){console.warn("Backend logout call failed, but user is logged out locally.",c)}}},Vm={getWishlist:async()=>{const s=await P.get(W.WISHLIST);return ze(s)},addToWishlist:async s=>{const c=Kt.getBackendId(s),u=await P.post(W.WISHLIST,{product_id:parseInt(c)});return Se(u)},removeFromWishlist:async s=>{const c=Kt.getBackendId(s);await P.delete(W.WISHLIST_ITEM(c))}},No={getCart:async()=>{const s=await P.get(W.CART);return ze(s)},addToCart:async(s,c)=>{const u=Kt.getBackendId(s),d=await P.post(W.CART,{product_id:parseInt(u),quantity:c});return Se(d)},updateCartQuantity:async(s,c)=>{const u=await P.patch(W.CART_ITEM(s),{quantity:c});return Se(u)},removeFromCart:async s=>{await P.delete(W.CART_ITEM(s))},clearCart:async()=>{await P.post(W.CART_CLEAR,{})},getCartSummary:async()=>{const s=await P.get(W.CART_SUMMARY);return Se(s)}},xp=()=>{const[s,c]=p.useState(xe.SPLASH),[u,d]=p.useState([]),[m,y]=p.useState(null),[h,j]=p.useState([]),[g,x]=p.useState(""),[C,S]=p.useState(null),[z,D]=p.useState(null),[E,K]=p.useState(null),[ae,le]=p.useState(null),[Z,V]=p.useState([]),[ne,ee]=p.useState([]),[Y,A]=p.useState(""),[$,J]=p.useState("success"),[F,me]=p.useState(null),[se,M]=p.useState([]),[q,pe]=p.useState("Personal Information"),[v,T]=p.useState({categories:[],sizes:[]}),[ie,L]=p.useState(!0),[de,N]=p.useState(!1),[H,te]=p.useState(!1),[ue,be]=p.useState("login"),re=I=>{var Oa,fa,Wt,Tn,Pt;const fe=I.balance_breakdown?{available_balance_before:I.balance_breakdown.available_balance_before||0,mlm_balance_used:I.balance_breakdown.mlm_balance_used||0,account_balance_used:I.balance_breakdown.account_balance_used||0,total_balance_used:I.balance_breakdown.total_balance_used||0,cash_paid:I.balance_breakdown.cash_paid||0,remaining_balance:I.balance_breakdown.remaining_balance||0,breakdown:{mlm_balance:((Oa=I.balance_breakdown.breakdown)==null?void 0:Oa.mlm_balance)||0,platform_rewards:((fa=I.balance_breakdown.breakdown)==null?void 0:fa.platform_rewards)||0,advance_credit:((Wt=I.balance_breakdown.breakdown)==null?void 0:Wt.advance_credit)||0}}:void 0,Re={delivered:"Delivered",pending:"Processing",confirmed:"Processing",shipped:"Processing",cancelled:"Cancelled"}[(Tn=I.status)==null?void 0:Tn.toLowerCase()]||"Processing",Ie=(I.items||[]).map(Qe=>({id:Qe.product_id,backendId:String(Qe.product_id),name:Qe.product_name||"Unknown Product",category:"",price:String(Qe.price||0),originalPrice:null,image:Qe.product_image_url||"",images:[],stock:0,cartItemId:`ci_${Qe.id||Qe.product_id}`,quantity:Qe.quantity||1})),ia=I.date||(I.created_at?new Date(I.created_at).toLocaleDateString("en-GB"):new Date().toLocaleDateString("en-GB"));return{orderId:I.order_id||`#ORD${I.id}`,orderDate:ia,orderType:((Pt=I.order_type)==null?void 0:Pt.toLowerCase())==="customer"?"customer":"self",paymentMethod:I.payment_method||"Cash on Delivery",status:Re,customerInfo:I.customer_phone&&I.customer_address?{phone:I.customer_phone,address:I.customer_address}:void 0,items:Ie,subtotal:(I.total_amount||0)-(I.delivery_charge||0),deliveryFee:I.delivery_charge||0,commission:I.commission||0,mlmBalanceUsed:I.mlm_balance_used||void 0,accountBalanceUsed:I.account_balance_used||void 0,cashPaid:I.cash_paid||void 0,balanceBreakdown:fe,total:I.total_amount||0}};p.useEffect(()=>{(async()=>{const fe=We.getBackendUser(),je=We.getToken();if(!fe||!je){M([]);return}N(!0);try{const Ie=(await vn.getOrders()).map(re);M(Ie)}catch(Re){console.error("Failed to load orders:",Re),A("Failed to load orders. Please try again later."),M([])}finally{N(!1)}})()},[m]),p.useEffect(()=>{(async()=>{if(s===xe.HOME&&h.length===0)try{const fe=await la.getProducts({limit:8});j(fe)}catch(fe){console.error("Failed to load homepage products:",fe)}})()},[s]),p.useEffect(()=>{(async()=>{if(s===xe.ADMIN&&h.length===0)try{const fe=await la.getProducts({limit:200});j(fe)}catch(fe){console.error("Failed to load products for admin:",fe)}})()},[s,h.length]),p.useEffect(()=>{(async()=>{L(!0);try{const fe=We.getToken(),je=We.getBackendUser();if(fe&&je)try{if(await Xi.verifyToken()){const Ie=(je.role||"customer").toLowerCase();y({name:je.name,email:je.email,role:Ie}),B(Ie==="admin"||Ie==="vendor"||Ie==="brand"?xe.ADMIN:xe.HOME,!0),L(!1);return}}catch(Re){console.warn("Stored token is invalid, clearing session:",Re),We.clearAll()}B(xe.AUTH,!0)}catch(fe){console.error("Error during auth check:",fe),B(xe.AUTH,!0)}finally{L(!1)}})()},[]),p.useEffect(()=>{if(Y){const I=setTimeout(()=>A(""),3e3);return()=>clearTimeout(I)}},[Y]);const B=(I,fe=!1)=>{I!==s&&(d(fe?[]:je=>[...je,s]),c(I))},ye=()=>{const I=u[u.length-1];I!==void 0?(d(fe=>fe.slice(0,-1)),s===xe.PRODUCT_DETAIL&&S(null),s===xe.COLLECTION_DETAIL&&D(null),s===xe.BRAND_STORE&&K(null),c(I)):B(xe.HOME,!0)},Ue=async I=>{try{const{user:fe}=await Xi.login({email:I.email,password:I.password}),je=(fe.role||"customer").toLowerCase();y({name:fe.name,email:fe.email,role:je}),M([]),B(je==="admin"||je==="vendor"||je==="brand"?xe.ADMIN:xe.HOME,!0),J("success"),A("Logged in successfully")}catch(fe){J("error"),A(fe.message||"Login failed")}},il=async I=>{try{await Xi.register({name:I.name,email:I.email,phone:I.phone||"",password:I.password}),y(null),M([]),be("login"),J("success"),A("Account created successfully! Please log in to continue."),s!==xe.AUTH&&B(xe.AUTH,!0)}catch(fe){J("error"),A(fe.message||"Sign up failed")}},rl=async()=>{try{await Xi.logout()}catch{}y(null),V([]),ee([]),M([]),B(xe.AUTH,!0)},Nn=()=>{rl()},Sn=I=>{x(I),s!==xe.SEARCH&&B(xe.SEARCH)},ct=()=>B(xe.HOME,!0),Tt=I=>{S(I),B(xe.PRODUCT_DETAIL)},Ut=I=>le(I),Ji=()=>le(null),ws=()=>B(xe.WISHLIST),wn=()=>B(xe.CART),_n=()=>{pe("My Orders"),B(xe.PROFILE)},Tl=()=>{m?(pe("Personal Information"),B(xe.PROFILE)):B(xe.AUTH,!0)},Fi=()=>B(xe.CHECKOUT),Cn=()=>B(xe.COLLECTIONS),ot=I=>{D(I),B(xe.COLLECTION_DETAIL)},$i=()=>B(xe.VENDOR_REGISTRATION),_s=I=>{K(I),B(xe.BRAND_STORE)},Cs=()=>B(xe.MLM_DASHBOARD),Ra=async(I,fe)=>{try{const je=await la.getProducts({category_id:I,limit:40});j(je),T({categories:[fe],sizes:[]}),x(""),B(xe.SEARCH)}catch(je){console.error("Failed to load products for category:",I,je),J("error"),A("Failed to load products. Please try again.")}},En=async()=>{try{const I=await la.getProducts({limit:40});j(I),T({categories:[],sizes:[]}),x(""),B(xe.SEARCH)}catch(I){console.error("Failed to load all products:",I),J("error"),A("Failed to load products. Please try again.")}},Es=async I=>{var fe,je,Re;try{const Ie={order_type:I.orderType,payment_method:I.paymentMethod.toLowerCase().replace(/\s+/g,"_"),customer_name:(fe=I.customerInfo)!=null&&fe.phone?I.customerInfo.phone:void 0,customer_phone:(je=I.customerInfo)==null?void 0:je.phone,customer_address:(Re=I.customerInfo)==null?void 0:Re.address,commission:I.commission>0?I.commission:void 0,mlm_balance_used:I.mlmBalanceUsed,account_balance_used:I.accountBalanceUsed,items:I.items.map(Wt=>({product_id:parseInt(Wt.backendId||String(Wt.id),10),quantity:Wt.quantity}))},ia=await P.post(W.ORDERS,Ie),Oa=Se(ia),fa=re(Oa);me(fa),M(Wt=>[fa,...Wt]),ee([]),B(xe.ORDER_CONFIRMATION,!0)}catch(Ie){console.error("Failed to create order:",Ie),A("Failed to create order. Please try again.")}},Jt=async I=>{const fe=Z.includes(I);try{fe?(await Vm.removeFromWishlist(I),V(je=>je.filter(Re=>Re!==I)),J("success"),A("Removed from Wishlist")):(await Vm.addToWishlist(I),V(je=>[...je,I]),J("success"),A("Added to Wishlist"))}catch(je){J("error"),A((je==null?void 0:je.message)||"Wishlist action failed")}},Ft=async(I,fe)=>{try{if(await No.addToCart(I.id,fe),ne.find(Re=>Re.id===I.id))ee(Re=>Re.map(Ie=>Ie.id===I.id?{...Ie,quantity:Ie.quantity+fe}:Ie));else{const Re={...I,quantity:fe,cartItemId:`temp-${I.id}-${Date.now()}`};ee(Ie=>[...Ie,Re])}J("success"),A("Added to Cart")}catch(je){J("error"),A((je==null?void 0:je.message)||"Failed to add to cart")}},cl=async(I,fe)=>{if(fe<=0){ht(I);return}const je=ne.find(Re=>Re.cartItemId===I);if(je)try{const Re=je.backendId||String(je.id);await No.updateCartQuantity(Re,fe),ee(Ie=>Ie.map(ia=>ia.cartItemId===I?{...ia,quantity:fe}:ia))}catch(Re){J("error"),A((Re==null?void 0:Re.message)||"Failed to update quantity")}},ht=async I=>{const fe=ne.find(je=>je.cartItemId===I);if(fe)try{const je=fe.backendId||String(fe.id);await No.removeFromCart(je),ee(Re=>Re.filter(Ie=>Ie.cartItemId!==I)),J("success"),A("Removed from Cart")}catch(je){J("error"),A((je==null?void 0:je.message)||"Failed to remove item")}},na=I=>T(I),yt=async I=>{try{const fe=await la.createProduct(I);j(je=>[fe,...je]),J("success"),A("Product added successfully!")}catch(fe){J("error"),A((fe==null?void 0:fe.message)||"Failed to add product")}},Wi=async I=>{try{const fe=await la.updateProduct(I.id,I);j(je=>je.map(Re=>Re.id===fe.id?fe:Re)),J("success"),A("Product updated successfully!")}catch(fe){J("error"),A((fe==null?void 0:fe.message)||"Failed to update product")}},Pi=async I=>{try{await la.deleteProduct(I),j(fe=>fe.filter(je=>je.id!==I)),J("success"),A("Product deleted successfully!")}catch(fe){J("error"),A((fe==null?void 0:fe.message)||"Failed to delete product")}},er=p.useMemo(()=>h.filter(I=>Z.includes(I.id)),[Z,h]),Ml=p.useMemo(()=>ne.reduce((I,fe)=>I+fe.quantity,0),[ne]),sa=(m==null?void 0:m.role)===ua.ADMIN||(m==null?void 0:m.role)===ua.VENDOR||(m==null?void 0:m.role)===ua.BRAND;if(ie)return l.jsx(po,{});const kl=()=>{switch(sa&&H&&s===xe.ADMIN?xe.HOME:s){case xe.SPLASH:return l.jsx(po,{});case xe.AUTH:return l.jsx(Rg,{onLoginAttempt:Ue,onSignupAttempt:il,onSkip:ct,defaultView:ue});case xe.HOME:return l.jsx(yo,{products:h,onProductSelect:Tt,wishlist:Z,onToggleWishlist:Jt,onAddToCart:Ft,onOpenQuickView:Ut,onNavigateToCollections:Cn,onStoreSelect:_s,onCategorySelect:Ra,onSeeAllProducts:En});case xe.SEARCH:return l.jsx(t0,{query:g,products:h,onProductSelect:Tt,wishlist:Z,onToggleWishlist:Jt,onAddToCart:Ft,onOpenQuickView:Ut,onGoBack:ye,activeFilters:v,onFilterChange:na});case xe.PRODUCT_DETAIL:const fe=C?Z.includes(C.id):!1;return C?l.jsx(c0,{product:C,isWishlisted:fe,onToggleWishlist:Jt,onAddToCart:Ft,onProductSelect:Tt,onOpenQuickView:Ut,wishlist:Z,onGoBack:ye}):l.jsx(yo,{products:h,onProductSelect:Tt,wishlist:Z,onToggleWishlist:Jt,onAddToCart:Ft,onOpenQuickView:Ut,onNavigateToCollections:Cn,onCategorySelect:Ra,onSeeAllProducts:En});case xe.WISHLIST:return l.jsx(o0,{wishlistedProducts:er,onProductSelect:Tt,onToggleWishlist:Jt,onShopNow:ct,onAddToCart:Ft,onOpenQuickView:Ut,onGoBack:ye});case xe.CART:return l.jsx(m0,{cartItems:ne,onUpdateQuantity:cl,onRemoveItem:ht,onContinueShopping:ct,onCheckout:Fi,onGoBack:ye});case xe.CHECKOUT:return l.jsx(p0,{cartItems:ne,onConfirmOrder:Es,onContinueShopping:ct,onGoBack:ye});case xe.ORDER_CONFIRMATION:return l.jsx(b0,{orderDetails:F,onContinueShopping:ct,onViewMyOrders:_n});case xe.PROFILE:return l.jsx(A0,{user:m,onLogout:rl,setToastMessage:A,orders:se,onShopNow:ct,initialSection:q,onGoBack:ye,onNavigateToVendorRegistration:$i,onNavigateToMlmDashboard:Cs});case xe.COLLECTIONS:return l.jsx(Gm,{onCollectionSelect:ot,onGoBack:ye});case xe.COLLECTION_DETAIL:return z?l.jsx(rp,{collection:z,wishlist:Z,onToggleWishlist:Jt,onProductSelect:Tt,onAddToCart:Ft,onOpenQuickView:Ut,onGoBack:ye}):l.jsx(Gm,{onCollectionSelect:ot,onGoBack:ye});case xe.VENDOR_REGISTRATION:return l.jsx(cp,{onGoBack:ye,onSuccess:ye});case xe.MLM_DASHBOARD:return l.jsx(mp,{onGoBack:ye});case xe.BRAND_STORE:return E?l.jsx(up,{storeSlug:E,wishlist:Z,onToggleWishlist:Jt,onProductSelect:Tt,onAddToCart:Ft,onOpenQuickView:Ut,onCollectionSelect:ot,onGoBack:ye,onNavigateHome:ct}):l.jsx(yo,{products:h,onProductSelect:Tt,wishlist:Z,onToggleWishlist:Jt,onAddToCart:Ft,onOpenQuickView:Ut,onNavigateToCollections:Cn,onCategorySelect:Ra,onSeeAllProducts:En});case xe.ADMIN:return l.jsx(sp,{onLogout:Nn,products:h,onAddProduct:yt,onUpdateProduct:Wi,onDeleteProduct:Pi,onNavigateToPublicView:As});default:return l.jsx(po,{})}},$t=sa&&H&&s===xe.ADMIN?xe.HOME:s,Rl=![xe.SPLASH,xe.AUTH,xe.ORDER_CONFIRMATION,xe.ADMIN].includes($t),ol=$t===xe.ORDER_CONFIRMATION,As=()=>{te(!H),B(H?xe.ADMIN:xe.HOME,!0)},An=()=>{te(!1),B(xe.ADMIN,!0)};return l.jsxs("div",{className:"font-sans antialiased bg-brand-bg min-h-screen",children:[Rl&&l.jsx(zm,{onSearch:Sn,onLogoClick:ct,onWishlistClick:ws,wishlistCount:Z.length,onCartClick:wn,cartItemCount:Ml,onProfileClick:Tl,initialQuery:g,isSignedIn:!!m,userRole:m==null?void 0:m.role,onNavigateToAdmin:sa?An:void 0,onTogglePublicView:sa?As:void 0,isPublicView:H}),ol&&l.jsx(zm,{onSearch:Sn,onLogoClick:ct,onWishlistClick:()=>{},wishlistCount:0,onCartClick:()=>{},cartItemCount:0,simplified:!0,onProfileClick:Tl,initialQuery:g,isSignedIn:!!m,userRole:m==null?void 0:m.role}),kl(),sa&&H&&$t!==xe.ADMIN&&l.jsx(ip,{onNavigate:An}),ae&&l.jsx(k0,{product:ae,onClose:Ji,onAddToCart:Ft,onToggleWishlist:Jt,isWishlisted:Z.includes(ae.id),onProductSelect:Tt}),l.jsx(At,{message:Y,show:!!Y,onClose:()=>A(""),type:$})]})},rh=document.getElementById("root");if(!rh)throw new Error("Could not find root element to mount to");const gp=Tg.createRoot(rh);gp.render(l.jsx(Qm.StrictMode,{children:l.jsx(xp,{})}));
