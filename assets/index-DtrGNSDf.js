var ub=Object.defineProperty;var mb=(n,r,i)=>r in n?ub(n,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[r]=i;var it=(n,r,i)=>mb(n,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();function dg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Id={exports:{}},vr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function fb(){if(_x)return vr;_x=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(c,u,f){var m=null;if(f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),"key"in u){f={};for(var h in u)h!=="key"&&(f[h]=u[h])}else f=u;return u=f.ref,{$$typeof:n,type:c,key:m,ref:u!==void 0?u:null,props:f}}return vr.Fragment=r,vr.jsx=i,vr.jsxs=i,vr}var kx;function hb(){return kx||(kx=1,Id.exports=fb()),Id.exports}var a=hb(),Hd={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function xb(){if(Cx)return ze;Cx=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function N(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function L(S,Q,le){this.props=S,this.context=Q,this.refs=T,this.updater=le||C}L.prototype.isReactComponent={},L.prototype.setState=function(S,Q){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,Q,"setState")},L.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function U(S,Q,le){this.props=S,this.context=Q,this.refs=T,this.updater=le||C}var P=U.prototype=new Y;P.constructor=U,_(P,L.prototype),P.isPureReactComponent=!0;var k=Array.isArray;function A(){}var O={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function H(S,Q,le){var be=le.ref;return{$$typeof:n,type:S,key:Q,ref:be!==void 0?be:null,props:le}}function $(S,Q){return H(S.type,Q,S.props)}function ee(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function J(S){var Q={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(le){return Q[le]})}var D=/\/+/g;function E(S,Q){return typeof S=="object"&&S!==null&&S.key!=null?J(""+S.key):Q.toString(36)}function W(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(A,A):(S.status="pending",S.then(function(Q){S.status==="pending"&&(S.status="fulfilled",S.value=Q)},function(Q){S.status==="pending"&&(S.status="rejected",S.reason=Q)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function M(S,Q,le,be,ge){var je=typeof S;(je==="undefined"||je==="boolean")&&(S=null);var ue=!1;if(S===null)ue=!0;else switch(je){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(S.$$typeof){case n:case r:ue=!0;break;case v:return ue=S._init,M(ue(S._payload),Q,le,be,ge)}}if(ue)return ge=ge(S),ue=be===""?"."+E(S,0):be,k(ge)?(le="",ue!=null&&(le=ue.replace(D,"$&/")+"/"),M(ge,Q,le,"",function(me){return me})):ge!=null&&(ee(ge)&&(ge=$(ge,le+(ge.key==null||S&&S.key===ge.key?"":(""+ge.key).replace(D,"$&/")+"/")+ue)),Q.push(ge)),1;ue=0;var ye=be===""?".":be+":";if(k(S))for(var Oe=0;Oe<S.length;Oe++)be=S[Oe],je=ye+E(be,Oe),ue+=M(be,Q,le,je,ge);else if(Oe=N(S),typeof Oe=="function")for(S=Oe.call(S),Oe=0;!(be=S.next()).done;)be=be.value,je=ye+E(be,Oe++),ue+=M(be,Q,le,je,ge);else if(je==="object"){if(typeof S.then=="function")return M(W(S),Q,le,be,ge);throw Q=String(S),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ue}function q(S,Q,le){if(S==null)return S;var be=[],ge=0;return M(S,be,"","",function(je){return Q.call(le,je,ge++)}),be}function F(S){if(S._status===-1){var Q=S._result;Q=Q(),Q.then(function(le){(S._status===0||S._status===-1)&&(S._status=1,S._result=le)},function(le){(S._status===0||S._status===-1)&&(S._status=2,S._result=le)}),S._status===-1&&(S._status=0,S._result=Q)}if(S._status===1)return S._result.default;throw S._result}var I=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},G={map:q,forEach:function(S,Q,le){q(S,function(){Q.apply(this,arguments)},le)},count:function(S){var Q=0;return q(S,function(){Q++}),Q},toArray:function(S){return q(S,function(Q){return Q})||[]},only:function(S){if(!ee(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ze.Activity=y,ze.Children=G,ze.Component=L,ze.Fragment=i,ze.Profiler=u,ze.PureComponent=U,ze.StrictMode=c,ze.Suspense=g,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ze.__COMPILER_RUNTIME={__proto__:null,c:function(S){return O.H.useMemoCache(S)}},ze.cache=function(S){return function(){return S.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(S,Q,le){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var be=_({},S.props),ge=S.key;if(Q!=null)for(je in Q.key!==void 0&&(ge=""+Q.key),Q)!ae.call(Q,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&Q.ref===void 0||(be[je]=Q[je]);var je=arguments.length-2;if(je===1)be.children=le;else if(1<je){for(var ue=Array(je),ye=0;ye<je;ye++)ue[ye]=arguments[ye+2];be.children=ue}return H(S.type,ge,be)},ze.createContext=function(S){return S={$$typeof:m,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ze.createElement=function(S,Q,le){var be,ge={},je=null;if(Q!=null)for(be in Q.key!==void 0&&(je=""+Q.key),Q)ae.call(Q,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(ge[be]=Q[be]);var ue=arguments.length-2;if(ue===1)ge.children=le;else if(1<ue){for(var ye=Array(ue),Oe=0;Oe<ue;Oe++)ye[Oe]=arguments[Oe+2];ge.children=ye}if(S&&S.defaultProps)for(be in ue=S.defaultProps,ue)ge[be]===void 0&&(ge[be]=ue[be]);return H(S,je,ge)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(S){return{$$typeof:h,render:S}},ze.isValidElement=ee,ze.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:F}},ze.memo=function(S,Q){return{$$typeof:x,type:S,compare:Q===void 0?null:Q}},ze.startTransition=function(S){var Q=O.T,le={};O.T=le;try{var be=S(),ge=O.S;ge!==null&&ge(le,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(A,I)}catch(je){I(je)}finally{Q!==null&&le.types!==null&&(Q.types=le.types),O.T=Q}},ze.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ze.use=function(S){return O.H.use(S)},ze.useActionState=function(S,Q,le){return O.H.useActionState(S,Q,le)},ze.useCallback=function(S,Q){return O.H.useCallback(S,Q)},ze.useContext=function(S){return O.H.useContext(S)},ze.useDebugValue=function(){},ze.useDeferredValue=function(S,Q){return O.H.useDeferredValue(S,Q)},ze.useEffect=function(S,Q){return O.H.useEffect(S,Q)},ze.useEffectEvent=function(S){return O.H.useEffectEvent(S)},ze.useId=function(){return O.H.useId()},ze.useImperativeHandle=function(S,Q,le){return O.H.useImperativeHandle(S,Q,le)},ze.useInsertionEffect=function(S,Q){return O.H.useInsertionEffect(S,Q)},ze.useLayoutEffect=function(S,Q){return O.H.useLayoutEffect(S,Q)},ze.useMemo=function(S,Q){return O.H.useMemo(S,Q)},ze.useOptimistic=function(S,Q){return O.H.useOptimistic(S,Q)},ze.useReducer=function(S,Q,le){return O.H.useReducer(S,Q,le)},ze.useRef=function(S){return O.H.useRef(S)},ze.useState=function(S){return O.H.useState(S)},ze.useSyncExternalStore=function(S,Q,le){return O.H.useSyncExternalStore(S,Q,le)},ze.useTransition=function(){return O.H.useTransition()},ze.version="19.2.0",ze}var Ex;function fu(){return Ex||(Ex=1,Hd.exports=xb()),Hd.exports}var p=fu();const hu=dg(p);var qd={exports:{}},jr={},Pd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function gb(){return Ax||(Ax=1,(function(n){function r(M,q){var F=M.length;M.push(q);e:for(;0<F;){var I=F-1>>>1,G=M[I];if(0<u(G,q))M[I]=q,M[F]=G,F=I;else break e}}function i(M){return M.length===0?null:M[0]}function c(M){if(M.length===0)return null;var q=M[0],F=M.pop();if(F!==q){M[0]=F;e:for(var I=0,G=M.length,S=G>>>1;I<S;){var Q=2*(I+1)-1,le=M[Q],be=Q+1,ge=M[be];if(0>u(le,F))be<G&&0>u(ge,le)?(M[I]=ge,M[be]=F,I=be):(M[I]=le,M[Q]=F,I=Q);else if(be<G&&0>u(ge,F))M[I]=ge,M[be]=F,I=be;else break e}}return q}function u(M,q){var F=M.sortIndex-q.sortIndex;return F!==0?F:M.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var g=[],x=[],v=1,y=null,w=3,N=!1,C=!1,_=!1,T=!1,L=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function P(M){for(var q=i(x);q!==null;){if(q.callback===null)c(x);else if(q.startTime<=M)c(x),q.sortIndex=q.expirationTime,r(g,q);else break;q=i(x)}}function k(M){if(_=!1,P(M),!C)if(i(g)!==null)C=!0,A||(A=!0,J());else{var q=i(x);q!==null&&W(k,q.startTime-M)}}var A=!1,O=-1,ae=5,H=-1;function $(){return T?!0:!(n.unstable_now()-H<ae)}function ee(){if(T=!1,A){var M=n.unstable_now();H=M;var q=!0;try{e:{C=!1,_&&(_=!1,Y(O),O=-1),N=!0;var F=w;try{t:{for(P(M),y=i(g);y!==null&&!(y.expirationTime>M&&$());){var I=y.callback;if(typeof I=="function"){y.callback=null,w=y.priorityLevel;var G=I(y.expirationTime<=M);if(M=n.unstable_now(),typeof G=="function"){y.callback=G,P(M),q=!0;break t}y===i(g)&&c(g),P(M)}else c(g);y=i(g)}if(y!==null)q=!0;else{var S=i(x);S!==null&&W(k,S.startTime-M),q=!1}}break e}finally{y=null,w=F,N=!1}q=void 0}}finally{q?J():A=!1}}}var J;if(typeof U=="function")J=function(){U(ee)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,E=D.port2;D.port1.onmessage=ee,J=function(){E.postMessage(null)}}else J=function(){L(ee,0)};function W(M,q){O=L(function(){M(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(M){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var F=w;w=q;try{return M()}finally{w=F}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=w;w=M;try{return q()}finally{w=F}},n.unstable_scheduleCallback=function(M,q,F){var I=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?I+F:I):F=I,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,M={id:v++,callback:q,priorityLevel:M,startTime:F,expirationTime:G,sortIndex:-1},F>I?(M.sortIndex=F,r(x,M),i(g)===null&&M===i(x)&&(_?(Y(O),O=-1):_=!0,W(k,F-I))):(M.sortIndex=G,r(g,M),C||N||(C=!0,A||(A=!0,J()))),M},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(M){var q=w;return function(){var F=w;w=q;try{return M.apply(this,arguments)}finally{w=F}}}})(Fd)),Fd}var Tx;function pb(){return Tx||(Tx=1,Pd.exports=gb()),Pd.exports}var Vd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function bb(){if(Rx)return Kt;Rx=1;var n=fu();function r(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)x+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var c={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(g,x,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:g,containerInfo:x,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Kt.createPortal=function(g,x){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return f(g,x,null,v)},Kt.flushSync=function(g){var x=m.T,v=c.p;try{if(m.T=null,c.p=2,g)return g()}finally{m.T=x,c.p=v,c.d.f()}},Kt.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,c.d.C(g,x))},Kt.prefetchDNS=function(g){typeof g=="string"&&c.d.D(g)},Kt.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var v=x.as,y=h(v,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,N=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;v==="style"?c.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:N}):v==="script"&&c.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:N,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Kt.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var v=h(x.as,x.crossOrigin);c.d.M(g,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&c.d.M(g)},Kt.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var v=x.as,y=h(v,x.crossOrigin);c.d.L(g,v,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Kt.preloadModule=function(g,x){if(typeof g=="string")if(x){var v=h(x.as,x.crossOrigin);c.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else c.d.m(g)},Kt.requestFormReset=function(g){c.d.r(g)},Kt.unstable_batchedUpdates=function(g,x){return g(x)},Kt.useFormState=function(g,x,v){return m.H.useFormState(g,x,v)},Kt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var Lx;function yb(){if(Lx)return Vd.exports;Lx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Vd.exports=bb(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx;function vb(){if(Dx)return jr;Dx=1;var n=pb(),r=fu(),i=yb();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(c(188))}function x(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(c(188));return t!==e?null:e}for(var s=e,l=t;;){var o=s.return;if(o===null)break;var d=o.alternate;if(d===null){if(l=o.return,l!==null){s=l;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===s)return g(o),e;if(d===l)return g(o),t;d=d.sibling}throw Error(c(188))}if(s.return!==l.return)s=o,l=d;else{for(var b=!1,j=o.child;j;){if(j===s){b=!0,s=o,l=d;break}if(j===l){b=!0,l=o,s=d;break}j=j.sibling}if(!b){for(j=d.child;j;){if(j===s){b=!0,s=d,l=o;break}if(j===l){b=!0,l=d,s=o;break}j=j.sibling}if(!b)throw Error(c(189))}}if(s.alternate!==l)throw Error(c(190))}if(s.tag!==3)throw Error(c(188));return s.stateNode.current===s?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),U=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function E(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case L:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case A:return"SuspenseList";case H:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case U:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return t=e.displayName||null,t!==null?t:E(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return E(e(t))}catch{}}return null}var W=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},I=[],G=-1;function S(e){return{current:e}}function Q(e){0>G||(e.current=I[G],I[G]=null,G--)}function le(e,t){G++,I[G]=e.current,e.current=t}var be=S(null),ge=S(null),je=S(null),ue=S(null);function ye(e,t){switch(le(je,t),le(ge,e),le(be,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qh(t),e=Xh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(be),le(be,e)}function Oe(){Q(be),Q(ge),Q(je)}function me(e){e.memoizedState!==null&&le(ue,e);var t=be.current,s=Xh(t,e.type);t!==s&&(le(ge,e),le(be,s))}function Me(e){ge.current===e&&(Q(be),Q(ge)),ue.current===e&&(Q(ue),gr._currentValue=F)}var kt,yt;function ot(e){if(kt===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);kt=t&&t[1]||"",yt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+e+yt}var Ut=!1;function ea(e,t){if(!e||Ut)return"";Ut=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(te){var K=te}Reflect.construct(e,[],de)}else{try{de.call()}catch(te){K=te}e.call(de.prototype)}}else{try{throw Error()}catch(te){K=te}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(te){if(te&&K&&typeof te.stack=="string")return[te.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],j=d[1];if(b&&j){var R=b.split(`
`),Z=j.split(`
`);for(o=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;o<Z.length&&!Z[o].includes("DetermineComponentFrameRoot");)o++;if(l===R.length||o===Z.length)for(l=R.length-1,o=Z.length-1;1<=l&&0<=o&&R[l]!==Z[o];)o--;for(;1<=l&&0<=o;l--,o--)if(R[l]!==Z[o]){if(l!==1||o!==1)do if(l--,o--,0>o||R[l]!==Z[o]){var ne=`
`+R[l].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=l&&0<=o);break}}}finally{Ut=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ot(s):""}function Qa(e,t){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return e.child!==t&&t!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return ea(e.type,!1);case 11:return ea(e.type.render,!1);case 1:return ea(e.type,!0);case 31:return ot("Activity");default:return""}}function Ht(e){try{var t="",s=null;do t+=Qa(e,s),s=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Zt=Object.prototype.hasOwnProperty,qt=n.unstable_scheduleCallback,Ft=n.unstable_cancelCallback,ds=n.unstable_shouldYield,Ys=n.unstable_requestPaint,dt=n.unstable_now,ua=n.unstable_getCurrentPriorityLevel,ta=n.unstable_ImmediatePriority,aa=n.unstable_UserBlockingPriority,va=n.unstable_NormalPriority,Wt=n.unstable_LowPriority,sa=n.unstable_IdlePriority,us=n.log,ms=n.unstable_setDisableYieldValue,na=null,vt=null;function Nt(e){if(typeof us=="function"&&ms(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(na,e)}catch{}}var xt=Math.clz32?Math.clz32:xs,fs=Math.log,hs=Math.LN2;function xs(e){return e>>>=0,e===0?32:31-(fs(e)/hs|0)|0}var se=256,Ae=262144,We=4194304;function st(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $s(e,t,s){var l=e.pendingLanes;if(l===0)return 0;var o=0,d=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var j=l&134217727;return j!==0?(l=j&~d,l!==0?o=st(l):(b&=j,b!==0?o=st(b):s||(s=j&~e,s!==0&&(o=st(s))))):(j=l&~d,j!==0?o=st(j):b!==0?o=st(b):s||(s=l&~e,s!==0&&(o=st(s)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,s=t&-t,d>=s||d===32&&(s&4194048)!==0)?t:o}function gs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function St(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function re(){var e=We;return We<<=1,(We&62914560)===0&&(We=4194304),e}function pe(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,s,l,o,d){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var j=e.entanglements,R=e.expirationTimes,Z=e.hiddenUpdates;for(s=b&~s;0<s;){var ne=31-xt(s),de=1<<ne;j[ne]=0,R[ne]=-1;var K=Z[ne];if(K!==null)for(Z[ne]=null,ne=0;ne<K.length;ne++){var te=K[ne];te!==null&&(te.lane&=-536870913)}s&=~de}l!==0&&De(e,l,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(b&~t))}function De(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Ee(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-xt(s),o=1<<l;o&t|e[l]&t&&(e[l]|=t),s&=~o}}function ut(e,t){var s=t&-t;return s=(s&42)!==0?1:mt(s),(s&(e.suspendedLanes|t))!==0?0:s}function mt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ct(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ma(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:bx(e.type))}function Tl(e,t){var s=q.p;try{return q.p=e,t()}finally{q.p=s}}var Ta=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Ta,gt="__reactProps$"+Ta,ps="__reactContainer$"+Ta,In="__reactEvents$"+Ta,Vr="__reactListeners$"+Ta,Yr="__reactHandles$"+Ta,$r="__reactResources$"+Ta,we="__reactMarker$"+Ta;function z(e){delete e[Rt],delete e[gt],delete e[In],delete e[Vr],delete e[Yr]}function fe(e){var t=e[Rt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ps]||s[Rt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=ax(e);e!==null;){if(s=e[Rt])return s;e=ax(e)}return t}e=s,s=e.parentNode}return null}function ve(e){if(e=e[Rt]||e[ps]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function et(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function jt(e){var t=e[$r];return t||(t=e[$r]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[we]=!0}var Vt=new Set,Ra={};function fa(e,t){ns(e,t),ns(e+"Capture",t)}function ns(e,t){for(Ra[e]=t,e=0;e<t.length;e++)Vt.add(t[e])}var Bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Ll={};function sp(e){return Zt.call(Ll,e)?!0:Zt.call(Rl,e)?!1:Bt.test(e)?Ll[e]=!0:(Rl[e]=!0,!1)}function Gr(e,t,s){if(sp(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Qr(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function bs(e,t,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+l)}}function La(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Iu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function np(e,t,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(b){s=""+b,d.call(this,b)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lo(e){if(!e._valueTracker){var t=Iu(e)?"checked":"value";e._valueTracker=np(e,t,""+e[t])}}function Hu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=Iu(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function Xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lp=/[\n"\\]/g;function Da(e){return e.replace(lp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Do(e,t,s,l,o,d,b,j){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+La(t)):e.value!==""+La(t)&&(e.value=""+La(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?Mo(e,b,La(t)):s!=null?Mo(e,b,La(s)):l!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+La(j):e.removeAttribute("name")}function qu(e,t,s,l,o,d,b,j){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Lo(e);return}s=s!=null?""+La(s):"",t=t!=null?""+La(t):s,j||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=j?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),Lo(e)}function Mo(e,t,s){t==="number"&&Xr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Hn(e,t,s,l){if(e=e.options,t){t={};for(var o=0;o<s.length;o++)t["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=t.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&l&&(e[s].defaultSelected=!0)}else{for(s=""+La(s),t=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Pu(e,t,s){if(t!=null&&(t=""+La(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+La(s):""}function Fu(e,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(c(92));if(W(l)){if(1<l.length)throw Error(c(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=La(t),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Lo(e)}function qn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var rp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(e,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,s):typeof s!="number"||s===0||rp.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Yu(e,t,s){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&s[o]!==l&&Vu(e,o,l)}else for(var d in t)t.hasOwnProperty(d)&&Vu(e,d,t[d])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),op=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(e){return op.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ys(){}var zo=null;function Uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pn=null,Fn=null;function $u(e){var t=ve(e);if(t&&(e=t.stateNode)){var s=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Do(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Da(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var o=l[gt]||null;if(!o)throw Error(c(90));Do(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===e.form&&Hu(l)}break e;case"textarea":Pu(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Hn(e,!!s.multiple,t,!1)}}}var Bo=!1;function Gu(e,t,s){if(Bo)return e(t,s);Bo=!0;try{var l=e(t);return l}finally{if(Bo=!1,(Pn!==null||Fn!==null)&&(Ui(),Pn&&(t=Pn,e=Fn,Fn=Pn=null,$u(t),e)))for(t=0;t<e.length;t++)$u(e[t])}}function Dl(e,t){var s=e.stateNode;if(s===null)return null;var l=s[gt]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(c(231,t,typeof s));return s}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Io=!1;if(vs)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){Io=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{Io=!1}var Gs=null,Ho=null,Wr=null;function Qu(){if(Wr)return Wr;var e,t=Ho,s=t.length,l,o="value"in Gs?Gs.value:Gs.textContent,d=o.length;for(e=0;e<s&&t[e]===o[e];e++);var b=s-e;for(l=1;l<=b&&t[s-l]===o[d-l];l++);return Wr=o.slice(e,1<l?1-l:void 0)}function Kr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jr(){return!0}function Xu(){return!1}function ha(e){function t(s,l,o,d,b){this._reactName=s,this._targetInst=o,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(s=e[j],this[j]=s?s(d):d[j]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jr:Xu,this.isPropagationStopped=Xu,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=ha(yn),Ol=y({},yn,{view:0,detail:0}),cp=ha(Ol),qo,Po,zl,ti=y({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zl&&(zl&&e.type==="mousemove"?(qo=e.screenX-zl.screenX,Po=e.screenY-zl.screenY):Po=qo=0,zl=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Po}}),Zu=ha(ti),dp=y({},ti,{dataTransfer:0}),up=ha(dp),mp=y({},Ol,{relatedTarget:0}),Fo=ha(mp),fp=y({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=ha(fp),xp=y({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gp=ha(xp),pp=y({},yn,{data:0}),Wu=ha(pp),bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vp[e])?!!t[e]:!1}function Vo(){return jp}var Np=y({},Ol,{key:function(e){if(e.key){var t=bp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(e){return e.type==="keypress"?Kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sp=ha(Np),wp=y({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=ha(wp),_p=y({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),kp=ha(_p),Cp=y({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ep=ha(Cp),Ap=y({},ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tp=ha(Ap),Rp=y({},yn,{newState:0,oldState:0}),Lp=ha(Rp),Dp=[9,13,27,32],Yo=vs&&"CompositionEvent"in window,Ul=null;vs&&"documentMode"in document&&(Ul=document.documentMode);var Mp=vs&&"TextEvent"in window&&!Ul,Ju=vs&&(!Yo||Ul&&8<Ul&&11>=Ul),em=" ",tm=!1;function am(e,t){switch(e){case"keyup":return Dp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function Op(e,t){switch(e){case"compositionend":return sm(t);case"keypress":return t.which!==32?null:(tm=!0,em);case"textInput":return e=t.data,e===em&&tm?null:e;default:return null}}function zp(e,t){if(Vn)return e==="compositionend"||!Yo&&am(e,t)?(e=Qu(),Wr=Ho=Gs=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ju&&t.locale!=="ko"?null:t.data;default:return null}}var Up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Up[e.type]:t==="textarea"}function lm(e,t,s,l){Pn?Fn?Fn.push(l):Fn=[l]:Pn=l,t=Vi(t,"onChange"),0<t.length&&(s=new ei("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var Bl=null,Il=null;function Bp(e){Ph(e,0)}function ai(e){var t=et(e);if(Hu(t))return e}function rm(e,t){if(e==="change")return t}var im=!1;if(vs){var $o;if(vs){var Go="oninput"in document;if(!Go){var om=document.createElement("div");om.setAttribute("oninput","return;"),Go=typeof om.oninput=="function"}$o=Go}else $o=!1;im=$o&&(!document.documentMode||9<document.documentMode)}function cm(){Bl&&(Bl.detachEvent("onpropertychange",dm),Il=Bl=null)}function dm(e){if(e.propertyName==="value"&&ai(Il)){var t=[];lm(t,Il,e,Uo(e)),Gu(Bp,t)}}function Ip(e,t,s){e==="focusin"?(cm(),Bl=t,Il=s,Bl.attachEvent("onpropertychange",dm)):e==="focusout"&&cm()}function Hp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ai(Il)}function qp(e,t){if(e==="click")return ai(t)}function Pp(e,t){if(e==="input"||e==="change")return ai(t)}function Fp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ja=typeof Object.is=="function"?Object.is:Fp;function Hl(e,t){if(ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var o=s[l];if(!Zt.call(t,o)||!ja(e[o],t[o]))return!1}return!0}function um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mm(e,t){var s=um(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=um(s)}}function fm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xr(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Xr(e.document)}return t}function Qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Vp=vs&&"documentMode"in document&&11>=document.documentMode,Yn=null,Xo=null,ql=null,Zo=!1;function xm(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zo||Yn==null||Yn!==Xr(l)||(l=Yn,"selectionStart"in l&&Qo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Hl(ql,l)||(ql=l,l=Vi(Xo,"onSelect"),0<l.length&&(t=new ei("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=Yn)))}function vn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var $n={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},Wo={},gm={};vs&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function jn(e){if(Wo[e])return Wo[e];if(!$n[e])return e;var t=$n[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in gm)return Wo[e]=t[s];return e}var pm=jn("animationend"),bm=jn("animationiteration"),ym=jn("animationstart"),Yp=jn("transitionrun"),$p=jn("transitionstart"),Gp=jn("transitioncancel"),vm=jn("transitionend"),jm=new Map,Ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ko.push("scrollEnd");function Xa(e,t){jm.set(e,t),fa(t,[e])}var si=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ma=[],Gn=0,Jo=0;function ni(){for(var e=Gn,t=Jo=Gn=0;t<e;){var s=Ma[t];Ma[t++]=null;var l=Ma[t];Ma[t++]=null;var o=Ma[t];Ma[t++]=null;var d=Ma[t];if(Ma[t++]=null,l!==null&&o!==null){var b=l.pending;b===null?o.next=o:(o.next=b.next,b.next=o),l.pending=o}d!==0&&Nm(s,o,d)}}function li(e,t,s,l){Ma[Gn++]=e,Ma[Gn++]=t,Ma[Gn++]=s,Ma[Gn++]=l,Jo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ec(e,t,s,l){return li(e,t,s,l),ri(e)}function Nn(e,t){return li(e,null,null,t),ri(e)}function Nm(e,t,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var o=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-xt(s),e=d.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=s|536870912),d):null}function ri(e){if(50<cr)throw cr=0,cd=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qn={};function Qp(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(e,t,s,l){return new Qp(e,t,s,l)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function js(e,t){var s=e.alternate;return s===null?(s=Na(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Sm(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ii(e,t,s,l,o,d){var b=0;if(l=e,typeof e=="function")tc(e)&&(b=1);else if(typeof e=="string")b=J0(e,s,be.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case H:return e=Na(31,s,t,o),e.elementType=H,e.lanes=d,e;case _:return Sn(s.children,o,d,t);case T:b=8,o|=24;break;case L:return e=Na(12,s,t,o|2),e.elementType=L,e.lanes=d,e;case k:return e=Na(13,s,t,o),e.elementType=k,e.lanes=d,e;case A:return e=Na(19,s,t,o),e.elementType=A,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:b=10;break e;case Y:b=9;break e;case P:b=11;break e;case O:b=14;break e;case ae:b=16,l=null;break e}b=29,s=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=Na(b,s,t,o),t.elementType=e,t.type=l,t.lanes=d,t}function Sn(e,t,s,l){return e=Na(7,e,l,t),e.lanes=s,e}function ac(e,t,s){return e=Na(6,e,null,t),e.lanes=s,e}function wm(e){var t=Na(18,null,null,0);return t.stateNode=e,t}function sc(e,t,s){return t=Na(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _m=new WeakMap;function Oa(e,t){if(typeof e=="object"&&e!==null){var s=_m.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Ht(t)},_m.set(e,t),t)}return{value:e,source:t,stack:Ht(t)}}var Xn=[],Zn=0,oi=null,Pl=0,za=[],Ua=0,Qs=null,ls=1,rs="";function Ns(e,t){Xn[Zn++]=Pl,Xn[Zn++]=oi,oi=e,Pl=t}function km(e,t,s){za[Ua++]=ls,za[Ua++]=rs,za[Ua++]=Qs,Qs=e;var l=ls;e=rs;var o=32-xt(l)-1;l&=~(1<<o),s+=1;var d=32-xt(t)+o;if(30<d){var b=o-o%5;d=(l&(1<<b)-1).toString(32),l>>=b,o-=b,ls=1<<32-xt(t)+o|s<<o|l,rs=d+e}else ls=1<<d|s<<o|l,rs=e}function nc(e){e.return!==null&&(Ns(e,1),km(e,1,0))}function lc(e){for(;e===oi;)oi=Xn[--Zn],Xn[Zn]=null,Pl=Xn[--Zn],Xn[Zn]=null;for(;e===Qs;)Qs=za[--Ua],za[Ua]=null,rs=za[--Ua],za[Ua]=null,ls=za[--Ua],za[Ua]=null}function Cm(e,t){za[Ua++]=ls,za[Ua++]=rs,za[Ua++]=Qs,ls=t.id,rs=t.overflow,Qs=e}var Yt=null,ft=null,$e=!1,Xs=null,Ba=!1,rc=Error(c(519));function Zs(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(Oa(t,e)),rc}function Em(e){var t=e.stateNode,s=e.type,l=e.memoizedProps;switch(t[Rt]=e,t[gt]=l,s){case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":case"embed":Pe("load",t);break;case"video":case"audio":for(s=0;s<ur.length;s++)Pe(ur[s],t);break;case"source":Pe("error",t);break;case"img":case"image":case"link":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"input":Pe("invalid",t),qu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pe("invalid",t);break;case"textarea":Pe("invalid",t),Fu(t,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||$h(t.textContent,s)?(l.popover!=null&&(Pe("beforetoggle",t),Pe("toggle",t)),l.onScroll!=null&&Pe("scroll",t),l.onScrollEnd!=null&&Pe("scrollend",t),l.onClick!=null&&(t.onclick=ys),t=!0):t=!1,t||Zs(e,!0)}function Am(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Ba=!1;return;case 27:case 3:Ba=!0;return;default:Yt=Yt.return}}function Wn(e){if(e!==Yt)return!1;if(!$e)return Am(e),$e=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||wd(e.type,e.memoizedProps)),s=!s),s&&ft&&Zs(e),Am(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));ft=tx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));ft=tx(e)}else t===27?(t=ft,un(e.type)?(e=Ad,Ad=null,ft=e):ft=t):ft=Yt?Ha(e.stateNode.nextSibling):null;return!0}function wn(){ft=Yt=null,$e=!1}function ic(){var e=Xs;return e!==null&&(ba===null?ba=e:ba.push.apply(ba,e),Xs=null),e}function Fl(e){Xs===null?Xs=[e]:Xs.push(e)}var oc=S(null),_n=null,Ss=null;function Ws(e,t,s){le(oc,t._currentValue),t._currentValue=s}function ws(e){e._currentValue=oc.current,Q(oc)}function cc(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function dc(e,t,s,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var b=o.child;d=d.firstContext;e:for(;d!==null;){var j=d;d=o;for(var R=0;R<t.length;R++)if(j.context===t[R]){d.lanes|=s,j=d.alternate,j!==null&&(j.lanes|=s),cc(d.return,s,e),l||(b=null);break e}d=j.next}}else if(o.tag===18){if(b=o.return,b===null)throw Error(c(341));b.lanes|=s,d=b.alternate,d!==null&&(d.lanes|=s),cc(b,s,e),b=null}else b=o.child;if(b!==null)b.return=o;else for(b=o;b!==null;){if(b===e){b=null;break}if(o=b.sibling,o!==null){o.return=b.return,b=o;break}b=b.return}o=b}}function Kn(e,t,s,l){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var b=o.alternate;if(b===null)throw Error(c(387));if(b=b.memoizedProps,b!==null){var j=o.type;ja(o.pendingProps.value,b.value)||(e!==null?e.push(j):e=[j])}}else if(o===ue.current){if(b=o.alternate,b===null)throw Error(c(387));b.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(gr):e=[gr])}o=o.return}e!==null&&dc(t,e,s,l),t.flags|=262144}function ci(e){for(e=e.firstContext;e!==null;){if(!ja(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kn(e){_n=e,Ss=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return Tm(_n,e)}function di(e,t){return _n===null&&kn(e),Tm(e,t)}function Tm(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Ss===null){if(e===null)throw Error(c(308));Ss=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ss=Ss.next=t;return s}var Xp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Zp=n.unstable_scheduleCallback,Wp=n.unstable_NormalPriority,Lt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uc(){return{controller:new Xp,data:new Map,refCount:0}}function Vl(e){e.refCount--,e.refCount===0&&Zp(Wp,function(){e.controller.abort()})}var Yl=null,mc=0,Jn=0,el=null;function Kp(e,t){if(Yl===null){var s=Yl=[];mc=0,Jn=xd(),el={status:"pending",value:void 0,then:function(l){s.push(l)}}}return mc++,t.then(Rm,Rm),t}function Rm(){if(--mc===0&&Yl!==null){el!==null&&(el.status="fulfilled");var e=Yl;Yl=null,Jn=0,el=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jp(e,t){var s=[],l={status:"pending",value:null,reason:null,then:function(o){s.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<s.length;o++)(0,s[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<s.length;o++)(0,s[o])(void 0)}),l}var Lm=M.S;M.S=function(e,t){gh=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Kp(e,t),Lm!==null&&Lm(e,t)};var Cn=S(null);function fc(){var e=Cn.current;return e!==null?e:ct.pooledCache}function ui(e,t){t===null?le(Cn,Cn.current):le(Cn,t.pool)}function Dm(){var e=fc();return e===null?null:{parent:Lt._currentValue,pool:e}}var tl=Error(c(460)),hc=Error(c(474)),mi=Error(c(542)),fi={then:function(){}};function Mm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Om(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(ys,ys),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Um(e),e;default:if(typeof t.status=="string")t.then(ys,ys);else{if(e=ct,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Um(e),e}throw An=t,tl}}function En(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(An=s,tl):s}}var An=null;function zm(){if(An===null)throw Error(c(459));var e=An;return An=null,e}function Um(e){if(e===tl||e===mi)throw Error(c(483))}var al=null,$l=0;function hi(e){var t=$l;return $l+=1,al===null&&(al=[]),Om(al,e,t)}function Gl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xi(e,t){throw t.$$typeof===w?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bm(e){function t(V,B){if(e){var X=V.deletions;X===null?(V.deletions=[B],V.flags|=16):X.push(B)}}function s(V,B){if(!e)return null;for(;B!==null;)t(V,B),B=B.sibling;return null}function l(V){for(var B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function o(V,B){return V=js(V,B),V.index=0,V.sibling=null,V}function d(V,B,X){return V.index=X,e?(X=V.alternate,X!==null?(X=X.index,X<B?(V.flags|=67108866,B):X):(V.flags|=67108866,B)):(V.flags|=1048576,B)}function b(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function j(V,B,X,oe){return B===null||B.tag!==6?(B=ac(X,V.mode,oe),B.return=V,B):(B=o(B,X),B.return=V,B)}function R(V,B,X,oe){var Ce=X.type;return Ce===_?ne(V,B,X.props.children,oe,X.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ae&&En(Ce)===B.type)?(B=o(B,X.props),Gl(B,X),B.return=V,B):(B=ii(X.type,X.key,X.props,null,V.mode,oe),Gl(B,X),B.return=V,B)}function Z(V,B,X,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=sc(X,V.mode,oe),B.return=V,B):(B=o(B,X.children||[]),B.return=V,B)}function ne(V,B,X,oe,Ce){return B===null||B.tag!==7?(B=Sn(X,V.mode,oe,Ce),B.return=V,B):(B=o(B,X),B.return=V,B)}function de(V,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ac(""+B,V.mode,X),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return X=ii(B.type,B.key,B.props,null,V.mode,X),Gl(X,B),X.return=V,X;case C:return B=sc(B,V.mode,X),B.return=V,B;case ae:return B=En(B),de(V,B,X)}if(W(B)||J(B))return B=Sn(B,V.mode,X,null),B.return=V,B;if(typeof B.then=="function")return de(V,hi(B),X);if(B.$$typeof===U)return de(V,di(V,B),X);xi(V,B)}return null}function K(V,B,X,oe){var Ce=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ce!==null?null:j(V,B,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return X.key===Ce?R(V,B,X,oe):null;case C:return X.key===Ce?Z(V,B,X,oe):null;case ae:return X=En(X),K(V,B,X,oe)}if(W(X)||J(X))return Ce!==null?null:ne(V,B,X,oe,null);if(typeof X.then=="function")return K(V,B,hi(X),oe);if(X.$$typeof===U)return K(V,B,di(V,X),oe);xi(V,X)}return null}function te(V,B,X,oe,Ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return V=V.get(X)||null,j(B,V,""+oe,Ce);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:return V=V.get(oe.key===null?X:oe.key)||null,R(B,V,oe,Ce);case C:return V=V.get(oe.key===null?X:oe.key)||null,Z(B,V,oe,Ce);case ae:return oe=En(oe),te(V,B,X,oe,Ce)}if(W(oe)||J(oe))return V=V.get(X)||null,ne(B,V,oe,Ce,null);if(typeof oe.then=="function")return te(V,B,X,hi(oe),Ce);if(oe.$$typeof===U)return te(V,B,X,di(B,oe),Ce);xi(B,oe)}return null}function Ne(V,B,X,oe){for(var Ce=null,Qe=null,_e=B,Be=B=0,Ye=null;_e!==null&&Be<X.length;Be++){_e.index>Be?(Ye=_e,_e=null):Ye=_e.sibling;var Xe=K(V,_e,X[Be],oe);if(Xe===null){_e===null&&(_e=Ye);break}e&&_e&&Xe.alternate===null&&t(V,_e),B=d(Xe,B,Be),Qe===null?Ce=Xe:Qe.sibling=Xe,Qe=Xe,_e=Ye}if(Be===X.length)return s(V,_e),$e&&Ns(V,Be),Ce;if(_e===null){for(;Be<X.length;Be++)_e=de(V,X[Be],oe),_e!==null&&(B=d(_e,B,Be),Qe===null?Ce=_e:Qe.sibling=_e,Qe=_e);return $e&&Ns(V,Be),Ce}for(_e=l(_e);Be<X.length;Be++)Ye=te(_e,V,Be,X[Be],oe),Ye!==null&&(e&&Ye.alternate!==null&&_e.delete(Ye.key===null?Be:Ye.key),B=d(Ye,B,Be),Qe===null?Ce=Ye:Qe.sibling=Ye,Qe=Ye);return e&&_e.forEach(function(gn){return t(V,gn)}),$e&&Ns(V,Be),Ce}function Le(V,B,X,oe){if(X==null)throw Error(c(151));for(var Ce=null,Qe=null,_e=B,Be=B=0,Ye=null,Xe=X.next();_e!==null&&!Xe.done;Be++,Xe=X.next()){_e.index>Be?(Ye=_e,_e=null):Ye=_e.sibling;var gn=K(V,_e,Xe.value,oe);if(gn===null){_e===null&&(_e=Ye);break}e&&_e&&gn.alternate===null&&t(V,_e),B=d(gn,B,Be),Qe===null?Ce=gn:Qe.sibling=gn,Qe=gn,_e=Ye}if(Xe.done)return s(V,_e),$e&&Ns(V,Be),Ce;if(_e===null){for(;!Xe.done;Be++,Xe=X.next())Xe=de(V,Xe.value,oe),Xe!==null&&(B=d(Xe,B,Be),Qe===null?Ce=Xe:Qe.sibling=Xe,Qe=Xe);return $e&&Ns(V,Be),Ce}for(_e=l(_e);!Xe.done;Be++,Xe=X.next())Xe=te(_e,V,Be,Xe.value,oe),Xe!==null&&(e&&Xe.alternate!==null&&_e.delete(Xe.key===null?Be:Xe.key),B=d(Xe,B,Be),Qe===null?Ce=Xe:Qe.sibling=Xe,Qe=Xe);return e&&_e.forEach(function(db){return t(V,db)}),$e&&Ns(V,Be),Ce}function rt(V,B,X,oe){if(typeof X=="object"&&X!==null&&X.type===_&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case N:e:{for(var Ce=X.key;B!==null;){if(B.key===Ce){if(Ce=X.type,Ce===_){if(B.tag===7){s(V,B.sibling),oe=o(B,X.props.children),oe.return=V,V=oe;break e}}else if(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ae&&En(Ce)===B.type){s(V,B.sibling),oe=o(B,X.props),Gl(oe,X),oe.return=V,V=oe;break e}s(V,B);break}else t(V,B);B=B.sibling}X.type===_?(oe=Sn(X.props.children,V.mode,oe,X.key),oe.return=V,V=oe):(oe=ii(X.type,X.key,X.props,null,V.mode,oe),Gl(oe,X),oe.return=V,V=oe)}return b(V);case C:e:{for(Ce=X.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){s(V,B.sibling),oe=o(B,X.children||[]),oe.return=V,V=oe;break e}else{s(V,B);break}else t(V,B);B=B.sibling}oe=sc(X,V.mode,oe),oe.return=V,V=oe}return b(V);case ae:return X=En(X),rt(V,B,X,oe)}if(W(X))return Ne(V,B,X,oe);if(J(X)){if(Ce=J(X),typeof Ce!="function")throw Error(c(150));return X=Ce.call(X),Le(V,B,X,oe)}if(typeof X.then=="function")return rt(V,B,hi(X),oe);if(X.$$typeof===U)return rt(V,B,di(V,X),oe);xi(V,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(s(V,B.sibling),oe=o(B,X),oe.return=V,V=oe):(s(V,B),oe=ac(X,V.mode,oe),oe.return=V,V=oe),b(V)):s(V,B)}return function(V,B,X,oe){try{$l=0;var Ce=rt(V,B,X,oe);return al=null,Ce}catch(_e){if(_e===tl||_e===mi)throw _e;var Qe=Na(29,_e,null,V.mode);return Qe.lanes=oe,Qe.return=V,Qe}finally{}}}var Tn=Bm(!0),Im=Bm(!1),Ks=!1;function xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Js(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function en(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=ri(e),Nm(e,null,s),t}return li(e,l,t,s),ri(e)}function Ql(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Ee(e,s)}}function pc(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var o=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?o=d=b:d=d.next=b,s=s.next}while(s!==null);d===null?o=d=t:d=d.next=t}else o=d=t;s={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var bc=!1;function Xl(){if(bc){var e=el;if(e!==null)throw e}}function Zl(e,t,s,l){bc=!1;var o=e.updateQueue;Ks=!1;var d=o.firstBaseUpdate,b=o.lastBaseUpdate,j=o.shared.pending;if(j!==null){o.shared.pending=null;var R=j,Z=R.next;R.next=null,b===null?d=Z:b.next=Z,b=R;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,j=ne.lastBaseUpdate,j!==b&&(j===null?ne.firstBaseUpdate=Z:j.next=Z,ne.lastBaseUpdate=R))}if(d!==null){var de=o.baseState;b=0,ne=Z=R=null,j=d;do{var K=j.lane&-536870913,te=K!==j.lane;if(te?(Ve&K)===K:(l&K)===K){K!==0&&K===Jn&&(bc=!0),ne!==null&&(ne=ne.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ne=e,Le=j;K=t;var rt=s;switch(Le.tag){case 1:if(Ne=Le.payload,typeof Ne=="function"){de=Ne.call(rt,de,K);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Le.payload,K=typeof Ne=="function"?Ne.call(rt,de,K):Ne,K==null)break e;de=y({},de,K);break e;case 2:Ks=!0}}K=j.callback,K!==null&&(e.flags|=64,te&&(e.flags|=8192),te=o.callbacks,te===null?o.callbacks=[K]:te.push(K))}else te={lane:K,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ne===null?(Z=ne=te,R=de):ne=ne.next=te,b|=K;if(j=j.next,j===null){if(j=o.shared.pending,j===null)break;te=j,j=te.next,te.next=null,o.lastBaseUpdate=te,o.shared.pending=null}}while(!0);ne===null&&(R=de),o.baseState=R,o.firstBaseUpdate=Z,o.lastBaseUpdate=ne,d===null&&(o.shared.lanes=0),ln|=b,e.lanes=b,e.memoizedState=de}}function Hm(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function qm(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Hm(s[e],t)}var sl=S(null),gi=S(0);function Pm(e,t){e=Ds,le(gi,e),le(sl,t),Ds=e|t.baseLanes}function yc(){le(gi,Ds),le(sl,sl.current)}function vc(){Ds=gi.current,Q(sl),Q(gi)}var Sa=S(null),Ia=null;function tn(e){var t=e.alternate;le(Et,Et.current&1),le(Sa,e),Ia===null&&(t===null||sl.current!==null||t.memoizedState!==null)&&(Ia=e)}function jc(e){le(Et,Et.current),le(Sa,e),Ia===null&&(Ia=e)}function Fm(e){e.tag===22?(le(Et,Et.current),le(Sa,e),Ia===null&&(Ia=e)):an()}function an(){le(Et,Et.current),le(Sa,Sa.current)}function wa(e){Q(Sa),Ia===e&&(Ia=null),Q(Et)}var Et=S(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Cd(s)||Ed(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _s=0,Ue=null,nt=null,Dt=null,bi=!1,nl=!1,Rn=!1,yi=0,Wl=0,ll=null,e0=0;function wt(){throw Error(c(321))}function Nc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ja(e[s],t[s]))return!1;return!0}function Sc(e,t,s,l,o,d){return _s=d,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Cf:Bc,Rn=!1,d=s(l,o),Rn=!1,nl&&(d=Ym(t,s,l,o)),Vm(e),d}function Vm(e){M.H=er;var t=nt!==null&&nt.next!==null;if(_s=0,Dt=nt=Ue=null,bi=!1,Wl=0,ll=null,t)throw Error(c(300));e===null||Mt||(e=e.dependencies,e!==null&&ci(e)&&(Mt=!0))}function Ym(e,t,s,l){Ue=e;var o=0;do{if(nl&&(ll=null),Wl=0,nl=!1,25<=o)throw Error(c(301));if(o+=1,Dt=nt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=Ef,d=t(s,l)}while(nl);return d}function t0(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Kl(t):t,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Ue.flags|=1024),t}function wc(){var e=yi!==0;return yi=0,e}function _c(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function kc(e){if(bi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bi=!1}_s=0,Dt=nt=Ue=null,nl=!1,Wl=yi=0,ll=null}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ue.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function At(){if(nt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=Dt===null?Ue.memoizedState:Dt.next;if(t!==null)Dt=t,nt=e;else{if(e===null)throw Ue.alternate===null?Error(c(467)):Error(c(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?Ue.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function vi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var t=Wl;return Wl+=1,ll===null&&(ll=[]),e=Om(ll,e,t),t=Ue,(Dt===null?t.memoizedState:Dt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Cf:Bc),e}function ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===U)return $t(e)}throw Error(c(438,String(e)))}function Cc(e){var t=null,s=Ue.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=Ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=vi(),Ue.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),l=0;l<e;l++)s[l]=$;return t.index++,s}function ks(e,t){return typeof t=="function"?t(e):t}function Ni(e){var t=At();return Ec(t,nt,e)}function Ec(e,t,s){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=s;var o=e.baseQueue,d=l.pending;if(d!==null){if(o!==null){var b=o.next;o.next=d.next,d.next=b}t.baseQueue=o=d,l.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var j=b=null,R=null,Z=t,ne=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(Ve&de)===de:(_s&de)===de){var K=Z.revertLane;if(K===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===Jn&&(ne=!0);else if((_s&K)===K){Z=Z.next,K===Jn&&(ne=!0);continue}else de={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},R===null?(j=R=de,b=d):R=R.next=de,Ue.lanes|=K,ln|=K;de=Z.action,Rn&&s(d,de),d=Z.hasEagerState?Z.eagerState:s(d,de)}else K={lane:de,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},R===null?(j=R=K,b=d):R=R.next=K,Ue.lanes|=de,ln|=de;Z=Z.next}while(Z!==null&&Z!==t);if(R===null?b=d:R.next=j,!ja(d,e.memoizedState)&&(Mt=!0,ne&&(s=el,s!==null)))throw s;e.memoizedState=d,e.baseState=b,e.baseQueue=R,l.lastRenderedState=d}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ac(e){var t=At(),s=t.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=e;var l=s.dispatch,o=s.pending,d=t.memoizedState;if(o!==null){s.pending=null;var b=o=o.next;do d=e(d,b.action),b=b.next;while(b!==o);ja(d,t.memoizedState)||(Mt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),s.lastRenderedState=d}return[d,l]}function $m(e,t,s){var l=Ue,o=At(),d=$e;if(d){if(s===void 0)throw Error(c(407));s=s()}else s=t();var b=!ja((nt||o).memoizedState,s);if(b&&(o.memoizedState=s,Mt=!0),o=o.queue,Lc(Xm.bind(null,l,o,e),[e]),o.getSnapshot!==t||b||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,rl(9,{destroy:void 0},Qm.bind(null,l,o,s,t),null),ct===null)throw Error(c(349));d||(_s&127)!==0||Gm(l,t,s)}return s}function Gm(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ue.updateQueue,t===null?(t=vi(),Ue.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Qm(e,t,s,l){t.value=s,t.getSnapshot=l,Zm(t)&&Wm(e)}function Xm(e,t,s){return s(function(){Zm(t)&&Wm(e)})}function Zm(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ja(e,s)}catch{return!0}}function Wm(e){var t=Nn(e,2);t!==null&&ya(t,e,2)}function Tc(e){var t=la();if(typeof e=="function"){var s=e;if(e=s(),Rn){Nt(!0);try{s()}finally{Nt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t}function Km(e,t,s,l){return e.baseState=s,Ec(e,nt,typeof l=="function"?l:ks)}function a0(e,t,s,l,o){if(_i(e))throw Error(c(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};M.T!==null?s(!0):d.isTransition=!1,l(d),s=t.pending,s===null?(d.next=t.pending=d,Jm(t,d)):(d.next=s.next,t.pending=s.next=d)}}function Jm(e,t){var s=t.action,l=t.payload,o=e.state;if(t.isTransition){var d=M.T,b={};M.T=b;try{var j=s(o,l),R=M.S;R!==null&&R(b,j),ef(e,t,j)}catch(Z){Rc(e,t,Z)}finally{d!==null&&b.types!==null&&(d.types=b.types),M.T=d}}else try{d=s(o,l),ef(e,t,d)}catch(Z){Rc(e,t,Z)}}function ef(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){tf(e,t,l)},function(l){return Rc(e,t,l)}):tf(e,t,s)}function tf(e,t,s){t.status="fulfilled",t.value=s,af(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Jm(e,s)))}function Rc(e,t,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,af(t),t=t.next;while(t!==l)}e.action=null}function af(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sf(e,t){return t}function nf(e,t){if($e){var s=ct.formState;if(s!==null){e:{var l=Ue;if($e){if(ft){t:{for(var o=ft,d=Ba;o.nodeType!==8;){if(!d){o=null;break t}if(o=Ha(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){ft=Ha(o.nextSibling),l=o.data==="F!";break e}}Zs(l)}l=!1}l&&(t=s[0])}}return s=la(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:t},s.queue=l,s=wf.bind(null,Ue,l),l.dispatch=s,l=Tc(!1),d=Uc.bind(null,Ue,!1,l.queue),l=la(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,s=a0.bind(null,Ue,o,d,s),o.dispatch=s,l.memoizedState=e,[t,s,!1]}function lf(e){var t=At();return rf(t,nt,e)}function rf(e,t,s){if(t=Ec(e,t,sf)[0],e=Ni(ks)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Kl(t)}catch(b){throw b===tl?mi:b}else l=t;t=At();var o=t.queue,d=o.dispatch;return s!==t.memoizedState&&(Ue.flags|=2048,rl(9,{destroy:void 0},s0.bind(null,o,s),null)),[l,d,e]}function s0(e,t){e.action=t}function of(e){var t=At(),s=nt;if(s!==null)return rf(t,s,e);At(),t=t.memoizedState,s=At();var l=s.queue.dispatch;return s.memoizedState=e,[t,l,!1]}function rl(e,t,s,l){return e={tag:e,create:s,deps:l,inst:t,next:null},t=Ue.updateQueue,t===null&&(t=vi(),Ue.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e),e}function cf(){return At().memoizedState}function Si(e,t,s,l){var o=la();Ue.flags|=e,o.memoizedState=rl(1|t,{destroy:void 0},s,l===void 0?null:l)}function wi(e,t,s,l){var o=At();l=l===void 0?null:l;var d=o.memoizedState.inst;nt!==null&&l!==null&&Nc(l,nt.memoizedState.deps)?o.memoizedState=rl(t,d,s,l):(Ue.flags|=e,o.memoizedState=rl(1|t,d,s,l))}function df(e,t){Si(8390656,8,e,t)}function Lc(e,t){wi(2048,8,e,t)}function n0(e){Ue.flags|=4;var t=Ue.updateQueue;if(t===null)t=vi(),Ue.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function uf(e){var t=At().memoizedState;return n0({ref:t,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function mf(e,t){return wi(4,2,e,t)}function ff(e,t){return wi(4,4,e,t)}function hf(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xf(e,t,s){s=s!=null?s.concat([e]):null,wi(4,4,hf.bind(null,t,e),s)}function Dc(){}function gf(e,t){var s=At();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&Nc(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function pf(e,t){var s=At();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&Nc(t,l[1]))return l[0];if(l=e(),Rn){Nt(!0);try{e()}finally{Nt(!1)}}return s.memoizedState=[l,t],l}function Mc(e,t,s){return s===void 0||(_s&1073741824)!==0&&(Ve&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=bh(),Ue.lanes|=e,ln|=e,s)}function bf(e,t,s,l){return ja(s,t)?s:sl.current!==null?(e=Mc(e,s,l),ja(e,t)||(Mt=!0),e):(_s&42)===0||(_s&1073741824)!==0&&(Ve&261930)===0?(Mt=!0,e.memoizedState=s):(e=bh(),Ue.lanes|=e,ln|=e,t)}function yf(e,t,s,l,o){var d=q.p;q.p=d!==0&&8>d?d:8;var b=M.T,j={};M.T=j,Uc(e,!1,t,s);try{var R=o(),Z=M.S;if(Z!==null&&Z(j,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ne=Jp(R,l);Jl(e,t,ne,Ca(e))}else Jl(e,t,l,Ca(e))}catch(de){Jl(e,t,{then:function(){},status:"rejected",reason:de},Ca())}finally{q.p=d,b!==null&&j.types!==null&&(b.types=j.types),M.T=b}}function l0(){}function Oc(e,t,s,l){if(e.tag!==5)throw Error(c(476));var o=vf(e).queue;yf(e,o,t,F,s===null?l0:function(){return jf(e),s(l)})}function vf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:F},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jf(e){var t=vf(e);t.next===null&&(t=e.alternate.memoizedState),Jl(e,t.next.queue,{},Ca())}function zc(){return $t(gr)}function Nf(){return At().memoizedState}function Sf(){return At().memoizedState}function r0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=Ca();e=Js(s);var l=en(t,e,s);l!==null&&(ya(l,t,s),Ql(l,t,s)),t={cache:uc()},e.payload=t;return}t=t.return}}function i0(e,t,s){var l=Ca();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},_i(e)?_f(t,s):(s=ec(e,t,s,l),s!==null&&(ya(s,e,l),kf(s,t,l)))}function wf(e,t,s){var l=Ca();Jl(e,t,s,l)}function Jl(e,t,s,l){var o={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(_i(e))_f(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var b=t.lastRenderedState,j=d(b,s);if(o.hasEagerState=!0,o.eagerState=j,ja(j,b))return li(e,t,o,0),ct===null&&ni(),!1}catch{}finally{}if(s=ec(e,t,o,l),s!==null)return ya(s,e,l),kf(s,t,l),!0}return!1}function Uc(e,t,s,l){if(l={lane:2,revertLane:xd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_i(e)){if(t)throw Error(c(479))}else t=ec(e,s,l,2),t!==null&&ya(t,e,2)}function _i(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function _f(e,t){nl=bi=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function kf(e,t,s){if((s&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Ee(e,s)}}var er={readContext:$t,use:ji,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};er.useEffectEvent=wt;var Cf={readContext:$t,use:ji,useCallback:function(e,t){return la().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:df,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Si(4194308,4,hf.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Si(4194308,4,e,t)},useInsertionEffect:function(e,t){Si(4,2,e,t)},useMemo:function(e,t){var s=la();t=t===void 0?null:t;var l=e();if(Rn){Nt(!0);try{e()}finally{Nt(!1)}}return s.memoizedState=[l,t],l},useReducer:function(e,t,s){var l=la();if(s!==void 0){var o=s(t);if(Rn){Nt(!0);try{s(t)}finally{Nt(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=i0.bind(null,Ue,e),[l.memoizedState,e]},useRef:function(e){var t=la();return e={current:e},t.memoizedState=e},useState:function(e){e=Tc(e);var t=e.queue,s=wf.bind(null,Ue,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Dc,useDeferredValue:function(e,t){var s=la();return Mc(s,e,t)},useTransition:function(){var e=Tc(!1);return e=yf.bind(null,Ue,e.queue,!0,!1),la().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var l=Ue,o=la();if($e){if(s===void 0)throw Error(c(407));s=s()}else{if(s=t(),ct===null)throw Error(c(349));(Ve&127)!==0||Gm(l,t,s)}o.memoizedState=s;var d={value:s,getSnapshot:t};return o.queue=d,df(Xm.bind(null,l,d,e),[e]),l.flags|=2048,rl(9,{destroy:void 0},Qm.bind(null,l,d,s,t),null),s},useId:function(){var e=la(),t=ct.identifierPrefix;if($e){var s=rs,l=ls;s=(l&~(1<<32-xt(l)-1)).toString(32)+s,t="_"+t+"R_"+s,s=yi++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=e0++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zc,useFormState:nf,useActionState:nf,useOptimistic:function(e){var t=la();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Uc.bind(null,Ue,!0,s),s.dispatch=t,[e,t]},useMemoCache:Cc,useCacheRefresh:function(){return la().memoizedState=r0.bind(null,Ue)},useEffectEvent:function(e){var t=la(),s={impl:e};return t.memoizedState=s,function(){if((Ke&2)!==0)throw Error(c(440));return s.impl.apply(void 0,arguments)}}},Bc={readContext:$t,use:ji,useCallback:gf,useContext:$t,useEffect:Lc,useImperativeHandle:xf,useInsertionEffect:mf,useLayoutEffect:ff,useMemo:pf,useReducer:Ni,useRef:cf,useState:function(){return Ni(ks)},useDebugValue:Dc,useDeferredValue:function(e,t){var s=At();return bf(s,nt.memoizedState,e,t)},useTransition:function(){var e=Ni(ks)[0],t=At().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:$m,useId:Nf,useHostTransitionStatus:zc,useFormState:lf,useActionState:lf,useOptimistic:function(e,t){var s=At();return Km(s,nt,e,t)},useMemoCache:Cc,useCacheRefresh:Sf};Bc.useEffectEvent=uf;var Ef={readContext:$t,use:ji,useCallback:gf,useContext:$t,useEffect:Lc,useImperativeHandle:xf,useInsertionEffect:mf,useLayoutEffect:ff,useMemo:pf,useReducer:Ac,useRef:cf,useState:function(){return Ac(ks)},useDebugValue:Dc,useDeferredValue:function(e,t){var s=At();return nt===null?Mc(s,e,t):bf(s,nt.memoizedState,e,t)},useTransition:function(){var e=Ac(ks)[0],t=At().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:$m,useId:Nf,useHostTransitionStatus:zc,useFormState:of,useActionState:of,useOptimistic:function(e,t){var s=At();return nt!==null?Km(s,nt,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Cc,useCacheRefresh:Sf};Ef.useEffectEvent=uf;function Ic(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:y({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Hc={enqueueSetState:function(e,t,s){e=e._reactInternals;var l=Ca(),o=Js(l);o.payload=t,s!=null&&(o.callback=s),t=en(e,o,l),t!==null&&(ya(t,e,l),Ql(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=Ca(),o=Js(l);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=en(e,o,l),t!==null&&(ya(t,e,l),Ql(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ca(),l=Js(s);l.tag=2,t!=null&&(l.callback=t),t=en(e,l,s),t!==null&&(ya(t,e,s),Ql(t,e,s))}};function Af(e,t,s,l,o,d,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,b):t.prototype&&t.prototype.isPureReactComponent?!Hl(s,l)||!Hl(o,d):!0}function Tf(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&Hc.enqueueReplaceState(t,t.state,null)}function Ln(e,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(e=e.defaultProps){s===t&&(s=y({},s));for(var o in e)s[o]===void 0&&(s[o]=e[o])}return s}function Rf(e){si(e)}function Lf(e){console.error(e)}function Df(e){si(e)}function ki(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Mf(e,t,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function qc(e,t,s){return s=Js(s),s.tag=3,s.payload={element:null},s.callback=function(){ki(e,t)},s}function Of(e){return e=Js(e),e.tag=3,e}function zf(e,t,s,l){var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var d=l.value;e.payload=function(){return o(d)},e.callback=function(){Mf(t,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Mf(t,s,l),typeof o!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})})}function o0(e,t,s,l,o){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&Kn(t,s,o,!0),s=Sa.current,s!==null){switch(s.tag){case 31:case 13:return Ia===null?Bi():s.alternate===null&&_t===0&&(_t=3),s.flags&=-257,s.flags|=65536,s.lanes=o,l===fi?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),md(e,l,o)),!1;case 22:return s.flags|=65536,l===fi?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),md(e,l,o)),!1}throw Error(c(435,s.tag))}return md(e,l,o),Bi(),!1}if($e)return t=Sa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==rc&&(e=Error(c(422),{cause:l}),Fl(Oa(e,s)))):(l!==rc&&(t=Error(c(423),{cause:l}),Fl(Oa(t,s))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Oa(l,s),o=qc(e.stateNode,l,o),pc(e,o),_t!==4&&(_t=2)),!1;var d=Error(c(520),{cause:l});if(d=Oa(d,s),or===null?or=[d]:or.push(d),_t!==4&&(_t=2),t===null)return!0;l=Oa(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=o&-o,s.lanes|=e,e=qc(s.stateNode,l,e),pc(s,e),!1;case 1:if(t=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(rn===null||!rn.has(d))))return s.flags|=65536,o&=-o,s.lanes|=o,o=Of(o),zf(o,e,s,l),pc(s,o),!1}s=s.return}while(s!==null);return!1}var Pc=Error(c(461)),Mt=!1;function Gt(e,t,s,l){t.child=e===null?Im(t,null,s,l):Tn(t,e.child,s,l)}function Uf(e,t,s,l,o){s=s.render;var d=t.ref;if("ref"in l){var b={};for(var j in l)j!=="ref"&&(b[j]=l[j])}else b=l;return kn(t),l=Sc(e,t,s,b,d,o),j=wc(),e!==null&&!Mt?(_c(e,t,o),Cs(e,t,o)):($e&&j&&nc(t),t.flags|=1,Gt(e,t,l,o),t.child)}function Bf(e,t,s,l,o){if(e===null){var d=s.type;return typeof d=="function"&&!tc(d)&&d.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=d,If(e,t,d,l,o)):(e=ii(s.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Zc(e,o)){var b=d.memoizedProps;if(s=s.compare,s=s!==null?s:Hl,s(b,l)&&e.ref===t.ref)return Cs(e,t,o)}return t.flags|=1,e=js(d,l),e.ref=t.ref,e.return=t,t.child=e}function If(e,t,s,l,o){if(e!==null){var d=e.memoizedProps;if(Hl(d,l)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=l=d,Zc(e,o))(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,Cs(e,t,o)}return Fc(e,t,s,l,o)}function Hf(e,t,s,l){var o=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=t.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~d}else l=0,t.child=null;return qf(e,t,d,s,l)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ui(t,d!==null?d.cachePool:null),d!==null?Pm(t,d):yc(),Fm(t);else return l=t.lanes=536870912,qf(e,t,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(ui(t,d.cachePool),Pm(t,d),an(),t.memoizedState=null):(e!==null&&ui(t,null),yc(),an());return Gt(e,t,o,s),t.child}function tr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qf(e,t,s,l,o){var d=fc();return d=d===null?null:{parent:Lt._currentValue,pool:d},t.memoizedState={baseLanes:s,cachePool:d},e!==null&&ui(t,null),yc(),Fm(t),e!==null&&Kn(e,t,l,!0),t.childLanes=o,null}function Ci(e,t){return t=Ai({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Pf(e,t,s){return Tn(t,e.child,null,s),e=Ci(t,t.pendingProps),e.flags|=2,wa(t),t.memoizedState=null,e}function c0(e,t,s){var l=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if($e){if(l.mode==="hidden")return e=Ci(t,l),t.lanes=536870912,tr(null,e);if(jc(t),(e=ft)?(e=ex(e,Ba),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qs!==null?{id:ls,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},s=wm(e),s.return=t,t.child=s,Yt=t,ft=null)):e=null,e===null)throw Zs(t);return t.lanes=536870912,null}return Ci(t,l)}var d=e.memoizedState;if(d!==null){var b=d.dehydrated;if(jc(t),o)if(t.flags&256)t.flags&=-257,t=Pf(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Mt||Kn(e,t,s,!1),o=(s&e.childLanes)!==0,Mt||o){if(l=ct,l!==null&&(b=ut(l,s),b!==0&&b!==d.retryLane))throw d.retryLane=b,Nn(e,b),ya(l,e,b),Pc;Bi(),t=Pf(e,t,s)}else e=d.treeContext,ft=Ha(b.nextSibling),Yt=t,$e=!0,Xs=null,Ba=!1,e!==null&&Cm(t,e),t=Ci(t,l),t.flags|=4096;return t}return e=js(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ei(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(c(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Fc(e,t,s,l,o){return kn(t),s=Sc(e,t,s,l,void 0,o),l=wc(),e!==null&&!Mt?(_c(e,t,o),Cs(e,t,o)):($e&&l&&nc(t),t.flags|=1,Gt(e,t,s,o),t.child)}function Ff(e,t,s,l,o,d){return kn(t),t.updateQueue=null,s=Ym(t,l,s,o),Vm(e),l=wc(),e!==null&&!Mt?(_c(e,t,d),Cs(e,t,d)):($e&&l&&nc(t),t.flags|=1,Gt(e,t,s,d),t.child)}function Vf(e,t,s,l,o){if(kn(t),t.stateNode===null){var d=Qn,b=s.contextType;typeof b=="object"&&b!==null&&(d=$t(b)),d=new s(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},xc(t),b=s.contextType,d.context=typeof b=="object"&&b!==null?$t(b):Qn,d.state=t.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Ic(t,s,b,l),d.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Hc.enqueueReplaceState(d,d.state,null),Zl(t,l,d,o),Xl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var j=t.memoizedProps,R=Ln(s,j);d.props=R;var Z=d.context,ne=s.contextType;b=Qn,typeof ne=="object"&&ne!==null&&(b=$t(ne));var de=s.getDerivedStateFromProps;ne=typeof de=="function"||typeof d.getSnapshotBeforeUpdate=="function",j=t.pendingProps!==j,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(j||Z!==b)&&Tf(t,d,l,b),Ks=!1;var K=t.memoizedState;d.state=K,Zl(t,l,d,o),Xl(),Z=t.memoizedState,j||K!==Z||Ks?(typeof de=="function"&&(Ic(t,s,de,l),Z=t.memoizedState),(R=Ks||Af(t,s,R,l,K,Z,b))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=Z),d.props=l,d.state=Z,d.context=b,l=R):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,gc(e,t),b=t.memoizedProps,ne=Ln(s,b),d.props=ne,de=t.pendingProps,K=d.context,Z=s.contextType,R=Qn,typeof Z=="object"&&Z!==null&&(R=$t(Z)),j=s.getDerivedStateFromProps,(Z=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==de||K!==R)&&Tf(t,d,l,R),Ks=!1,K=t.memoizedState,d.state=K,Zl(t,l,d,o),Xl();var te=t.memoizedState;b!==de||K!==te||Ks||e!==null&&e.dependencies!==null&&ci(e.dependencies)?(typeof j=="function"&&(Ic(t,s,j,l),te=t.memoizedState),(ne=Ks||Af(t,s,ne,l,K,te,R)||e!==null&&e.dependencies!==null&&ci(e.dependencies))?(Z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,te,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,te,R)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=te),d.props=l,d.state=te,d.context=R,l=ne):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Ei(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Tn(t,e.child,null,o),t.child=Tn(t,null,s,o)):Gt(e,t,s,o),t.memoizedState=d.state,e=t.child):e=Cs(e,t,o),e}function Yf(e,t,s,l){return wn(),t.flags|=256,Gt(e,t,s,l),t.child}var Vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(e){return{baseLanes:e,cachePool:Dm()}}function $c(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=ka),e}function $f(e,t,s){var l=t.pendingProps,o=!1,d=(t.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(Et.current&2)!==0),b&&(o=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if($e){if(o?tn(t):an(),(e=ft)?(e=ex(e,Ba),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qs!==null?{id:ls,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},s=wm(e),s.return=t,t.child=s,Yt=t,ft=null)):e=null,e===null)throw Zs(t);return Ed(e)?t.lanes=32:t.lanes=536870912,null}var j=l.children;return l=l.fallback,o?(an(),o=t.mode,j=Ai({mode:"hidden",children:j},o),l=Sn(l,o,s,null),j.return=t,l.return=t,j.sibling=l,t.child=j,l=t.child,l.memoizedState=Yc(s),l.childLanes=$c(e,b,s),t.memoizedState=Vc,tr(null,l)):(tn(t),Gc(t,j))}var R=e.memoizedState;if(R!==null&&(j=R.dehydrated,j!==null)){if(d)t.flags&256?(tn(t),t.flags&=-257,t=Qc(e,t,s)):t.memoizedState!==null?(an(),t.child=e.child,t.flags|=128,t=null):(an(),j=l.fallback,o=t.mode,l=Ai({mode:"visible",children:l.children},o),j=Sn(j,o,s,null),j.flags|=2,l.return=t,j.return=t,l.sibling=j,t.child=l,Tn(t,e.child,null,s),l=t.child,l.memoizedState=Yc(s),l.childLanes=$c(e,b,s),t.memoizedState=Vc,t=tr(null,l));else if(tn(t),Ed(j)){if(b=j.nextSibling&&j.nextSibling.dataset,b)var Z=b.dgst;b=Z,l=Error(c(419)),l.stack="",l.digest=b,Fl({value:l,source:null,stack:null}),t=Qc(e,t,s)}else if(Mt||Kn(e,t,s,!1),b=(s&e.childLanes)!==0,Mt||b){if(b=ct,b!==null&&(l=ut(b,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Nn(e,l),ya(b,e,l),Pc;Cd(j)||Bi(),t=Qc(e,t,s)}else Cd(j)?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,ft=Ha(j.nextSibling),Yt=t,$e=!0,Xs=null,Ba=!1,e!==null&&Cm(t,e),t=Gc(t,l.children),t.flags|=4096);return t}return o?(an(),j=l.fallback,o=t.mode,R=e.child,Z=R.sibling,l=js(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,Z!==null?j=js(Z,j):(j=Sn(j,o,s,null),j.flags|=2),j.return=t,l.return=t,l.sibling=j,t.child=l,tr(null,l),l=t.child,j=e.child.memoizedState,j===null?j=Yc(s):(o=j.cachePool,o!==null?(R=Lt._currentValue,o=o.parent!==R?{parent:R,pool:R}:o):o=Dm(),j={baseLanes:j.baseLanes|s,cachePool:o}),l.memoizedState=j,l.childLanes=$c(e,b,s),t.memoizedState=Vc,tr(e.child,l)):(tn(t),s=e.child,e=s.sibling,s=js(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=s,t.memoizedState=null,s)}function Gc(e,t){return t=Ai({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ai(e,t){return e=Na(22,e,null,t),e.lanes=0,e}function Qc(e,t,s){return Tn(t,e.child,null,s),e=Gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gf(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),cc(e.return,t,s)}function Xc(e,t,s,l,o,d){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:o,treeForkCount:d}:(b.isBackwards=t,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=o,b.treeForkCount=d)}function Qf(e,t,s){var l=t.pendingProps,o=l.revealOrder,d=l.tail;l=l.children;var b=Et.current,j=(b&2)!==0;if(j?(b=b&1|2,t.flags|=128):b&=1,le(Et,b),Gt(e,t,l,s),l=$e?Pl:0,!j&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gf(e,s,t);else if(e.tag===19)Gf(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(s=t.child,o=null;s!==null;)e=s.alternate,e!==null&&pi(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=t.child,t.child=null):(o=s.sibling,s.sibling=null),Xc(t,!1,o,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&pi(e)===null){t.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}Xc(t,!0,s,null,d,l);break;case"together":Xc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Cs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Kn(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,s=js(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=js(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Zc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ci(e)))}function d0(e,t,s){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),Ws(t,Lt,e.memoizedState.cache),wn();break;case 27:case 5:me(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:Ws(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,jc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(tn(t),t.flags|=128,null):(s&t.child.childLanes)!==0?$f(e,t,s):(tn(t),e=Cs(e,t,s),e!==null?e.sibling:null);tn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(Kn(e,t,s,!1),l=(s&t.childLanes)!==0),o){if(l)return Qf(e,t,s);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(Et,Et.current),l)break;return null;case 22:return t.lanes=0,Hf(e,t,s,t.pendingProps);case 24:Ws(t,Lt,e.memoizedState.cache)}return Cs(e,t,s)}function Xf(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!Zc(e,s)&&(t.flags&128)===0)return Mt=!1,d0(e,t,s);Mt=(e.flags&131072)!==0}else Mt=!1,$e&&(t.flags&1048576)!==0&&km(t,Pl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=En(t.elementType),t.type=e,typeof e=="function")tc(e)?(l=Ln(e,l),t.tag=1,t=Vf(null,t,e,l,s)):(t.tag=0,t=Fc(null,t,e,l,s));else{if(e!=null){var o=e.$$typeof;if(o===P){t.tag=11,t=Uf(null,t,e,l,s);break e}else if(o===O){t.tag=14,t=Bf(null,t,e,l,s);break e}}throw t=E(e)||e,Error(c(306,t,""))}}return t;case 0:return Fc(e,t,t.type,t.pendingProps,s);case 1:return l=t.type,o=Ln(l,t.pendingProps),Vf(e,t,l,o,s);case 3:e:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var d=t.memoizedState;o=d.element,gc(e,t),Zl(t,l,null,s);var b=t.memoizedState;if(l=b.cache,Ws(t,Lt,l),l!==d.cache&&dc(t,[Lt],s,!0),Xl(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Yf(e,t,l,s);break e}else if(l!==o){o=Oa(Error(c(424)),t),Fl(o),t=Yf(e,t,l,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ft=Ha(e.firstChild),Yt=t,$e=!0,Xs=null,Ba=!0,s=Im(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wn(),l===o){t=Cs(e,t,s);break e}Gt(e,t,l,s)}t=t.child}return t;case 26:return Ei(e,t),e===null?(s=rx(t.type,null,t.pendingProps,null))?t.memoizedState=s:$e||(s=t.type,e=t.pendingProps,l=Yi(je.current).createElement(s),l[Rt]=t,l[gt]=e,Qt(l,s,e),He(l),t.stateNode=l):t.memoizedState=rx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&$e&&(l=t.stateNode=sx(t.type,t.pendingProps,je.current),Yt=t,Ba=!0,o=ft,un(t.type)?(Ad=o,ft=Ha(l.firstChild)):ft=o),Gt(e,t,t.pendingProps.children,s),Ei(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&$e&&((o=l=ft)&&(l=H0(l,t.type,t.pendingProps,Ba),l!==null?(t.stateNode=l,Yt=t,ft=Ha(l.firstChild),Ba=!1,o=!0):o=!1),o||Zs(t)),me(t),o=t.type,d=t.pendingProps,b=e!==null?e.memoizedProps:null,l=d.children,wd(o,d)?l=null:b!==null&&wd(o,b)&&(t.flags|=32),t.memoizedState!==null&&(o=Sc(e,t,t0,null,null,s),gr._currentValue=o),Ei(e,t),Gt(e,t,l,s),t.child;case 6:return e===null&&$e&&((e=s=ft)&&(s=q0(s,t.pendingProps,Ba),s!==null?(t.stateNode=s,Yt=t,ft=null,e=!0):e=!1),e||Zs(t)),null;case 13:return $f(e,t,s);case 4:return ye(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Tn(t,null,l,s):Gt(e,t,l,s),t.child;case 11:return Uf(e,t,t.type,t.pendingProps,s);case 7:return Gt(e,t,t.pendingProps,s),t.child;case 8:return Gt(e,t,t.pendingProps.children,s),t.child;case 12:return Gt(e,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,Ws(t,t.type,l.value),Gt(e,t,l.children,s),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,kn(t),o=$t(o),l=l(o),t.flags|=1,Gt(e,t,l,s),t.child;case 14:return Bf(e,t,t.type,t.pendingProps,s);case 15:return If(e,t,t.type,t.pendingProps,s);case 19:return Qf(e,t,s);case 31:return c0(e,t,s);case 22:return Hf(e,t,s,t.pendingProps);case 24:return kn(t),l=$t(Lt),e===null?(o=fc(),o===null&&(o=ct,d=uc(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=s),o=d),t.memoizedState={parent:l,cache:o},xc(t),Ws(t,Lt,o)):((e.lanes&s)!==0&&(gc(e,t),Zl(t,null,null,s),Xl()),o=e.memoizedState,d=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ws(t,Lt,l)):(l=d.cache,Ws(t,Lt,l),l!==o.cache&&dc(t,[Lt],s,!0))),Gt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Es(e){e.flags|=4}function Wc(e,t,s,l,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Nh())e.flags|=8192;else throw An=fi,hc}else e.flags&=-16777217}function Zf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ux(t))if(Nh())e.flags|=8192;else throw An=fi,hc}function Ti(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?re():536870912,e.lanes|=t,dl|=t)}function ar(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function u0(e,t,s){var l=t.pendingProps;switch(lc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return s=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ws(Lt),Oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Wn(t)?Es(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ic())),ht(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(Es(t),d!==null?(ht(t),Zf(t,d)):(ht(t),Wc(t,o,null,l,s))):d?d!==e.memoizedState?(Es(t),ht(t),Zf(t,d)):(ht(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Es(t),ht(t),Wc(t,o,e,l,s)),null;case 27:if(Me(t),s=je.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Es(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return ht(t),null}e=be.current,Wn(t)?Em(t):(e=sx(o,l,s),t.stateNode=e,Es(t))}return ht(t),null;case 5:if(Me(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Es(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return ht(t),null}if(d=be.current,Wn(t))Em(t);else{var b=Yi(je.current);switch(d){case 1:d=b.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=b.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=b.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=b.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=b.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?b.createElement(o,{is:l.is}):b.createElement(o)}}d[Rt]=t,d[gt]=l;e:for(b=t.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}t.stateNode=d;e:switch(Qt(d,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Es(t)}}return ht(t),Wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Es(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=je.current,Wn(t)){if(e=t.stateNode,s=t.memoizedProps,l=null,o=Yt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[Rt]=t,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$h(e.nodeValue,s)),e||Zs(t,!0)}else e=Yi(e).createTextNode(l),e[Rt]=t,t.stateNode=e}return ht(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(l=Wn(t),s!==null){if(e===null){if(!l)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Rt]=t}else wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),e=!1}else s=ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(wa(t),t):(wa(t),null);if((t.flags&128)!==0)throw Error(c(558))}return ht(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Wn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Rt]=t}else wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),o=!1}else o=ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(wa(t),t):(wa(t),null)}return wa(t),(t.flags&128)!==0?(t.lanes=s,t):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==o&&(l.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Ti(t,t.updateQueue),ht(t),null);case 4:return Oe(),e===null&&yd(t.stateNode.containerInfo),ht(t),null;case 10:return ws(t.type),ht(t),null;case 19:if(Q(Et),l=t.memoizedState,l===null)return ht(t),null;if(o=(t.flags&128)!==0,d=l.rendering,d===null)if(o)ar(l,!1);else{if(_t!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=pi(e),d!==null){for(t.flags|=128,ar(l,!1),e=d.updateQueue,t.updateQueue=e,Ti(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Sm(s,e),s=s.sibling;return le(Et,Et.current&1|2),$e&&Ns(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&dt()>Oi&&(t.flags|=128,o=!0,ar(l,!1),t.lanes=4194304)}else{if(!o)if(e=pi(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ti(t,e),ar(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!$e)return ht(t),null}else 2*dt()-l.renderingStartTime>Oi&&s!==536870912&&(t.flags|=128,o=!0,ar(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=dt(),e.sibling=null,s=Et.current,le(Et,o?s&1|2:s&1),$e&&Ns(t,l.treeForkCount),e):(ht(t),null);case 22:case 23:return wa(t),vc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),s=t.updateQueue,s!==null&&Ti(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),e!==null&&Q(Cn),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ws(Lt),ht(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function m0(e,t){switch(lc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ws(Lt),Oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Me(t),null;case 31:if(t.memoizedState!==null){if(wa(t),t.alternate===null)throw Error(c(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(wa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Et),null;case 4:return Oe(),null;case 10:return ws(t.type),null;case 22:case 23:return wa(t),vc(),e!==null&&Q(Cn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ws(Lt),null;case 25:return null;default:return null}}function Wf(e,t){switch(lc(t),t.tag){case 3:ws(Lt),Oe();break;case 26:case 27:case 5:Me(t);break;case 4:Oe();break;case 31:t.memoizedState!==null&&wa(t);break;case 13:wa(t);break;case 19:Q(Et);break;case 10:ws(t.type);break;case 22:case 23:wa(t),vc(),e!==null&&Q(Cn);break;case 24:ws(Lt)}}function sr(e,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var o=l.next;s=o;do{if((s.tag&e)===e){l=void 0;var d=s.create,b=s.inst;l=d(),b.destroy=l}s=s.next}while(s!==o)}}catch(j){at(t,t.return,j)}}function sn(e,t,s){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var d=o.next;l=d;do{if((l.tag&e)===e){var b=l.inst,j=b.destroy;if(j!==void 0){b.destroy=void 0,o=t;var R=s,Z=j;try{Z()}catch(ne){at(o,R,ne)}}}l=l.next}while(l!==d)}}catch(ne){at(t,t.return,ne)}}function Kf(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{qm(t,s)}catch(l){at(e,e.return,l)}}}function Jf(e,t,s){s.props=Ln(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){at(e,t,l)}}function nr(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(o){at(e,t,o)}}function is(e,t){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(o){at(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(o){at(e,t,o)}else s.current=null}function eh(e){var t=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(o){at(e,e.return,o)}}function Kc(e,t,s){try{var l=e.stateNode;M0(l,e.type,s,t),l[gt]=t}catch(o){at(e,e.return,o)}}function th(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&un(e.type)||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&un(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ys));else if(l!==4&&(l===27&&un(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(ed(e,t,s),e=e.sibling;e!==null;)ed(e,t,s),e=e.sibling}function Ri(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(l===27&&un(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ri(e,t,s),e=e.sibling;e!==null;)Ri(e,t,s),e=e.sibling}function ah(e){var t=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Qt(t,l,s),t[Rt]=e,t[gt]=s}catch(d){at(e,e.return,d)}}var As=!1,Ot=!1,td=!1,sh=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function f0(e,t){if(e=e.containerInfo,Nd=Ki,e=hm(e),Qo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var o=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var b=0,j=-1,R=-1,Z=0,ne=0,de=e,K=null;t:for(;;){for(var te;de!==s||o!==0&&de.nodeType!==3||(j=b+o),de!==d||l!==0&&de.nodeType!==3||(R=b+l),de.nodeType===3&&(b+=de.nodeValue.length),(te=de.firstChild)!==null;)K=de,de=te;for(;;){if(de===e)break t;if(K===s&&++Z===o&&(j=b),K===d&&++ne===l&&(R=b),(te=de.nextSibling)!==null)break;de=K,K=de.parentNode}de=te}s=j===-1||R===-1?null:{start:j,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sd={focusedElem:e,selectionRange:s},Ki=!1,Pt=t;Pt!==null;)if(t=Pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pt=e;else for(;Pt!==null;){switch(t=Pt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)o=e[s],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=t,o=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ne=Ln(s.type,o);e=l.getSnapshotBeforeUpdate(Ne,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Le){at(s,s.return,Le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)kd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}}function nh(e,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Rs(e,s),l&4&&sr(5,s);break;case 1:if(Rs(e,s),l&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(b){at(s,s.return,b)}else{var o=Ln(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){at(s,s.return,b)}}l&64&&Kf(s),l&512&&nr(s,s.return);break;case 3:if(Rs(e,s),l&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{qm(e,t)}catch(b){at(s,s.return,b)}}break;case 27:t===null&&l&4&&ah(s);case 26:case 5:Rs(e,s),t===null&&l&4&&eh(s),l&512&&nr(s,s.return);break;case 12:Rs(e,s);break;case 31:Rs(e,s),l&4&&ih(e,s);break;case 13:Rs(e,s),l&4&&oh(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=N0.bind(null,s),P0(e,s))));break;case 22:if(l=s.memoizedState!==null||As,!l){t=t!==null&&t.memoizedState!==null||Ot,o=As;var d=Ot;As=l,(Ot=t)&&!d?Ls(e,s,(s.subtreeFlags&8772)!==0):Rs(e,s),As=o,Ot=d}break;case 30:break;default:Rs(e,s)}}function lh(e){var t=e.alternate;t!==null&&(e.alternate=null,lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&z(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pt=null,xa=!1;function Ts(e,t,s){for(s=s.child;s!==null;)rh(e,t,s),s=s.sibling}function rh(e,t,s){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(na,s)}catch{}switch(s.tag){case 26:Ot||is(s,t),Ts(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||is(s,t);var l=pt,o=xa;un(s.type)&&(pt=s.stateNode,xa=!1),Ts(e,t,s),fr(s.stateNode),pt=l,xa=o;break;case 5:Ot||is(s,t);case 6:if(l=pt,o=xa,pt=null,Ts(e,t,s),pt=l,xa=o,pt!==null)if(xa)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(d){at(s,t,d)}else try{pt.removeChild(s.stateNode)}catch(d){at(s,t,d)}break;case 18:pt!==null&&(xa?(e=pt,Kh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),bl(e)):Kh(pt,s.stateNode));break;case 4:l=pt,o=xa,pt=s.stateNode.containerInfo,xa=!0,Ts(e,t,s),pt=l,xa=o;break;case 0:case 11:case 14:case 15:sn(2,s,t),Ot||sn(4,s,t),Ts(e,t,s);break;case 1:Ot||(is(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Jf(s,t,l)),Ts(e,t,s);break;case 21:Ts(e,t,s);break;case 22:Ot=(l=Ot)||s.memoizedState!==null,Ts(e,t,s),Ot=l;break;default:Ts(e,t,s)}}function ih(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{bl(e)}catch(s){at(t,t.return,s)}}}function oh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bl(e)}catch(s){at(t,t.return,s)}}function h0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sh),t;default:throw Error(c(435,e.tag))}}function Li(e,t){var s=h0(e);t.forEach(function(l){if(!s.has(l)){s.add(l);var o=S0.bind(null,e,l);l.then(o,o)}})}function ga(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var o=s[l],d=e,b=t,j=b;e:for(;j!==null;){switch(j.tag){case 27:if(un(j.type)){pt=j.stateNode,xa=!1;break e}break;case 5:pt=j.stateNode,xa=!1;break e;case 3:case 4:pt=j.stateNode.containerInfo,xa=!0;break e}j=j.return}if(pt===null)throw Error(c(160));rh(d,b,o),pt=null,xa=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ch(t,e),t=t.sibling}var Za=null;function ch(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ga(t,e),pa(e),l&4&&(sn(3,e,e.return),sr(3,e),sn(5,e,e.return));break;case 1:ga(t,e),pa(e),l&512&&(Ot||s===null||is(s,s.return)),l&64&&As&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var o=Za;if(ga(t,e),pa(e),l&512&&(Ot||s===null||is(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":d=o.getElementsByTagName("title")[0],(!d||d[we]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(l),o.head.insertBefore(d,o.querySelector("head > title"))),Qt(d,l,s),d[Rt]=e,He(d),l=d;break e;case"link":var b=cx("link","href",o).get(l+(s.href||""));if(b){for(var j=0;j<b.length;j++)if(d=b[j],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(j,1);break t}}d=o.createElement(l),Qt(d,l,s),o.head.appendChild(d);break;case"meta":if(b=cx("meta","content",o).get(l+(s.content||""))){for(j=0;j<b.length;j++)if(d=b[j],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(j,1);break t}}d=o.createElement(l),Qt(d,l,s),o.head.appendChild(d);break;default:throw Error(c(468,l))}d[Rt]=e,He(d),l=d}e.stateNode=l}else dx(o,e.type,e.stateNode);else e.stateNode=ox(o,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?dx(o,e.type,e.stateNode):ox(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Kc(e,e.memoizedProps,s.memoizedProps)}break;case 27:ga(t,e),pa(e),l&512&&(Ot||s===null||is(s,s.return)),s!==null&&l&4&&Kc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ga(t,e),pa(e),l&512&&(Ot||s===null||is(s,s.return)),e.flags&32){o=e.stateNode;try{qn(o,"")}catch(Ne){at(e,e.return,Ne)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Kc(e,o,s!==null?s.memoizedProps:o)),l&1024&&(td=!0);break;case 6:if(ga(t,e),pa(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Ne){at(e,e.return,Ne)}}break;case 3:if(Qi=null,o=Za,Za=$i(t.containerInfo),ga(t,e),Za=o,pa(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{bl(t.containerInfo)}catch(Ne){at(e,e.return,Ne)}td&&(td=!1,dh(e));break;case 4:l=Za,Za=$i(e.stateNode.containerInfo),ga(t,e),pa(e),Za=l;break;case 12:ga(t,e),pa(e);break;case 31:ga(t,e),pa(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Li(e,l)));break;case 13:ga(t,e),pa(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Mi=dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Li(e,l)));break;case 22:o=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,Z=As,ne=Ot;if(As=Z||o,Ot=ne||R,ga(t,e),Ot=ne,As=Z,pa(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(s===null||R||As||Ot||Dn(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){R=s=t;try{if(d=R.stateNode,o)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{j=R.stateNode;var de=R.memoizedProps.style,K=de!=null&&de.hasOwnProperty("display")?de.display:null;j.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Ne){at(R,R.return,Ne)}}}else if(t.tag===6){if(s===null){R=t;try{R.stateNode.nodeValue=o?"":R.memoizedProps}catch(Ne){at(R,R.return,Ne)}}}else if(t.tag===18){if(s===null){R=t;try{var te=R.stateNode;o?Jh(te,!0):Jh(R.stateNode,!1)}catch(Ne){at(R,R.return,Ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Li(e,s))));break;case 19:ga(t,e),pa(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Li(e,l)));break;case 30:break;case 21:break;default:ga(t,e),pa(e)}}function pa(e){var t=e.flags;if(t&2){try{for(var s,l=e.return;l!==null;){if(th(l)){s=l;break}l=l.return}if(s==null)throw Error(c(160));switch(s.tag){case 27:var o=s.stateNode,d=Jc(e);Ri(e,d,o);break;case 5:var b=s.stateNode;s.flags&32&&(qn(b,""),s.flags&=-33);var j=Jc(e);Ri(e,j,b);break;case 3:case 4:var R=s.stateNode.containerInfo,Z=Jc(e);ed(e,Z,R);break;default:throw Error(c(161))}}catch(ne){at(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rs(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)nh(e,t.alternate,t),t=t.sibling}function Dn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sn(4,t,t.return),Dn(t);break;case 1:is(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Jf(t,t.return,s),Dn(t);break;case 27:fr(t.stateNode);case 26:case 5:is(t,t.return),Dn(t);break;case 22:t.memoizedState===null&&Dn(t);break;case 30:Dn(t);break;default:Dn(t)}e=e.sibling}}function Ls(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,d=t,b=d.flags;switch(d.tag){case 0:case 11:case 15:Ls(o,d,s),sr(4,d);break;case 1:if(Ls(o,d,s),l=d,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(Z){at(l,l.return,Z)}if(l=d,o=l.updateQueue,o!==null){var j=l.stateNode;try{var R=o.shared.hiddenCallbacks;if(R!==null)for(o.shared.hiddenCallbacks=null,o=0;o<R.length;o++)Hm(R[o],j)}catch(Z){at(l,l.return,Z)}}s&&b&64&&Kf(d),nr(d,d.return);break;case 27:ah(d);case 26:case 5:Ls(o,d,s),s&&l===null&&b&4&&eh(d),nr(d,d.return);break;case 12:Ls(o,d,s);break;case 31:Ls(o,d,s),s&&b&4&&ih(o,d);break;case 13:Ls(o,d,s),s&&b&4&&oh(o,d);break;case 22:d.memoizedState===null&&Ls(o,d,s),nr(d,d.return);break;case 30:break;default:Ls(o,d,s)}t=t.sibling}}function ad(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Vl(s))}function sd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vl(e))}function Wa(e,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uh(e,t,s,l),t=t.sibling}function uh(e,t,s,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Wa(e,t,s,l),o&2048&&sr(9,t);break;case 1:Wa(e,t,s,l);break;case 3:Wa(e,t,s,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vl(e)));break;case 12:if(o&2048){Wa(e,t,s,l),e=t.stateNode;try{var d=t.memoizedProps,b=d.id,j=d.onPostCommit;typeof j=="function"&&j(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){at(t,t.return,R)}}else Wa(e,t,s,l);break;case 31:Wa(e,t,s,l);break;case 13:Wa(e,t,s,l);break;case 23:break;case 22:d=t.stateNode,b=t.alternate,t.memoizedState!==null?d._visibility&2?Wa(e,t,s,l):lr(e,t):d._visibility&2?Wa(e,t,s,l):(d._visibility|=2,il(e,t,s,l,(t.subtreeFlags&10256)!==0||!1)),o&2048&&ad(b,t);break;case 24:Wa(e,t,s,l),o&2048&&sd(t.alternate,t);break;default:Wa(e,t,s,l)}}function il(e,t,s,l,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,b=t,j=s,R=l,Z=b.flags;switch(b.tag){case 0:case 11:case 15:il(d,b,j,R,o),sr(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?il(d,b,j,R,o):lr(d,b):(ne._visibility|=2,il(d,b,j,R,o)),o&&Z&2048&&ad(b.alternate,b);break;case 24:il(d,b,j,R,o),o&&Z&2048&&sd(b.alternate,b);break;default:il(d,b,j,R,o)}t=t.sibling}}function lr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,l=t,o=l.flags;switch(l.tag){case 22:lr(s,l),o&2048&&ad(l.alternate,l);break;case 24:lr(s,l),o&2048&&sd(l.alternate,l);break;default:lr(s,l)}t=t.sibling}}var rr=8192;function ol(e,t,s){if(e.subtreeFlags&rr)for(e=e.child;e!==null;)mh(e,t,s),e=e.sibling}function mh(e,t,s){switch(e.tag){case 26:ol(e,t,s),e.flags&rr&&e.memoizedState!==null&&eb(s,Za,e.memoizedState,e.memoizedProps);break;case 5:ol(e,t,s);break;case 3:case 4:var l=Za;Za=$i(e.stateNode.containerInfo),ol(e,t,s),Za=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=rr,rr=16777216,ol(e,t,s),rr=l):ol(e,t,s));break;default:ol(e,t,s)}}function fh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ir(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Pt=l,xh(l,e)}fh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hh(e),e=e.sibling}function hh(e){switch(e.tag){case 0:case 11:case 15:ir(e),e.flags&2048&&sn(9,e,e.return);break;case 3:ir(e);break;case 12:ir(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Di(e)):ir(e);break;default:ir(e)}}function Di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Pt=l,xh(l,e)}fh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:sn(8,t,t.return),Di(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Di(t));break;default:Di(t)}e=e.sibling}}function xh(e,t){for(;Pt!==null;){var s=Pt;switch(s.tag){case 0:case 11:case 15:sn(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Pt=l;else e:for(s=e;Pt!==null;){l=Pt;var o=l.sibling,d=l.return;if(lh(l),l===s){Pt=null;break e}if(o!==null){o.return=d,Pt=o;break e}Pt=d}}}var x0={getCacheForType:function(e){var t=$t(Lt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return $t(Lt).controller.signal}},g0=typeof WeakMap=="function"?WeakMap:Map,Ke=0,ct=null,qe=null,Ve=0,tt=0,_a=null,nn=!1,cl=!1,nd=!1,Ds=0,_t=0,ln=0,Mn=0,ld=0,ka=0,dl=0,or=null,ba=null,rd=!1,Mi=0,gh=0,Oi=1/0,zi=null,rn=null,It=0,on=null,ul=null,Ms=0,id=0,od=null,ph=null,cr=0,cd=null;function Ca(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:M.T!==null?xd():ma()}function bh(){if(ka===0)if((Ve&536870912)===0||$e){var e=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),ka=e}else ka=536870912;return e=Sa.current,e!==null&&(e.flags|=32),ka}function ya(e,t,s){(e===ct&&(tt===2||tt===9)||e.cancelPendingCommit!==null)&&(ml(e,0),cn(e,Ve,ka,!1)),Se(e,s),((Ke&2)===0||e!==ct)&&(e===ct&&((Ke&2)===0&&(Mn|=s),_t===4&&cn(e,Ve,ka,!1)),os(e))}function yh(e,t,s){if((Ke&6)!==0)throw Error(c(327));var l=!s&&(t&127)===0&&(t&e.expiredLanes)===0||gs(e,t),o=l?y0(e,t):ud(e,t,!0),d=l;do{if(o===0){cl&&!l&&cn(e,t,0,!1);break}else{if(s=e.current.alternate,d&&!p0(s)){o=ud(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var j=e;o=or;var R=j.current.memoizedState.isDehydrated;if(R&&(ml(j,b).flags|=256),b=ud(j,b,!1),b!==2){if(nd&&!R){j.errorRecoveryDisabledLanes|=d,Mn|=d,o=4;break e}d=ba,ba=o,d!==null&&(ba===null?ba=d:ba.push.apply(ba,d))}o=b}if(d=!1,o!==2)continue}}if(o===1){ml(e,0),cn(e,t,0,!0);break}e:{switch(l=e,d=o,d){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:cn(l,t,ka,!nn);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(o=Mi+300-dt(),10<o)){if(cn(l,t,ka,!nn),$s(l,0,!0)!==0)break e;Ms=t,l.timeoutHandle=Zh(vh.bind(null,l,s,ba,zi,rd,t,ka,Mn,dl,nn,d,"Throttled",-0,0),o);break e}vh(l,s,ba,zi,rd,t,ka,Mn,dl,nn,d,null,-0,0)}}break}while(!0);os(e)}function vh(e,t,s,l,o,d,b,j,R,Z,ne,de,K,te){if(e.timeoutHandle=-1,de=t.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ys},mh(t,d,de);var Ne=(d&62914560)===d?Mi-dt():(d&4194048)===d?gh-dt():0;if(Ne=tb(de,Ne),Ne!==null){Ms=d,e.cancelPendingCommit=Ne(Eh.bind(null,e,t,d,s,l,o,b,j,R,ne,de,null,K,te)),cn(e,d,b,!Z);return}}Eh(e,t,d,s,l,o,b,j,R)}function p0(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var o=s[l],d=o.getSnapshot;o=o.value;try{if(!ja(d(),o))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t,s,l){t&=~ld,t&=~Mn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var d=31-xt(o),b=1<<d;l[d]=-1,o&=~b}s!==0&&De(e,s,t)}function Ui(){return(Ke&6)===0?(dr(0),!1):!0}function dd(){if(qe!==null){if(tt===0)var e=qe.return;else e=qe,Ss=_n=null,kc(e),al=null,$l=0,e=qe;for(;e!==null;)Wf(e.alternate,e),e=e.return;qe=null}}function ml(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,U0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ms=0,dd(),ct=e,qe=s=js(e.current,null),Ve=t,tt=0,_a=null,nn=!1,cl=gs(e,t),nd=!1,dl=ka=ld=Mn=ln=_t=0,ba=or=null,rd=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-xt(l),d=1<<o;t|=e[o],l&=~d}return Ds=t,ni(),s}function jh(e,t){Ue=null,M.H=er,t===tl||t===mi?(t=zm(),tt=3):t===hc?(t=zm(),tt=4):tt=t===Pc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_a=t,qe===null&&(_t=1,ki(e,Oa(t,e.current)))}function Nh(){var e=Sa.current;return e===null?!0:(Ve&4194048)===Ve?Ia===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?e===Ia:!1}function Sh(){var e=M.H;return M.H=er,e===null?er:e}function wh(){var e=M.A;return M.A=x0,e}function Bi(){_t=4,nn||(Ve&4194048)!==Ve&&Sa.current!==null||(cl=!0),(ln&134217727)===0&&(Mn&134217727)===0||ct===null||cn(ct,Ve,ka,!1)}function ud(e,t,s){var l=Ke;Ke|=2;var o=Sh(),d=wh();(ct!==e||Ve!==t)&&(zi=null,ml(e,t)),t=!1;var b=_t;e:do try{if(tt!==0&&qe!==null){var j=qe,R=_a;switch(tt){case 8:dd(),b=6;break e;case 3:case 2:case 9:case 6:Sa.current===null&&(t=!0);var Z=tt;if(tt=0,_a=null,fl(e,j,R,Z),s&&cl){b=0;break e}break;default:Z=tt,tt=0,_a=null,fl(e,j,R,Z)}}b0(),b=_t;break}catch(ne){jh(e,ne)}while(!0);return t&&e.shellSuspendCounter++,Ss=_n=null,Ke=l,M.H=o,M.A=d,qe===null&&(ct=null,Ve=0,ni()),b}function b0(){for(;qe!==null;)_h(qe)}function y0(e,t){var s=Ke;Ke|=2;var l=Sh(),o=wh();ct!==e||Ve!==t?(zi=null,Oi=dt()+500,ml(e,t)):cl=gs(e,t);e:do try{if(tt!==0&&qe!==null){t=qe;var d=_a;t:switch(tt){case 1:tt=0,_a=null,fl(e,t,d,1);break;case 2:case 9:if(Mm(d)){tt=0,_a=null,kh(t);break}t=function(){tt!==2&&tt!==9||ct!==e||(tt=7),os(e)},d.then(t,t);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Mm(d)?(tt=0,_a=null,kh(t)):(tt=0,_a=null,fl(e,t,d,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var j=qe;if(b?ux(b):j.stateNode.complete){tt=0,_a=null;var R=j.sibling;if(R!==null)qe=R;else{var Z=j.return;Z!==null?(qe=Z,Ii(Z)):qe=null}break t}}tt=0,_a=null,fl(e,t,d,5);break;case 6:tt=0,_a=null,fl(e,t,d,6);break;case 8:dd(),_t=6;break e;default:throw Error(c(462))}}v0();break}catch(ne){jh(e,ne)}while(!0);return Ss=_n=null,M.H=l,M.A=o,Ke=s,qe!==null?0:(ct=null,Ve=0,ni(),_t)}function v0(){for(;qe!==null&&!ds();)_h(qe)}function _h(e){var t=Xf(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,t===null?Ii(e):qe=t}function kh(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Ff(s,t,t.pendingProps,t.type,void 0,Ve);break;case 11:t=Ff(s,t,t.pendingProps,t.type.render,t.ref,Ve);break;case 5:kc(t);default:Wf(s,t),t=qe=Sm(t,Ds),t=Xf(s,t,Ds)}e.memoizedProps=e.pendingProps,t===null?Ii(e):qe=t}function fl(e,t,s,l){Ss=_n=null,kc(t),al=null,$l=0;var o=t.return;try{if(o0(e,o,t,s,Ve)){_t=1,ki(e,Oa(s,e.current)),qe=null;return}}catch(d){if(o!==null)throw qe=o,d;_t=1,ki(e,Oa(s,e.current)),qe=null;return}t.flags&32768?($e||l===1?e=!0:cl||(Ve&536870912)!==0?e=!1:(nn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sa.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ch(t,e)):Ii(t)}function Ii(e){var t=e;do{if((t.flags&32768)!==0){Ch(t,nn);return}e=t.return;var s=u0(t.alternate,t,Ds);if(s!==null){qe=s;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);_t===0&&(_t=5)}function Ch(e,t){do{var s=m0(e.alternate,e);if(s!==null){s.flags&=32767,qe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=s}while(e!==null);_t=6,qe=null}function Eh(e,t,s,l,o,d,b,j,R){e.cancelPendingCommit=null;do Hi();while(It!==0);if((Ke&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(d=t.lanes|t.childLanes,d|=Jo,Re(e,s,d,b,j,R),e===ct&&(qe=ct=null,Ve=0),ul=t,on=e,Ms=s,id=d,od=o,ph=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w0(va,function(){return Dh(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,o=q.p,q.p=2,b=Ke,Ke|=4;try{f0(e,t,s)}finally{Ke=b,q.p=o,M.T=l}}It=1,Ah(),Th(),Rh()}}function Ah(){if(It===1){It=0;var e=on,t=ul,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=M.T,M.T=null;var l=q.p;q.p=2;var o=Ke;Ke|=4;try{ch(t,e);var d=Sd,b=hm(e.containerInfo),j=d.focusedElem,R=d.selectionRange;if(b!==j&&j&&j.ownerDocument&&fm(j.ownerDocument.documentElement,j)){if(R!==null&&Qo(j)){var Z=R.start,ne=R.end;if(ne===void 0&&(ne=Z),"selectionStart"in j)j.selectionStart=Z,j.selectionEnd=Math.min(ne,j.value.length);else{var de=j.ownerDocument||document,K=de&&de.defaultView||window;if(K.getSelection){var te=K.getSelection(),Ne=j.textContent.length,Le=Math.min(R.start,Ne),rt=R.end===void 0?Le:Math.min(R.end,Ne);!te.extend&&Le>rt&&(b=rt,rt=Le,Le=b);var V=mm(j,Le),B=mm(j,rt);if(V&&B&&(te.rangeCount!==1||te.anchorNode!==V.node||te.anchorOffset!==V.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var X=de.createRange();X.setStart(V.node,V.offset),te.removeAllRanges(),Le>rt?(te.addRange(X),te.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),te.addRange(X))}}}}for(de=[],te=j;te=te.parentNode;)te.nodeType===1&&de.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<de.length;j++){var oe=de[j];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Ki=!!Nd,Sd=Nd=null}finally{Ke=o,q.p=l,M.T=s}}e.current=t,It=2}}function Th(){if(It===2){It=0;var e=on,t=ul,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=M.T,M.T=null;var l=q.p;q.p=2;var o=Ke;Ke|=4;try{nh(e,t.alternate,t)}finally{Ke=o,q.p=l,M.T=s}}It=3}}function Rh(){if(It===4||It===3){It=0,Ys();var e=on,t=ul,s=Ms,l=ph;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?It=5:(It=0,ul=on=null,Lh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(rn=null),Ct(s),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(na,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,o=q.p,q.p=2,M.T=null;try{for(var d=e.onRecoverableError,b=0;b<l.length;b++){var j=l[b];d(j.value,{componentStack:j.stack})}}finally{M.T=t,q.p=o}}(Ms&3)!==0&&Hi(),os(e),o=e.pendingLanes,(s&261930)!==0&&(o&42)!==0?e===cd?cr++:(cr=0,cd=e):cr=0,dr(0)}}function Lh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vl(t)))}function Hi(){return Ah(),Th(),Rh(),Dh()}function Dh(){if(It!==5)return!1;var e=on,t=id;id=0;var s=Ct(Ms),l=M.T,o=q.p;try{q.p=32>s?32:s,M.T=null,s=od,od=null;var d=on,b=Ms;if(It=0,ul=on=null,Ms=0,(Ke&6)!==0)throw Error(c(331));var j=Ke;if(Ke|=4,hh(d.current),uh(d,d.current,b,s),Ke=j,dr(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(na,d)}catch{}return!0}finally{q.p=o,M.T=l,Lh(e,t)}}function Mh(e,t,s){t=Oa(s,t),t=qc(e.stateNode,t,2),e=en(e,t,2),e!==null&&(Se(e,2),os(e))}function at(e,t,s){if(e.tag===3)Mh(e,e,s);else for(;t!==null;){if(t.tag===3){Mh(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rn===null||!rn.has(l))){e=Oa(s,e),s=Of(2),l=en(t,s,2),l!==null&&(zf(s,l,t,e),Se(l,2),os(l));break}}t=t.return}}function md(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new g0;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(s)||(nd=!0,o.add(s),e=j0.bind(null,e,t,s),t.then(e,e))}function j0(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ct===e&&(Ve&s)===s&&(_t===4||_t===3&&(Ve&62914560)===Ve&&300>dt()-Mi?(Ke&2)===0&&ml(e,0):ld|=s,dl===Ve&&(dl=0)),os(e)}function Oh(e,t){t===0&&(t=re()),e=Nn(e,t),e!==null&&(Se(e,t),os(e))}function N0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Oh(e,s)}function S0(e,t){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),Oh(e,s)}function w0(e,t){return qt(e,t)}var qi=null,hl=null,fd=!1,Pi=!1,hd=!1,dn=0;function os(e){e!==hl&&e.next===null&&(hl===null?qi=hl=e:hl=hl.next=e),Pi=!0,fd||(fd=!0,k0())}function dr(e,t){if(!hd&&Pi){hd=!0;do for(var s=!1,l=qi;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var d=0;else{var b=l.suspendedLanes,j=l.pingedLanes;d=(1<<31-xt(42|e)+1)-1,d&=o&~(b&~j),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Ih(l,d))}else d=Ve,d=$s(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gs(l,d)||(s=!0,Ih(l,d));l=l.next}while(s);hd=!1}}function _0(){zh()}function zh(){Pi=fd=!1;var e=0;dn!==0&&z0()&&(e=dn);for(var t=dt(),s=null,l=qi;l!==null;){var o=l.next,d=Uh(l,t);d===0?(l.next=null,s===null?qi=o:s.next=o,o===null&&(hl=s)):(s=l,(e!==0||(d&3)!==0)&&(Pi=!0)),l=o}It!==0&&It!==5||dr(e),dn!==0&&(dn=0)}function Uh(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var b=31-xt(d),j=1<<b,R=o[b];R===-1?((j&s)===0||(j&l)!==0)&&(o[b]=St(j,t)):R<=t&&(e.expiredLanes|=j),d&=~j}if(t=ct,s=Ve,s=$s(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===t&&(tt===2||tt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ft(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||gs(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(l!==null&&Ft(l),Ct(s)){case 2:case 8:s=aa;break;case 32:s=va;break;case 268435456:s=sa;break;default:s=va}return l=Bh.bind(null,e),s=qt(s,l),e.callbackPriority=t,e.callbackNode=s,t}return l!==null&&l!==null&&Ft(l),e.callbackPriority=2,e.callbackNode=null,2}function Bh(e,t){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Hi()&&e.callbackNode!==s)return null;var l=Ve;return l=$s(e,e===ct?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yh(e,l,t),Uh(e,dt()),e.callbackNode!=null&&e.callbackNode===s?Bh.bind(null,e):null)}function Ih(e,t){if(Hi())return null;yh(e,t,!0)}function k0(){B0(function(){(Ke&6)!==0?qt(ta,_0):zh()})}function xd(){if(dn===0){var e=Jn;e===0&&(e=se,se<<=1,(se&261888)===0&&(se=256)),dn=e}return dn}function Hh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zr(""+e)}function qh(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function C0(e,t,s,l,o){if(t==="submit"&&s&&s.stateNode===o){var d=Hh((o[gt]||null).action),b=l.submitter;b&&(t=(t=b[gt]||null)?Hh(t.formAction):b.getAttribute("formAction"),t!==null&&(d=t,b=null));var j=new ei("action","action",null,l,o);e.push({event:j,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(dn!==0){var R=b?qh(o,b):new FormData(o);Oc(s,{pending:!0,data:R,method:o.method,action:d},null,R)}}else typeof d=="function"&&(j.preventDefault(),R=b?qh(o,b):new FormData(o),Oc(s,{pending:!0,data:R,method:o.method,action:d},d,R))},currentTarget:o}]})}}for(var gd=0;gd<Ko.length;gd++){var pd=Ko[gd],E0=pd.toLowerCase(),A0=pd[0].toUpperCase()+pd.slice(1);Xa(E0,"on"+A0)}Xa(pm,"onAnimationEnd"),Xa(bm,"onAnimationIteration"),Xa(ym,"onAnimationStart"),Xa("dblclick","onDoubleClick"),Xa("focusin","onFocus"),Xa("focusout","onBlur"),Xa(Yp,"onTransitionRun"),Xa($p,"onTransitionStart"),Xa(Gp,"onTransitionCancel"),Xa(vm,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ur));function Ph(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],o=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var b=l.length-1;0<=b;b--){var j=l[b],R=j.instance,Z=j.currentTarget;if(j=j.listener,R!==d&&o.isPropagationStopped())break e;d=j,o.currentTarget=Z;try{d(o)}catch(ne){si(ne)}o.currentTarget=null,d=R}else for(b=0;b<l.length;b++){if(j=l[b],R=j.instance,Z=j.currentTarget,j=j.listener,R!==d&&o.isPropagationStopped())break e;d=j,o.currentTarget=Z;try{d(o)}catch(ne){si(ne)}o.currentTarget=null,d=R}}}}function Pe(e,t){var s=t[In];s===void 0&&(s=t[In]=new Set);var l=e+"__bubble";s.has(l)||(Fh(t,e,2,!1),s.add(l))}function bd(e,t,s){var l=0;t&&(l|=4),Fh(s,e,l,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function yd(e){if(!e[Fi]){e[Fi]=!0,Vt.forEach(function(s){s!=="selectionchange"&&(T0.has(s)||bd(s,!1,e),bd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fi]||(t[Fi]=!0,bd("selectionchange",!1,t))}}function Fh(e,t,s,l){switch(bx(t)){case 2:var o=nb;break;case 8:o=lb;break;default:o=Md}s=o.bind(null,t,s,e),o=void 0,!Io||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,s,{capture:!0,passive:o}):e.addEventListener(t,s,!0):o!==void 0?e.addEventListener(t,s,{passive:o}):e.addEventListener(t,s,!1)}function vd(e,t,s,l,o){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var j=l.stateNode.containerInfo;if(j===o)break;if(b===4)for(b=l.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===o)return;b=b.return}for(;j!==null;){if(b=fe(j),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){l=d=b;continue e}j=j.parentNode}}l=l.return}Gu(function(){var Z=d,ne=Uo(s),de=[];e:{var K=jm.get(e);if(K!==void 0){var te=ei,Ne=e;switch(e){case"keypress":if(Kr(s)===0)break e;case"keydown":case"keyup":te=Sp;break;case"focusin":Ne="focus",te=Fo;break;case"focusout":Ne="blur",te=Fo;break;case"beforeblur":case"afterblur":te=Fo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=kp;break;case pm:case bm:case ym:te=hp;break;case vm:te=Ep;break;case"scroll":case"scrollend":te=cp;break;case"wheel":te=Tp;break;case"copy":case"cut":case"paste":te=gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Ku;break;case"toggle":case"beforetoggle":te=Lp}var Le=(t&4)!==0,rt=!Le&&(e==="scroll"||e==="scrollend"),V=Le?K!==null?K+"Capture":null:K;Le=[];for(var B=Z,X;B!==null;){var oe=B;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||V===null||(oe=Dl(B,V),oe!=null&&Le.push(mr(B,oe,X))),rt)break;B=B.return}0<Le.length&&(K=new te(K,Ne,null,s,ne),de.push({event:K,listeners:Le}))}}if((t&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",K&&s!==zo&&(Ne=s.relatedTarget||s.fromElement)&&(fe(Ne)||Ne[ps]))break e;if((te||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,te?(Ne=s.relatedTarget||s.toElement,te=Z,Ne=Ne?fe(Ne):null,Ne!==null&&(rt=f(Ne),Le=Ne.tag,Ne!==rt||Le!==5&&Le!==27&&Le!==6)&&(Ne=null)):(te=null,Ne=Z),te!==Ne)){if(Le=Zu,oe="onMouseLeave",V="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Le=Ku,oe="onPointerLeave",V="onPointerEnter",B="pointer"),rt=te==null?K:et(te),X=Ne==null?K:et(Ne),K=new Le(oe,B+"leave",te,s,ne),K.target=rt,K.relatedTarget=X,oe=null,fe(ne)===Z&&(Le=new Le(V,B+"enter",Ne,s,ne),Le.target=X,Le.relatedTarget=rt,oe=Le),rt=oe,te&&Ne)t:{for(Le=R0,V=te,B=Ne,X=0,oe=V;oe;oe=Le(oe))X++;oe=0;for(var Ce=B;Ce;Ce=Le(Ce))oe++;for(;0<X-oe;)V=Le(V),X--;for(;0<oe-X;)B=Le(B),oe--;for(;X--;){if(V===B||B!==null&&V===B.alternate){Le=V;break t}V=Le(V),B=Le(B)}Le=null}else Le=null;te!==null&&Vh(de,K,te,Le,!1),Ne!==null&&rt!==null&&Vh(de,rt,Ne,Le,!0)}}e:{if(K=Z?et(Z):window,te=K.nodeName&&K.nodeName.toLowerCase(),te==="select"||te==="input"&&K.type==="file")var Qe=rm;else if(nm(K))if(im)Qe=Pp;else{Qe=Hp;var _e=Ip}else te=K.nodeName,!te||te.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Z&&Oo(Z.elementType)&&(Qe=rm):Qe=qp;if(Qe&&(Qe=Qe(e,Z))){lm(de,Qe,s,ne);break e}_e&&_e(e,K,Z),e==="focusout"&&Z&&K.type==="number"&&Z.memoizedProps.value!=null&&Mo(K,"number",K.value)}switch(_e=Z?et(Z):window,e){case"focusin":(nm(_e)||_e.contentEditable==="true")&&(Yn=_e,Xo=Z,ql=null);break;case"focusout":ql=Xo=Yn=null;break;case"mousedown":Zo=!0;break;case"contextmenu":case"mouseup":case"dragend":Zo=!1,xm(de,s,ne);break;case"selectionchange":if(Vp)break;case"keydown":case"keyup":xm(de,s,ne)}var Be;if(Yo)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Vn?am(e,s)&&(Ye="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ye="onCompositionStart");Ye&&(Ju&&s.locale!=="ko"&&(Vn||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Vn&&(Be=Qu()):(Gs=ne,Ho="value"in Gs?Gs.value:Gs.textContent,Vn=!0)),_e=Vi(Z,Ye),0<_e.length&&(Ye=new Wu(Ye,e,null,s,ne),de.push({event:Ye,listeners:_e}),Be?Ye.data=Be:(Be=sm(s),Be!==null&&(Ye.data=Be)))),(Be=Mp?Op(e,s):zp(e,s))&&(Ye=Vi(Z,"onBeforeInput"),0<Ye.length&&(_e=new Wu("onBeforeInput","beforeinput",null,s,ne),de.push({event:_e,listeners:Ye}),_e.data=Be)),C0(de,e,Z,s,ne)}Ph(de,t)})}function mr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Vi(e,t){for(var s=t+"Capture",l=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Dl(e,s),o!=null&&l.unshift(mr(e,o,d)),o=Dl(e,t),o!=null&&l.push(mr(e,o,d))),e.tag===3)return l;e=e.return}return[]}function R0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vh(e,t,s,l,o){for(var d=t._reactName,b=[];s!==null&&s!==l;){var j=s,R=j.alternate,Z=j.stateNode;if(j=j.tag,R!==null&&R===l)break;j!==5&&j!==26&&j!==27||Z===null||(R=Z,o?(Z=Dl(s,d),Z!=null&&b.unshift(mr(s,Z,R))):o||(Z=Dl(s,d),Z!=null&&b.push(mr(s,Z,R)))),s=s.return}b.length!==0&&e.push({event:t,listeners:b})}var L0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function Yh(e){return(typeof e=="string"?e:""+e).replace(L0,`
`).replace(D0,"")}function $h(e,t){return t=Yh(t),Yh(e)===t}function lt(e,t,s,l,o,d){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||qn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&qn(e,""+l);break;case"className":Qr(e,"class",l);break;case"tabIndex":Qr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(e,s,l);break;case"style":Yu(e,l,d);break;case"data":if(t!=="object"){Qr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Zr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(t!=="input"&&lt(e,t,"name",o.name,o,null),lt(e,t,"formEncType",o.formEncType,o,null),lt(e,t,"formMethod",o.formMethod,o,null),lt(e,t,"formTarget",o.formTarget,o,null)):(lt(e,t,"encType",o.encType,o,null),lt(e,t,"method",o.method,o,null),lt(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Zr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ys);break;case"onScroll":l!=null&&Pe("scroll",e);break;case"onScrollEnd":l!=null&&Pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(s=l.__html,s!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Zr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Pe("beforetoggle",e),Pe("toggle",e),Gr(e,"popover",l);break;case"xlinkActuate":bs(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bs(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bs(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bs(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bs(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bs(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bs(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bs(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bs(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ip.get(s)||s,Gr(e,s,l))}}function jd(e,t,s,l,o,d){switch(s){case"style":Yu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(s=l.__html,s!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"children":typeof l=="string"?qn(e,l):(typeof l=="number"||typeof l=="bigint")&&qn(e,""+l);break;case"onScroll":l!=null&&Pe("scroll",e);break;case"onScrollEnd":l!=null&&Pe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(o=s.endsWith("Capture"),t=s.slice(2,o?s.length-7:void 0),d=e[gt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,l,o);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Gr(e,s,l)}}}function Qt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",e),Pe("load",e);var l=!1,o=!1,d;for(d in s)if(s.hasOwnProperty(d)){var b=s[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:lt(e,t,d,b,s,null)}}o&&lt(e,t,"srcSet",s.srcSet,s,null),l&&lt(e,t,"src",s.src,s,null);return;case"input":Pe("invalid",e);var j=d=b=o=null,R=null,Z=null;for(l in s)if(s.hasOwnProperty(l)){var ne=s[l];if(ne!=null)switch(l){case"name":o=ne;break;case"type":b=ne;break;case"checked":R=ne;break;case"defaultChecked":Z=ne;break;case"value":d=ne;break;case"defaultValue":j=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(c(137,t));break;default:lt(e,t,l,ne,s,null)}}qu(e,d,j,R,Z,b,o,!1);return;case"select":Pe("invalid",e),l=b=d=null;for(o in s)if(s.hasOwnProperty(o)&&(j=s[o],j!=null))switch(o){case"value":d=j;break;case"defaultValue":b=j;break;case"multiple":l=j;default:lt(e,t,o,j,s,null)}t=d,s=b,e.multiple=!!l,t!=null?Hn(e,!!l,t,!1):s!=null&&Hn(e,!!l,s,!0);return;case"textarea":Pe("invalid",e),d=o=l=null;for(b in s)if(s.hasOwnProperty(b)&&(j=s[b],j!=null))switch(b){case"value":l=j;break;case"defaultValue":o=j;break;case"children":d=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(c(91));break;default:lt(e,t,b,j,s,null)}Fu(e,l,o,d);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(e,t,R,l,s,null)}return;case"dialog":Pe("beforetoggle",e),Pe("toggle",e),Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":Pe("load",e);break;case"video":case"audio":for(l=0;l<ur.length;l++)Pe(ur[l],e);break;case"image":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"embed":case"source":case"link":Pe("error",e),Pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in s)if(s.hasOwnProperty(Z)&&(l=s[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:lt(e,t,Z,l,s,null)}return;default:if(Oo(t)){for(ne in s)s.hasOwnProperty(ne)&&(l=s[ne],l!==void 0&&jd(e,t,ne,l,s,void 0));return}}for(j in s)s.hasOwnProperty(j)&&(l=s[j],l!=null&&lt(e,t,j,l,s,null))}function M0(e,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,b=null,j=null,R=null,Z=null,ne=null;for(te in s){var de=s[te];if(s.hasOwnProperty(te)&&de!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":R=de;default:l.hasOwnProperty(te)||lt(e,t,te,null,l,de)}}for(var K in l){var te=l[K];if(de=s[K],l.hasOwnProperty(K)&&(te!=null||de!=null))switch(K){case"type":d=te;break;case"name":o=te;break;case"checked":Z=te;break;case"defaultChecked":ne=te;break;case"value":b=te;break;case"defaultValue":j=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(c(137,t));break;default:te!==de&&lt(e,t,K,te,l,de)}}Do(e,b,j,R,Z,ne,d,o);return;case"select":te=b=j=K=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":te=R;default:l.hasOwnProperty(d)||lt(e,t,d,null,l,R)}for(o in l)if(d=l[o],R=s[o],l.hasOwnProperty(o)&&(d!=null||R!=null))switch(o){case"value":K=d;break;case"defaultValue":j=d;break;case"multiple":b=d;default:d!==R&&lt(e,t,o,d,l,R)}t=j,s=b,l=te,K!=null?Hn(e,!!s,K,!1):!!l!=!!s&&(t!=null?Hn(e,!!s,t,!0):Hn(e,!!s,s?[]:"",!1));return;case"textarea":te=K=null;for(j in s)if(o=s[j],s.hasOwnProperty(j)&&o!=null&&!l.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:lt(e,t,j,null,l,o)}for(b in l)if(o=l[b],d=s[b],l.hasOwnProperty(b)&&(o!=null||d!=null))switch(b){case"value":K=o;break;case"defaultValue":te=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:o!==d&&lt(e,t,b,o,l,d)}Pu(e,K,te);return;case"option":for(var Ne in s)if(K=s[Ne],s.hasOwnProperty(Ne)&&K!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:lt(e,t,Ne,null,l,K)}for(R in l)if(K=l[R],te=s[R],l.hasOwnProperty(R)&&K!==te&&(K!=null||te!=null))switch(R){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:lt(e,t,R,K,l,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in s)K=s[Le],s.hasOwnProperty(Le)&&K!=null&&!l.hasOwnProperty(Le)&&lt(e,t,Le,null,l,K);for(Z in l)if(K=l[Z],te=s[Z],l.hasOwnProperty(Z)&&K!==te&&(K!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(c(137,t));break;default:lt(e,t,Z,K,l,te)}return;default:if(Oo(t)){for(var rt in s)K=s[rt],s.hasOwnProperty(rt)&&K!==void 0&&!l.hasOwnProperty(rt)&&jd(e,t,rt,void 0,l,K);for(ne in l)K=l[ne],te=s[ne],!l.hasOwnProperty(ne)||K===te||K===void 0&&te===void 0||jd(e,t,ne,K,l,te);return}}for(var V in s)K=s[V],s.hasOwnProperty(V)&&K!=null&&!l.hasOwnProperty(V)&&lt(e,t,V,null,l,K);for(de in l)K=l[de],te=s[de],!l.hasOwnProperty(de)||K===te||K==null&&te==null||lt(e,t,de,K,l,te)}function Gh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var o=s[l],d=o.transferSize,b=o.initiatorType,j=o.duration;if(d&&j&&Gh(b)){for(b=0,j=o.responseEnd,l+=1;l<s.length;l++){var R=s[l],Z=R.startTime;if(Z>j)break;var ne=R.transferSize,de=R.initiatorType;ne&&Gh(de)&&(R=R.responseEnd,b+=ne*(R<j?1:(j-Z)/(R-Z)))}if(--l,t+=8*(d+b)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nd=null,Sd=null;function Yi(e){return e.nodeType===9?e:e.ownerDocument}function Qh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _d=null;function z0(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var Zh=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,Wh=typeof Promise=="function"?Promise:void 0,B0=typeof queueMicrotask=="function"?queueMicrotask:typeof Wh<"u"?function(e){return Wh.resolve(null).then(e).catch(I0)}:Zh;function I0(e){setTimeout(function(){throw e})}function un(e){return e==="head"}function Kh(e,t){var s=t,l=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(o),bl(t);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")fr(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fr(s);for(var d=s.firstChild;d;){var b=d.nextSibling,j=d.nodeName;d[we]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=b}}else s==="body"&&fr(e.ownerDocument.body);s=o}while(s);bl(t)}function Jh(e,t){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function kd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":kd(s),z(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function H0(e,t,s,l){for(;e.nodeType===1;){var o=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[we])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ha(e.nextSibling),e===null)break}return null}function q0(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ha(e.nextSibling),e===null))return null;return e}function ex(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ha(e.nextSibling),e===null))return null;return e}function Cd(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function P0(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ha(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ad=null;function tx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return Ha(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function ax(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function sx(e,t,s){switch(t=Yi(s),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function fr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);z(e)}var qa=new Map,nx=new Set;function $i(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Os=q.d;q.d={f:F0,r:V0,D:Y0,C:$0,L:G0,m:Q0,X:Z0,S:X0,M:W0};function F0(){var e=Os.f(),t=Ui();return e||t}function V0(e){var t=ve(e);t!==null&&t.tag===5&&t.type==="form"?jf(t):Os.r(e)}var xl=typeof document>"u"?null:document;function lx(e,t,s){var l=xl;if(l&&typeof t=="string"&&t){var o=Da(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof s=="string"&&(o+='[crossorigin="'+s+'"]'),nx.has(o)||(nx.add(o),e={rel:e,crossOrigin:s,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),Qt(t,"link",e),He(t),l.head.appendChild(t)))}}function Y0(e){Os.D(e),lx("dns-prefetch",e,null)}function $0(e,t){Os.C(e,t),lx("preconnect",e,t)}function G0(e,t,s){Os.L(e,t,s);var l=xl;if(l&&e&&t){var o='link[rel="preload"][as="'+Da(t)+'"]';t==="image"&&s&&s.imageSrcSet?(o+='[imagesrcset="'+Da(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(o+='[imagesizes="'+Da(s.imageSizes)+'"]')):o+='[href="'+Da(e)+'"]';var d=o;switch(t){case"style":d=gl(e);break;case"script":d=pl(e)}qa.has(d)||(e=y({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),qa.set(d,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(hr(d))||t==="script"&&l.querySelector(xr(d))||(t=l.createElement("link"),Qt(t,"link",e),He(t),l.head.appendChild(t)))}}function Q0(e,t){Os.m(e,t);var s=xl;if(s&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Da(l)+'"][href="'+Da(e)+'"]',d=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=pl(e)}if(!qa.has(d)&&(e=y({rel:"modulepreload",href:e},t),qa.set(d,e),s.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xr(d)))return}l=s.createElement("link"),Qt(l,"link",e),He(l),s.head.appendChild(l)}}}function X0(e,t,s){Os.S(e,t,s);var l=xl;if(l&&e){var o=jt(l).hoistableStyles,d=gl(e);t=t||"default";var b=o.get(d);if(!b){var j={loading:0,preload:null};if(b=l.querySelector(hr(d)))j.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},s),(s=qa.get(d))&&Td(e,s);var R=b=l.createElement("link");He(R),Qt(R,"link",e),R._p=new Promise(function(Z,ne){R.onload=Z,R.onerror=ne}),R.addEventListener("load",function(){j.loading|=1}),R.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Gi(b,t,l)}b={type:"stylesheet",instance:b,count:1,state:j},o.set(d,b)}}}function Z0(e,t){Os.X(e,t);var s=xl;if(s&&e){var l=jt(s).hoistableScripts,o=pl(e),d=l.get(o);d||(d=s.querySelector(xr(o)),d||(e=y({src:e,async:!0},t),(t=qa.get(o))&&Rd(e,t),d=s.createElement("script"),He(d),Qt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function W0(e,t){Os.M(e,t);var s=xl;if(s&&e){var l=jt(s).hoistableScripts,o=pl(e),d=l.get(o);d||(d=s.querySelector(xr(o)),d||(e=y({src:e,async:!0,type:"module"},t),(t=qa.get(o))&&Rd(e,t),d=s.createElement("script"),He(d),Qt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function rx(e,t,s,l){var o=(o=je.current)?$i(o):null;if(!o)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=gl(s.href),s=jt(o).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=gl(s.href);var d=jt(o).hoistableStyles,b=d.get(e);if(b||(o=o.ownerDocument||o,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,b),(d=o.querySelector(hr(e)))&&!d._p&&(b.instance=d,b.state.loading=5),qa.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qa.set(e,s),d||K0(o,e,s,b.state))),t&&l===null)throw Error(c(528,""));return b}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=pl(s),s=jt(o).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function gl(e){return'href="'+Da(e)+'"'}function hr(e){return'link[rel="stylesheet"]['+e+"]"}function ix(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function K0(e,t,s,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Qt(t,"link",s),He(t),e.head.appendChild(t))}function pl(e){return'[src="'+Da(e)+'"]'}function xr(e){return"script[async]"+e}function ox(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Da(s.href)+'"]');if(l)return t.instance=l,He(l),l;var o=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),He(l),Qt(l,"style",o),Gi(l,s.precedence,e),t.instance=l;case"stylesheet":o=gl(s.href);var d=e.querySelector(hr(o));if(d)return t.state.loading|=4,t.instance=d,He(d),d;l=ix(s),(o=qa.get(o))&&Td(l,o),d=(e.ownerDocument||e).createElement("link"),He(d);var b=d;return b._p=new Promise(function(j,R){b.onload=j,b.onerror=R}),Qt(d,"link",l),t.state.loading|=4,Gi(d,s.precedence,e),t.instance=d;case"script":return d=pl(s.src),(o=e.querySelector(xr(d)))?(t.instance=o,He(o),o):(l=s,(o=qa.get(d))&&(l=y({},s),Rd(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),He(o),Qt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Gi(l,s.precedence,e));return t.instance}function Gi(e,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,d=o,b=0;b<l.length;b++){var j=l[b];if(j.dataset.precedence===t)d=j;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Td(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Rd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Qi=null;function cx(e,t,s){if(Qi===null){var l=new Map,o=Qi=new Map;o.set(s,l)}else o=Qi,l=o.get(s),l||(l=new Map,o.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),o=0;o<s.length;o++){var d=s[o];if(!(d[we]||d[Rt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(t)||"";b=e+b;var j=l.get(b);j?j.push(d):l.set(b,[d])}}return l}function dx(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function J0(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ux(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eb(e,t,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var o=gl(l.href),d=t.querySelector(hr(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Xi.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=d,He(d);return}d=t.ownerDocument||t,l=ix(l),(o=qa.get(o))&&Td(l,o),d=d.createElement("link"),He(d);var b=d;b._p=new Promise(function(j,R){b.onload=j,b.onerror=R}),Qt(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Xi.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var Ld=0;function tb(e,t){return e.stylesheets&&e.count===0&&Wi(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Ld===0&&(Ld=62500*O0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Ld?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function Xi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zi=null;function Wi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zi=new Map,t.forEach(ab,e),Zi=null,Xi.call(e))}function ab(e,t){if(!(t.state.loading&4)){var s=Zi.get(e);if(s)var l=s.get(null);else{s=new Map,Zi.set(e,s);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var b=o[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}o=t.instance,b=o.getAttribute("data-precedence"),d=s.get(b)||l,d===l&&s.set(null,o),s.set(b,o),this.count++,l=Xi.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var gr={$$typeof:U,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function sb(e,t,s,l,o,d,b,j,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pe(0),this.hiddenUpdates=pe(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function mx(e,t,s,l,o,d,b,j,R,Z,ne,de){return e=new sb(e,t,s,b,R,Z,ne,de,j),t=1,d===!0&&(t|=24),d=Na(3,null,null,t),e.current=d,d.stateNode=e,t=uc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:t},xc(d),e}function fx(e){return e?(e=Qn,e):Qn}function hx(e,t,s,l,o,d){o=fx(o),l.context===null?l.context=o:l.pendingContext=o,l=Js(t),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=en(e,l,t),s!==null&&(ya(s,e,t),Ql(s,e,t))}function xx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Dd(e,t){xx(e,t),(e=e.alternate)&&xx(e,t)}function gx(e){if(e.tag===13||e.tag===31){var t=Nn(e,67108864);t!==null&&ya(t,e,67108864),Dd(e,67108864)}}function px(e){if(e.tag===13||e.tag===31){var t=Ca();t=mt(t);var s=Nn(e,t);s!==null&&ya(s,e,t),Dd(e,t)}}var Ki=!0;function nb(e,t,s,l){var o=M.T;M.T=null;var d=q.p;try{q.p=2,Md(e,t,s,l)}finally{q.p=d,M.T=o}}function lb(e,t,s,l){var o=M.T;M.T=null;var d=q.p;try{q.p=8,Md(e,t,s,l)}finally{q.p=d,M.T=o}}function Md(e,t,s,l){if(Ki){var o=Od(l);if(o===null)vd(e,t,l,Ji,s),yx(e,l);else if(ib(o,e,t,s,l))l.stopPropagation();else if(yx(e,l),t&4&&-1<rb.indexOf(e)){for(;o!==null;){var d=ve(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=st(d.pendingLanes);if(b!==0){var j=d;for(j.pendingLanes|=2,j.entangledLanes|=2;b;){var R=1<<31-xt(b);j.entanglements[1]|=R,b&=~R}os(d),(Ke&6)===0&&(Oi=dt()+500,dr(0))}}break;case 31:case 13:j=Nn(d,2),j!==null&&ya(j,d,2),Ui(),Dd(d,2)}if(d=Od(l),d===null&&vd(e,t,l,Ji,s),d===o)break;o=d}o!==null&&l.stopPropagation()}else vd(e,t,l,null,s)}}function Od(e){return e=Uo(e),zd(e)}var Ji=null;function zd(e){if(Ji=null,e=fe(e),e!==null){var t=f(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=m(t),e!==null)return e;e=null}else if(s===31){if(e=h(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ji=e,null}function bx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case ta:return 2;case aa:return 8;case va:case Wt:return 32;case sa:return 268435456;default:return 32}default:return 32}}var Ud=!1,mn=null,fn=null,hn=null,pr=new Map,br=new Map,xn=[],rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yx(e,t){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(t.pointerId)}}function yr(e,t,s,l,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[o]},t!==null&&(t=ve(t),t!==null&&gx(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ib(e,t,s,l,o){switch(t){case"focusin":return mn=yr(mn,e,t,s,l,o),!0;case"dragenter":return fn=yr(fn,e,t,s,l,o),!0;case"mouseover":return hn=yr(hn,e,t,s,l,o),!0;case"pointerover":var d=o.pointerId;return pr.set(d,yr(pr.get(d)||null,e,t,s,l,o)),!0;case"gotpointercapture":return d=o.pointerId,br.set(d,yr(br.get(d)||null,e,t,s,l,o)),!0}return!1}function vx(e){var t=fe(e.target);if(t!==null){var s=f(t);if(s!==null){if(t=s.tag,t===13){if(t=m(s),t!==null){e.blockedOn=t,Tl(e.priority,function(){px(s)});return}}else if(t===31){if(t=h(s),t!==null){e.blockedOn=t,Tl(e.priority,function(){px(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Od(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);zo=l,s.target.dispatchEvent(l),zo=null}else return t=ve(s),t!==null&&gx(t),e.blockedOn=s,!1;t.shift()}return!0}function jx(e,t,s){eo(e)&&s.delete(t)}function ob(){Ud=!1,mn!==null&&eo(mn)&&(mn=null),fn!==null&&eo(fn)&&(fn=null),hn!==null&&eo(hn)&&(hn=null),pr.forEach(jx),br.forEach(jx)}function to(e,t){e.blockedOn===t&&(e.blockedOn=null,Ud||(Ud=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ob)))}var ao=null;function Nx(e){ao!==e&&(ao=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ao===e&&(ao=null);for(var t=0;t<e.length;t+=3){var s=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(zd(l||s)===null)continue;break}var d=ve(s);d!==null&&(e.splice(t,3),t-=3,Oc(d,{pending:!0,data:o,method:s.method,action:l},l,o))}}))}function bl(e){function t(R){return to(R,e)}mn!==null&&to(mn,e),fn!==null&&to(fn,e),hn!==null&&to(hn,e),pr.forEach(t),br.forEach(t);for(var s=0;s<xn.length;s++){var l=xn[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<xn.length&&(s=xn[0],s.blockedOn===null);)vx(s),s.blockedOn===null&&xn.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var o=s[l],d=s[l+1],b=o[gt]||null;if(typeof d=="function")b||Nx(s);else if(b){var j=null;if(d&&d.hasAttribute("formAction")){if(o=d,b=d[gt]||null)j=b.formAction;else if(zd(o)!==null)continue}else j=b.action;typeof j=="function"?s[l+1]=j:(s.splice(l,3),l-=3),Nx(s)}}}function Sx(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(b){return o=b})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Bd(e){this._internalRoot=e}so.prototype.render=Bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var s=t.current,l=Ca();hx(s,l,e,t,null,null)},so.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hx(e.current,2,null,e,null,null),Ui(),t[ps]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=ma();e={blockedOn:null,target:e,priority:t};for(var s=0;s<xn.length&&t!==0&&t<xn[s].priority;s++);xn.splice(s,0,e),s===0&&vx(e)}};var wx=r.version;if(wx!=="19.2.0")throw Error(c(527,wx,"19.2.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=x(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var cb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{na=no.inject(cb),vt=no}catch{}}return jr.createRoot=function(e,t){if(!u(e))throw Error(c(299));var s=!1,l="",o=Rf,d=Lf,b=Df;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError)),t=mx(e,1,!1,null,null,s,l,null,o,d,b,Sx),e[ps]=t.current,yd(e),new Bd(t)},jr.hydrateRoot=function(e,t,s){if(!u(e))throw Error(c(299));var l=!1,o="",d=Rf,b=Lf,j=Df,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),t=mx(e,1,!0,t,s??null,l,o,R,d,b,j,Sx),t.context=fx(null),s=t.current,l=Ca(),l=mt(l),o=Js(l),o.callback=null,en(s,o,l),s=l,t.current.lanes=s,Se(t,s),os(t),e[ps]=t.current,yd(e),new so(t)},jr.version="19.2.0",jr}var Mx;function jb(){if(Mx)return qd.exports;Mx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),qd.exports=vb(),qd.exports}var Nb=jb();const Sb=dg(Nb);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ox="popstate";function wb(n={}){function r(c,u){let{pathname:f,search:m,hash:h}=c.location;return au("",{pathname:f,search:m,hash:h},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(c,u){return typeof u=="string"?u:Br(u)}return kb(r,i,null,n)}function bt(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Aa(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function _b(){return Math.random().toString(36).substring(2,10)}function zx(n,r){return{usr:n.state,key:n.key,idx:r}}function au(n,r,i=null,c){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof r=="string"?_l(r):r,state:i,key:r&&r.key||c||_b()}}function Br({pathname:n="/",search:r="",hash:i=""}){return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function _l(n){let r={};if(n){let i=n.indexOf("#");i>=0&&(r.hash=n.substring(i),n=n.substring(0,i));let c=n.indexOf("?");c>=0&&(r.search=n.substring(c),n=n.substring(0,c)),n&&(r.pathname=n)}return r}function kb(n,r,i,c={}){let{window:u=document.defaultView,v5Compat:f=!1}=c,m=u.history,h="POP",g=null,x=v();x==null&&(x=0,m.replaceState({...m.state,idx:x},""));function v(){return(m.state||{idx:null}).idx}function y(){h="POP";let T=v(),L=T==null?null:T-x;x=T,g&&g({action:h,location:_.location,delta:L})}function w(T,L){h="PUSH";let Y=au(_.location,T,L);x=v()+1;let U=zx(Y,x),P=_.createHref(Y);try{m.pushState(U,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;u.location.assign(P)}f&&g&&g({action:h,location:_.location,delta:1})}function N(T,L){h="REPLACE";let Y=au(_.location,T,L);x=v();let U=zx(Y,x),P=_.createHref(Y);m.replaceState(U,"",P),f&&g&&g({action:h,location:_.location,delta:0})}function C(T){return Cb(T)}let _={get action(){return h},get location(){return n(u,m)},listen(T){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Ox,y),g=T,()=>{u.removeEventListener(Ox,y),g=null}},createHref(T){return r(u,T)},createURL:C,encodeLocation(T){let L=C(T);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:N,go(T){return m.go(T)}};return _}function Cb(n,r=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),bt(i,"No window.location.(origin|href) available to create URL");let c=typeof n=="string"?n:Br(n);return c=c.replace(/ $/,"%20"),!r&&c.startsWith("//")&&(c=i+c),new URL(c,i)}function ug(n,r,i="/"){return Eb(n,r,i,!1)}function Eb(n,r,i,c){let u=typeof r=="string"?_l(r):r,f=Fs(u.pathname||"/",i);if(f==null)return null;let m=mg(n);Ab(m);let h=null;for(let g=0;h==null&&g<m.length;++g){let x=Hb(f);h=Bb(m[g],x,c)}return h}function mg(n,r=[],i=[],c="",u=!1){let f=(m,h,g=u,x)=>{let v={relativePath:x===void 0?m.path||"":x,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(c)&&g)return;bt(v.relativePath.startsWith(c),`Absolute route path "${v.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(c.length)}let y=Ps([c,v.relativePath]),w=i.concat(v);m.children&&m.children.length>0&&(bt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),mg(m.children,r,w,y,g)),!(m.path==null&&!m.index)&&r.push({path:y,score:zb(y,m.index),routesMeta:w})};return n.forEach((m,h)=>{var g;if(m.path===""||!((g=m.path)!=null&&g.includes("?")))f(m,h);else for(let x of fg(m.path))f(m,h,!0,x)}),r}function fg(n){let r=n.split("/");if(r.length===0)return[];let[i,...c]=r,u=i.endsWith("?"),f=i.replace(/\?$/,"");if(c.length===0)return u?[f,""]:[f];let m=fg(c.join("/")),h=[];return h.push(...m.map(g=>g===""?f:[f,g].join("/"))),u&&h.push(...m),h.map(g=>n.startsWith("/")&&g===""?"/":g)}function Ab(n){n.sort((r,i)=>r.score!==i.score?i.score-r.score:Ub(r.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}var Tb=/^:[\w-]+$/,Rb=3,Lb=2,Db=1,Mb=10,Ob=-2,Ux=n=>n==="*";function zb(n,r){let i=n.split("/"),c=i.length;return i.some(Ux)&&(c+=Ob),r&&(c+=Lb),i.filter(u=>!Ux(u)).reduce((u,f)=>u+(Tb.test(f)?Rb:f===""?Db:Mb),c)}function Ub(n,r){return n.length===r.length&&n.slice(0,-1).every((c,u)=>c===r[u])?n[n.length-1]-r[r.length-1]:0}function Bb(n,r,i=!1){let{routesMeta:c}=n,u={},f="/",m=[];for(let h=0;h<c.length;++h){let g=c[h],x=h===c.length-1,v=f==="/"?r:r.slice(f.length)||"/",y=vo({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},v),w=g.route;if(!y&&x&&i&&!c[c.length-1].route.index&&(y=vo({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!y)return null;Object.assign(u,y.params),m.push({params:u,pathname:Ps([f,y.pathname]),pathnameBase:Yb(Ps([f,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(f=Ps([f,y.pathnameBase]))}return m}function vo(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,c]=Ib(n.path,n.caseSensitive,n.end),u=r.match(i);if(!u)return null;let f=u[0],m=f.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:c.reduce((x,{paramName:v,isOptional:y},w)=>{if(v==="*"){let C=h[w]||"";m=f.slice(0,f.length-C.length).replace(/(.)\/+$/,"$1")}const N=h[w];return y&&!N?x[v]=void 0:x[v]=(N||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:m,pattern:n}}function Ib(n,r=!1,i=!0){Aa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let c=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,g)=>(c.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(c.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),c]}function Hb(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Aa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),n}}function Fs(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,c=n.charAt(i);return c&&c!=="/"?null:n.slice(i)||"/"}var qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pb=n=>qb.test(n);function Fb(n,r="/"){let{pathname:i,search:c="",hash:u=""}=typeof n=="string"?_l(n):n,f;if(i)if(Pb(i))f=i;else{if(i.includes("//")){let m=i;i=i.replace(/\/\/+/g,"/"),Aa(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${i}`)}i.startsWith("/")?f=Bx(i.substring(1),"/"):f=Bx(i,r)}else f=r;return{pathname:f,search:$b(c),hash:Gb(u)}}function Bx(n,r){let i=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Yd(n,r,i,c){return`Cannot include a '${n}' character in a manually specified \`to.${r}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vb(n){return n.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function xu(n){let r=Vb(n);return r.map((i,c)=>c===r.length-1?i.pathname:i.pathnameBase)}function gu(n,r,i,c=!1){let u;typeof n=="string"?u=_l(n):(u={...n},bt(!u.pathname||!u.pathname.includes("?"),Yd("?","pathname","search",u)),bt(!u.pathname||!u.pathname.includes("#"),Yd("#","pathname","hash",u)),bt(!u.search||!u.search.includes("#"),Yd("#","search","hash",u)));let f=n===""||u.pathname==="",m=f?"/":u.pathname,h;if(m==null)h=i;else{let y=r.length-1;if(!c&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),y-=1;u.pathname=w.join("/")}h=y>=0?r[y]:"/"}let g=Fb(u,h),x=m&&m!=="/"&&m.endsWith("/"),v=(f||m===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(x||v)&&(g.pathname+="/"),g}var Ps=n=>n.join("/").replace(/\/\/+/g,"/"),Yb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$b=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Gb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Qb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Xb(n){return n.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hg=["POST","PUT","PATCH","DELETE"];new Set(hg);var Zb=["GET",...hg];new Set(Zb);var kl=p.createContext(null);kl.displayName="DataRouter";var Co=p.createContext(null);Co.displayName="DataRouterState";p.createContext(!1);var xg=p.createContext({isTransitioning:!1});xg.displayName="ViewTransition";var Wb=p.createContext(new Map);Wb.displayName="Fetchers";var Kb=p.createContext(null);Kb.displayName="Await";var $a=p.createContext(null);$a.displayName="Navigation";var qr=p.createContext(null);qr.displayName="Location";var ss=p.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var pu=p.createContext(null);pu.displayName="RouteError";function Jb(n,{relative:r}={}){bt(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:c}=p.useContext($a),{hash:u,pathname:f,search:m}=Pr(n,{relative:r}),h=f;return i!=="/"&&(h=f==="/"?i:Ps([i,f])),c.createHref({pathname:h,search:m,hash:u})}function Cl(){return p.useContext(qr)!=null}function Ga(){return bt(Cl(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(qr).location}var gg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pg(n){p.useContext($a).static||p.useLayoutEffect(n)}function cs(){let{isDataRoute:n}=p.useContext(ss);return n?my():ey()}function ey(){bt(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let n=p.useContext(kl),{basename:r,navigator:i}=p.useContext($a),{matches:c}=p.useContext(ss),{pathname:u}=Ga(),f=JSON.stringify(xu(c)),m=p.useRef(!1);return pg(()=>{m.current=!0}),p.useCallback((g,x={})=>{if(Aa(m.current,gg),!m.current)return;if(typeof g=="number"){i.go(g);return}let v=gu(g,JSON.parse(f),u,x.relative==="path");n==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:Ps([r,v.pathname])),(x.replace?i.replace:i.push)(v,x.state,x)},[r,i,f,u,n])}p.createContext(null);function Eo(){let{matches:n}=p.useContext(ss),r=n[n.length-1];return r?r.params:{}}function Pr(n,{relative:r}={}){let{matches:i}=p.useContext(ss),{pathname:c}=Ga(),u=JSON.stringify(xu(i));return p.useMemo(()=>gu(n,JSON.parse(u),c,r==="path"),[n,u,c,r])}function ty(n,r){return bg(n,r)}function bg(n,r,i,c,u){var Y;bt(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=p.useContext($a),{matches:m}=p.useContext(ss),h=m[m.length-1],g=h?h.params:{},x=h?h.pathname:"/",v=h?h.pathnameBase:"/",y=h&&h.route;{let U=y&&y.path||"";yg(x,!y||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=Ga(),N;if(r){let U=typeof r=="string"?_l(r):r;bt(v==="/"||((Y=U.pathname)==null?void 0:Y.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${U.pathname}" was given in the \`location\` prop.`),N=U}else N=w;let C=N.pathname||"/",_=C;if(v!=="/"){let U=v.replace(/^\//,"").split("/");_="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let T=ug(n,{pathname:_});Aa(y||T!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Aa(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=ry(T&&T.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:Ps([v,f.encodeLocation?f.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:Ps([v,f.encodeLocation?f.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),m,i,c,u);return r&&L?p.createElement(qr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},L):L}function ay(){let n=uy(),r=Qb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,c="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:c},f={padding:"2px 4px",backgroundColor:c},m=null;return console.error("Error handled by React Router default ErrorBoundary:",n),m=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:f},"ErrorBoundary")," or"," ",p.createElement("code",{style:f},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},r),i?p.createElement("pre",{style:u},i):null,m)}var sy=p.createElement(ay,null),ny=class extends p.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){this.props.onError?this.props.onError(n,r):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?p.createElement(ss.Provider,{value:this.props.routeContext},p.createElement(pu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ly({routeContext:n,match:r,children:i}){let c=p.useContext(kl);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(ss.Provider,{value:n},i)}function ry(n,r=[],i=null,c=null,u=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(r.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let f=n,m=i==null?void 0:i.errors;if(m!=null){let v=f.findIndex(y=>y.route.id&&(m==null?void 0:m[y.route.id])!==void 0);bt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,v+1))}let h=!1,g=-1;if(i)for(let v=0;v<f.length;v++){let y=f[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=v),y.route.id){let{loaderData:w,errors:N}=i,C=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!N||N[y.route.id]===void 0);if(y.route.lazy||C){h=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}let x=i&&c?(v,y)=>{var w,N;c(v,{location:i.location,params:((N=(w=i.matches)==null?void 0:w[0])==null?void 0:N.params)??{},unstable_pattern:Xb(i.matches),errorInfo:y})}:void 0;return f.reduceRight((v,y,w)=>{let N,C=!1,_=null,T=null;i&&(N=m&&y.route.id?m[y.route.id]:void 0,_=y.route.errorElement||sy,h&&(g<0&&w===0?(yg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,T=null):g===w&&(C=!0,T=y.route.hydrateFallbackElement||null)));let L=r.concat(f.slice(0,w+1)),Y=()=>{let U;return N?U=_:C?U=T:y.route.Component?U=p.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=v,p.createElement(ly,{match:y,routeContext:{outlet:v,matches:L,isDataRoute:i!=null},children:U})};return i&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?p.createElement(ny,{location:i.location,revalidation:i.revalidation,component:_,error:N,children:Y(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:x}):Y()},null)}function bu(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iy(n){let r=p.useContext(kl);return bt(r,bu(n)),r}function oy(n){let r=p.useContext(Co);return bt(r,bu(n)),r}function cy(n){let r=p.useContext(ss);return bt(r,bu(n)),r}function yu(n){let r=cy(n),i=r.matches[r.matches.length-1];return bt(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function dy(){return yu("useRouteId")}function uy(){var c;let n=p.useContext(pu),r=oy("useRouteError"),i=yu("useRouteError");return n!==void 0?n:(c=r.errors)==null?void 0:c[i]}function my(){let{router:n}=iy("useNavigate"),r=yu("useNavigate"),i=p.useRef(!1);return pg(()=>{i.current=!0}),p.useCallback(async(u,f={})=>{Aa(i.current,gg),i.current&&(typeof u=="number"?await n.navigate(u):await n.navigate(u,{fromRouteId:r,...f}))},[n,r])}var Ix={};function yg(n,r,i){!r&&!Ix[n]&&(Ix[n]=!0,Aa(!1,i))}p.memo(fy);function fy({routes:n,future:r,state:i,unstable_onError:c}){return bg(n,void 0,i,c,r)}function jo({to:n,replace:r,state:i,relative:c}){bt(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=p.useContext($a);Aa(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=p.useContext(ss),{pathname:m}=Ga(),h=cs(),g=gu(n,xu(f),m,c==="path"),x=JSON.stringify(g);return p.useEffect(()=>{h(JSON.parse(x),{replace:r,state:i,relative:c})},[h,x,c,r,i]),null}function Tt(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hy({basename:n="/",children:r=null,location:i,navigationType:c="POP",navigator:u,static:f=!1,unstable_useTransitions:m}){bt(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),g=p.useMemo(()=>({basename:h,navigator:u,static:f,unstable_useTransitions:m,future:{}}),[h,u,f,m]);typeof i=="string"&&(i=_l(i));let{pathname:x="/",search:v="",hash:y="",state:w=null,key:N="default"}=i,C=p.useMemo(()=>{let _=Fs(x,h);return _==null?null:{location:{pathname:_,search:v,hash:y,state:w,key:N},navigationType:c}},[h,x,v,y,w,N,c]);return Aa(C!=null,`<Router basename="${h}"> is not able to match the URL "${x}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:p.createElement($a.Provider,{value:g},p.createElement(qr.Provider,{children:r,value:C}))}function xy({children:n,location:r}){return ty(su(n),r)}function su(n,r=[]){let i=[];return p.Children.forEach(n,(c,u)=>{if(!p.isValidElement(c))return;let f=[...r,u];if(c.type===p.Fragment){i.push.apply(i,su(c.props.children,f));return}bt(c.type===Tt,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!c.props.index||!c.props.children,"An index route cannot have child routes.");let m={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(m.children=su(c.props.children,f)),i.push(m)}),i}var go="get",po="application/x-www-form-urlencoded";function Ao(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function gy(n){return Ao(n)&&n.tagName.toLowerCase()==="button"}function py(n){return Ao(n)&&n.tagName.toLowerCase()==="form"}function by(n){return Ao(n)&&n.tagName.toLowerCase()==="input"}function yy(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vy(n,r){return n.button===0&&(!r||r==="_self")&&!yy(n)}function nu(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((r,i)=>{let c=n[i];return r.concat(Array.isArray(c)?c.map(u=>[i,u]):[[i,c]])},[]))}function jy(n,r){let i=nu(n);return r&&r.forEach((c,u)=>{i.has(u)||r.getAll(u).forEach(f=>{i.append(u,f)})}),i}var lo=null;function Ny(){if(lo===null)try{new FormData(document.createElement("form"),0),lo=!1}catch{lo=!0}return lo}var Sy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(n){return n!=null&&!Sy.has(n)?(Aa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${po}"`),null):n}function wy(n,r){let i,c,u,f,m;if(py(n)){let h=n.getAttribute("action");c=h?Fs(h,r):null,i=n.getAttribute("method")||go,u=$d(n.getAttribute("enctype"))||po,f=new FormData(n)}else if(gy(n)||by(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||h.getAttribute("action");if(c=g?Fs(g,r):null,i=n.getAttribute("formmethod")||h.getAttribute("method")||go,u=$d(n.getAttribute("formenctype"))||$d(h.getAttribute("enctype"))||po,f=new FormData(h,n),!Ny()){let{name:x,type:v,value:y}=n;if(v==="image"){let w=x?`${x}.`:"";f.append(`${w}x`,"0"),f.append(`${w}y`,"0")}else x&&f.append(x,y)}}else{if(Ao(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=go,c=null,u=po,m=n}return f&&u==="text/plain"&&(m=f,f=void 0),{action:c,method:i.toLowerCase(),encType:u,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vu(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function _y(n,r,i){let c=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return c.pathname==="/"?c.pathname=`_root.${i}`:r&&Fs(c.pathname,r)==="/"?c.pathname=`${r.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function ky(n,r){if(n.id in r)return r[n.id];try{let i=await import(n.module);return r[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cy(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ey(n,r,i){let c=await Promise.all(n.map(async u=>{let f=r.routes[u.route.id];if(f){let m=await ky(f,i);return m.links?m.links():[]}return[]}));return Ly(c.flat(1).filter(Cy).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Hx(n,r,i,c,u,f){let m=(g,x)=>i[x]?g.route.id!==i[x].route.id:!0,h=(g,x)=>{var v;return i[x].pathname!==g.pathname||((v=i[x].route.path)==null?void 0:v.endsWith("*"))&&i[x].params["*"]!==g.params["*"]};return f==="assets"?r.filter((g,x)=>m(g,x)||h(g,x)):f==="data"?r.filter((g,x)=>{var y;let v=c.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(m(g,x)||h(g,x))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Ay(n,r,{includeHydrateFallback:i}={}){return Ty(n.map(c=>{let u=r.routes[c.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function Ty(n){return[...new Set(n)]}function Ry(n){let r={},i=Object.keys(n).sort();for(let c of i)r[c]=n[c];return r}function Ly(n,r){let i=new Set;return new Set(r),n.reduce((c,u)=>{let f=JSON.stringify(Ry(u));return i.has(f)||(i.add(f),c.push({key:f,link:u})),c},[])}function vg(){let n=p.useContext(kl);return vu(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Dy(){let n=p.useContext(Co);return vu(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ju=p.createContext(void 0);ju.displayName="FrameworkContext";function jg(){let n=p.useContext(ju);return vu(n,"You must render this element inside a <HydratedRouter> element"),n}function My(n,r){let i=p.useContext(ju),[c,u]=p.useState(!1),[f,m]=p.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:x,onMouseLeave:v,onTouchStart:y}=r,w=p.useRef(null);p.useEffect(()=>{if(n==="render"&&m(!0),n==="viewport"){let _=L=>{L.forEach(Y=>{m(Y.isIntersecting)})},T=new IntersectionObserver(_,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[n]),p.useEffect(()=>{if(c){let _=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(_)}}},[c]);let N=()=>{u(!0)},C=()=>{u(!1),m(!1)};return i?n!=="intent"?[f,w,{}]:[f,w,{onFocus:Nr(h,N),onBlur:Nr(g,C),onMouseEnter:Nr(x,N),onMouseLeave:Nr(v,C),onTouchStart:Nr(y,N)}]:[!1,w,{}]}function Nr(n,r){return i=>{n&&n(i),i.defaultPrevented||r(i)}}function Oy({page:n,...r}){let{router:i}=vg(),c=p.useMemo(()=>ug(i.routes,n,i.basename),[i.routes,n,i.basename]);return c?p.createElement(Uy,{page:n,matches:c,...r}):null}function zy(n){let{manifest:r,routeModules:i}=jg(),[c,u]=p.useState([]);return p.useEffect(()=>{let f=!1;return Ey(n,r,i).then(m=>{f||u(m)}),()=>{f=!0}},[n,r,i]),c}function Uy({page:n,matches:r,...i}){let c=Ga(),{manifest:u,routeModules:f}=jg(),{basename:m}=vg(),{loaderData:h,matches:g}=Dy(),x=p.useMemo(()=>Hx(n,r,g,u,c,"data"),[n,r,g,u,c]),v=p.useMemo(()=>Hx(n,r,g,u,c,"assets"),[n,r,g,u,c]),y=p.useMemo(()=>{if(n===c.pathname+c.search+c.hash)return[];let C=new Set,_=!1;if(r.forEach(L=>{var U;let Y=u.routes[L.route.id];!Y||!Y.hasLoader||(!x.some(P=>P.route.id===L.route.id)&&L.route.id in h&&((U=f[L.route.id])!=null&&U.shouldRevalidate)||Y.hasClientLoader?_=!0:C.add(L.route.id))}),C.size===0)return[];let T=_y(n,m,"data");return _&&C.size>0&&T.searchParams.set("_routes",r.filter(L=>C.has(L.route.id)).map(L=>L.route.id).join(",")),[T.pathname+T.search]},[m,h,c,u,x,r,n,f]),w=p.useMemo(()=>Ay(v,u),[v,u]),N=zy(v);return p.createElement(p.Fragment,null,y.map(C=>p.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),w.map(C=>p.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),N.map(({key:C,link:_})=>p.createElement("link",{key:C,nonce:i.nonce,..._})))}function By(...n){return r=>{n.forEach(i=>{typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var Ng=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ng&&(window.__reactRouterVersion="7.10.1")}catch{}function Iy({basename:n,children:r,unstable_useTransitions:i,window:c}){let u=p.useRef();u.current==null&&(u.current=wb({window:c,v5Compat:!0}));let f=u.current,[m,h]=p.useState({action:f.action,location:f.location}),g=p.useCallback(x=>{i===!1?h(x):p.startTransition(()=>h(x))},[i]);return p.useLayoutEffect(()=>f.listen(g),[f,g]),p.createElement(hy,{basename:n,children:r,location:m.location,navigationType:m.action,navigator:f,unstable_useTransitions:i===!0})}var Sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wg=p.forwardRef(function({onClick:r,discover:i="render",prefetch:c="none",relative:u,reloadDocument:f,replace:m,state:h,target:g,to:x,preventScrollReset:v,viewTransition:y,...w},N){let{basename:C,unstable_useTransitions:_}=p.useContext($a),T=typeof x=="string"&&Sg.test(x),L,Y=!1;if(typeof x=="string"&&T&&(L=x,Ng))try{let $=new URL(window.location.href),ee=x.startsWith("//")?new URL($.protocol+x):new URL(x),J=Fs(ee.pathname,C);ee.origin===$.origin&&J!=null?x=J+ee.search+ee.hash:Y=!0}catch{Aa(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=Jb(x,{relative:u}),[P,k,A]=My(c,w),O=Fy(x,{replace:m,state:h,target:g,preventScrollReset:v,relative:u,viewTransition:y,unstable_useTransitions:_});function ae($){r&&r($),$.defaultPrevented||O($)}let H=p.createElement("a",{...w,...A,href:L||U,onClick:Y||f?r:ae,ref:By(N,k),target:g,"data-discover":!T&&i==="render"?"true":void 0});return P&&!T?p.createElement(p.Fragment,null,H,p.createElement(Oy,{page:U})):H});wg.displayName="Link";var Hy=p.forwardRef(function({"aria-current":r="page",caseSensitive:i=!1,className:c="",end:u=!1,style:f,to:m,viewTransition:h,children:g,...x},v){let y=Pr(m,{relative:x.relative}),w=Ga(),N=p.useContext(Co),{navigator:C,basename:_}=p.useContext($a),T=N!=null&&Xy(y)&&h===!0,L=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,Y=w.pathname,U=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(Y=Y.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&_&&(U=Fs(U,_)||U);const P=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let k=Y===L||!u&&Y.startsWith(L)&&Y.charAt(P)==="/",A=U!=null&&(U===L||!u&&U.startsWith(L)&&U.charAt(L.length)==="/"),O={isActive:k,isPending:A,isTransitioning:T},ae=k?r:void 0,H;typeof c=="function"?H=c(O):H=[c,k?"active":null,A?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let $=typeof f=="function"?f(O):f;return p.createElement(wg,{...x,"aria-current":ae,className:H,ref:v,style:$,to:m,viewTransition:h},typeof g=="function"?g(O):g)});Hy.displayName="NavLink";var qy=p.forwardRef(({discover:n="render",fetcherKey:r,navigate:i,reloadDocument:c,replace:u,state:f,method:m=go,action:h,onSubmit:g,relative:x,preventScrollReset:v,viewTransition:y,...w},N)=>{let{unstable_useTransitions:C}=p.useContext($a),_=Gy(),T=Qy(h,{relative:x}),L=m.toLowerCase()==="get"?"get":"post",Y=typeof h=="string"&&Sg.test(h),U=P=>{if(g&&g(P),P.defaultPrevented)return;P.preventDefault();let k=P.nativeEvent.submitter,A=(k==null?void 0:k.getAttribute("formmethod"))||m,O=()=>_(k||P.currentTarget,{fetcherKey:r,method:A,navigate:i,replace:u,state:f,relative:x,preventScrollReset:v,viewTransition:y});C&&i!==!1?p.startTransition(()=>O()):O()};return p.createElement("form",{ref:N,method:L,action:T,onSubmit:c?g:U,...w,"data-discover":!Y&&n==="render"?"true":void 0})});qy.displayName="Form";function Py(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _g(n){let r=p.useContext(kl);return bt(r,Py(n)),r}function Fy(n,{target:r,replace:i,state:c,preventScrollReset:u,relative:f,viewTransition:m,unstable_useTransitions:h}={}){let g=cs(),x=Ga(),v=Pr(n,{relative:f});return p.useCallback(y=>{if(vy(y,r)){y.preventDefault();let w=i!==void 0?i:Br(x)===Br(v),N=()=>g(n,{replace:w,state:c,preventScrollReset:u,relative:f,viewTransition:m});h?p.startTransition(()=>N()):N()}},[x,g,v,i,c,r,n,u,f,m,h])}function Vy(n){Aa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=p.useRef(nu(n)),i=p.useRef(!1),c=Ga(),u=p.useMemo(()=>jy(c.search,i.current?null:r.current),[c.search]),f=cs(),m=p.useCallback((h,g)=>{const x=nu(typeof h=="function"?h(new URLSearchParams(u)):h);i.current=!0,f("?"+x,g)},[f,u]);return[u,m]}var Yy=0,$y=()=>`__${String(++Yy)}__`;function Gy(){let{router:n}=_g("useSubmit"),{basename:r}=p.useContext($a),i=dy(),c=n.fetch,u=n.navigate;return p.useCallback(async(f,m={})=>{let{action:h,method:g,encType:x,formData:v,body:y}=wy(f,r);if(m.navigate===!1){let w=m.fetcherKey||$y();await c(w,i,m.action||h,{preventScrollReset:m.preventScrollReset,formData:v,body:y,formMethod:m.method||g,formEncType:m.encType||x,flushSync:m.flushSync})}else await u(m.action||h,{preventScrollReset:m.preventScrollReset,formData:v,body:y,formMethod:m.method||g,formEncType:m.encType||x,replace:m.replace,state:m.state,fromRouteId:i,flushSync:m.flushSync,viewTransition:m.viewTransition})},[c,u,r,i])}function Qy(n,{relative:r}={}){let{basename:i}=p.useContext($a),c=p.useContext(ss);bt(c,"useFormAction must be used inside a RouteContext");let[u]=c.matches.slice(-1),f={...Pr(n||".",{relative:r})},m=Ga();if(n==null){f.search=m.search;let h=new URLSearchParams(f.search),g=h.getAll("index");if(g.some(v=>v==="")){h.delete("index"),g.filter(y=>y).forEach(y=>h.append("index",y));let v=h.toString();f.search=v?`?${v}`:""}}return(!n||n===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:Ps([i,f.pathname])),Br(f)}function Xy(n,{relative:r}={}){let i=p.useContext(xg);bt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=_g("useViewTransitionState"),u=Pr(n,{relative:r});if(!i.isTransitioning)return!1;let f=Fs(i.currentLocation.pathname,c)||i.currentLocation.pathname,m=Fs(i.nextLocation.pathname,c)||i.nextLocation.pathname;return vo(u.pathname,m)!=null||vo(u.pathname,f)!=null}const Zy="modulepreload",Wy=function(n){return"/"+n},qx={},kg=function(r,i,c){let u=Promise.resolve();if(i&&i.length>0){let m=function(x){return Promise.all(x.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));u=m(i.map(x=>{if(x=Wy(x),x in qx)return;qx[x]=!0;const v=x.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":Zy,v||(w.as="script"),w.crossOrigin="",w.href=x,g&&w.setAttribute("nonce",g),document.head.appendChild(w),v)return new Promise((N,C)=>{w.addEventListener("load",N),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${x}`)))})}))}function f(m){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=m,window.dispatchEvent(h),!h.defaultPrevented)throw m}return u.then(m=>{for(const h of m||[])h.status==="rejected"&&f(h.reason);return r().catch(f)})};var Ea=(n=>(n.ADMIN="admin",n.CUSTOMER="customer",n.AFFILIATE="affiliate",n.VENDOR="vendor",n.BRAND="brand",n))(Ea||{});const Ky=({onToggleView:n,onLoginAttempt:r})=>{const[i,c]=p.useState(""),[u,f]=p.useState(""),[m,h]=p.useState(""),g=x=>{if(x.preventDefault(),h(""),!i||!u){h("Please fill in all fields.");return}if(!/\S+@\S+\.\S+/.test(i)){h("Please enter a valid email address.");return}r({email:i,password:u})};return a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx("input",{type:"email",placeholder:"Email Address",value:i,onChange:x=>c(x.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),a.jsx("div",{children:a.jsx("input",{type:"password",placeholder:"Password",value:u,onChange:x=>f(x.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})})]}),m&&a.jsx("p",{className:"text-red-500 text-sm text-center",children:m}),a.jsx("div",{className:"flex justify-end items-center",children:a.jsx("a",{href:"#",className:"text-sm font-medium text-blue-600 hover:underline",children:"Forgot Password?"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{type:"submit",className:"w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Log In"}),a.jsx("button",{type:"button",onClick:n,className:"w-full border border-brand-dark text-brand-dark font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Create account"})]})]})},Jy=({onToggleView:n,onSignupAttempt:r})=>{const[i,c]=p.useState(""),[u,f]=p.useState(""),[m,h]=p.useState(""),[g,x]=p.useState(""),[v,y]=p.useState(""),[w,N]=p.useState(""),[C,_]=p.useState(!1),[T,L]=p.useState(""),[Y,U]=p.useState("customer");hu.useEffect(()=>{const O=new URLSearchParams(window.location.search).get("ref");O&&(N(O.toUpperCase()),_(!0))},[]);const P=A=>{if(A.preventDefault(),L(""),!i||!u||!g||!v){L("Please fill in all fields.");return}if(g!==v){L("Passwords do not match.");return}if(g.length<6){L("Password must be at least 6 characters long.");return}if(Y==="vendor"&&!u){L("Email is required for vendor registration.");return}r({name:i,email:u,password:g,phone:m||void 0,referralCode:Y==="customer"&&w||void 0,role:Y==="vendor"?"vendor":void 0})},k=Y==="vendor"?"Next: Store Details":"Create Account";return a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4 mb-4",children:[a.jsx("button",{type:"button",onClick:()=>U("customer"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${Y==="customer"?"bg-brand-dark text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Customer"}),a.jsx("button",{type:"button",onClick:()=>U("vendor"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${Y==="vendor"?"bg-brand-dark text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Vendor/Brand"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"Full Name",value:i,onChange:A=>c(A.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),a.jsx("div",{children:a.jsx("input",{type:"email",placeholder:"Email Address",value:u,onChange:A=>f(A.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),a.jsx("div",{children:a.jsx("input",{type:"tel",placeholder:"Phone (optional)",value:m,onChange:A=>h(A.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),a.jsx("div",{children:a.jsx("input",{type:"password",placeholder:"Password",value:g,onChange:A=>x(A.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),a.jsx("div",{children:a.jsx("input",{type:"password",placeholder:"Confirm Password",value:v,onChange:A=>y(A.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})}),Y==="customer"&&a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"Referral Code (Optional)",value:w,onChange:A=>{C||N(A.target.value.toUpperCase())},readOnly:C,className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",style:{textTransform:"uppercase",cursor:C?"not-allowed":"text",backgroundColor:C?"#f3f4f6":"white"}})})]}),T&&a.jsx("p",{className:"text-red-500 text-sm text-center",children:T}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{type:"submit",className:"w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:k}),a.jsx("button",{type:"button",onClick:n,className:"w-full border border-brand-dark text-brand-dark font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Log in instead"})]})]})},ev=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),tv=({onLoginAttempt:n,onSignupAttempt:r,onSkip:i,defaultView:c="login",onViewChange:u})=>{const[f,m]=p.useState(c==="login");hu.useEffect(()=>{m(c==="login")},[c]);const h=x=>{m(x==="login"),u&&u(x)},g=()=>{h(f?"signup":"login")};return a.jsx("div",{className:"fixed inset-0 bg-brand-bg flex items-center justify-center p-4 bg-opacity-70 backdrop-blur-sm",children:a.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8 md:p-12 space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx(ev,{}),a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-brand-dark",children:f?"Welcome Back to Shauq":"Create Your Shauq Account"})]}),f?a.jsx(Ky,{onToggleView:g,onLoginAttempt:n}):a.jsx(Jy,{onToggleView:g,onSignupAttempt:r}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-brand-dark hover:underline focus:outline-none",children:"Not now"})})]})})},av="/assets/house_of_masoori-joZrFMxU.jpeg",sv="/assets/Shauq%20Fashion%20Banner-BMoWA4fg.png",nv="https://api.shauqse.com/v1",Vs={BASE_URL:nv,ENDPOINTS_PREFIX:"/shauqse",TIMEOUTS:{RECEIVE:25e3},DEFAULT_HEADERS:{Accept:"application/json","app-iss":"shauqse.app","Content-Type":"application/json"}},he=(n,r)=>{if(r.startsWith("http"))return r;const i=n.endsWith("/")?n.slice(0,-1):n,c=r.startsWith("/")?r.slice(1):r;return`${i}/${c}`},Jt=class Jt{static saveToken(r){localStorage.setItem(Jt.TOKEN_KEY,r)}static getToken(){return localStorage.getItem(Jt.TOKEN_KEY)}static clearToken(){localStorage.removeItem(Jt.TOKEN_KEY)}static saveBackendUser(r){try{localStorage.setItem(Jt.USER_KEY,JSON.stringify(r))}catch(i){console.error("Failed to save backend user:",i)}}static getBackendUser(){const r=localStorage.getItem(Jt.USER_KEY);if(r)try{return JSON.parse(r)}catch(i){return console.error("Failed to parse backend user from storage:",i),null}return null}static clearBackendUser(){localStorage.removeItem(Jt.USER_KEY)}static clearAll(){Jt.clearToken(),Jt.clearBackendUser()}static saveUiState(r,i){try{localStorage.setItem(`${Jt.UI_STATE_PREFIX}${r}`,JSON.stringify(i))}catch(c){console.error(`Failed to save UI state for key ${r}:`,c)}}static getUiState(r){const i=localStorage.getItem(`${Jt.UI_STATE_PREFIX}${r}`);if(i)try{return JSON.parse(i)}catch(c){return console.error(`Failed to parse UI state for key ${r}:`,c),null}return null}static clearUiState(r){localStorage.removeItem(`${Jt.UI_STATE_PREFIX}${r}`)}};Jt.TOKEN_KEY="shauq_access_token",Jt.USER_KEY="shauq_backend_user",Jt.UI_STATE_PREFIX="shauq_ui_";let Te=Jt;class ia extends Error{constructor(r){super(r),this.name=this.constructor.name}}class No extends ia{constructor(r="Network error. Please check your connection."){super(r)}}class lv extends ia{constructor(r="An unexpected error occurred on the server."){super(r)}}class lu extends ia{}class ru extends ia{constructor(r="Authentication failed. Please log in again."){super(r)}}class rv extends ia{constructor(r="You do not have permission to perform this action."){super(r)}}let iv=class extends ia{constructor(r="The requested resource was not found."){super(r)}};class ov extends ia{}class cv extends ia{constructor(r="An unknown error occurred."){super(r)}}class dv{constructor(){this.activeRequests=0,this.listeners=new Set}increment(){this.activeRequests+=1,this.notify()}decrement(){this.activeRequests=Math.max(0,this.activeRequests-1),this.notify()}subscribe(r){return this.listeners.add(r),r(this.activeRequests),()=>{this.listeners.delete(r)}}notify(){this.listeners.forEach(r=>{try{r(this.activeRequests)}catch(i){console.error("ApiRequestTracker listener error:",i)}})}}const Ir=new dv,Cg=n=>{if(typeof n!="object"||n===null)return"Invalid error response format";if(typeof n.message=="string"&&n.message)return n.message;if(typeof n.error=="string"&&n.error)return n.error;if(typeof n.detail=="string"&&n.detail)return n.detail;if(typeof n.msg=="string"&&n.msg)return n.msg;if(Array.isArray(n.errors))return n.errors.join(", ");if(typeof n.errors=="object"&&n.errors!==null){const r=Object.values(n.errors).flat().filter(i=>typeof i=="string");if(r.length>0)return r.join(", ")}return"An unknown error occurred."},Eg=(n,r)=>n===400?new lu(r):n===401?new ru(r):n===403?new rv(r):n===404?new iv(r):n===409?new ov(r):n>=500?new lv(r):new cv(r),Ag=(n,r,i,c)=>{},bn=(n,r)=>{},Dr=async(n,r,i={},c=!1,u)=>{const f=new AbortController,m=u||Vs.TIMEOUTS.RECEIVE,h=setTimeout(()=>f.abort(),m),g=new Headers(c?{Accept:"application/json"}:Vs.DEFAULT_HEADERS);if(!c){const v=Te.getToken();v&&g.set("Authorization",`Bearer ${v}`)}i.headers&&new Headers(i.headers).forEach((v,y)=>{g.set(y,v)});const x={...i,method:n,headers:g,signal:f.signal};Ag(n,r,g,i.body),Ir.increment();try{const v=await fetch(r,x);if(!v.ok){let N;try{N=await v.json()}catch{N={message:`Request failed with status code ${v.status}`}}bn(v.status,N);const C=Cg(N);throw Eg(v.status,C)}const y=v.headers.get("content-type");if(y&&y.includes("application/json")){if(v.status===204)return bn(v.status,null),null;const N=await v.json();return bn(v.status,N),N}const w=await v.text();return bn(v.status,w),w}catch(v){throw v instanceof ia?v:v instanceof Error&&v.name==="AbortError"?new No("The request timed out."):new No("A network error occurred.")}finally{clearTimeout(h),Ir.decrement()}},uv=(n,r)=>r==="application/x-www-form-urlencoded"?new URLSearchParams(n).toString():r.includes("application/json")?JSON.stringify(n):n,yl=(n,r)=>(i,c,u,f)=>{const m=r?"application/json":Vs.DEFAULT_HEADERS["Content-Type"],h=new Headers(u);h.has("Content-Type")||h.set("Content-Type",m);const g=h.get("Content-Type")||m,x=uv(c,g);return Dr(n,i,{body:x,headers:h},r,f)},mv=async(n,r,i={},c=!1,u)=>{const f=new AbortController,m=u||Vs.TIMEOUTS.RECEIVE,h=setTimeout(()=>f.abort(),m),g=new Headers(c?{Accept:"application/json"}:Vs.DEFAULT_HEADERS),x=Te.getToken();!c&&x&&g.set("Authorization",`Bearer ${x}`),i.headers&&new Headers(i.headers).forEach((y,w)=>g.set(w,y));const v={...i,method:n,headers:g,signal:f.signal};Ag(n,r,g,i.body),Ir.increment();try{const y=await fetch(r,v),w={};if(y.headers.forEach((_,T)=>w[T.toLowerCase()]=_),!y.ok){let _;try{_=await y.json()}catch{_={message:`Request failed with status code ${y.status}`}}bn(y.status,_);const T=Cg(_);throw Eg(y.status,T)}const N=y.headers.get("content-type");if(N&&N.includes("application/json")){if(y.status===204)return bn(y.status,null),{data:null,headers:w,status:y.status};const _=await y.json();return bn(y.status,_),{data:_,headers:w,status:y.status}}const C=await y.text();return bn(y.status,C),{data:C,headers:w,status:y.status}}catch(y){throw y instanceof ia?y:y instanceof Error&&y.name==="AbortError"?new No("The request timed out."):new No("A network error occurred.")}finally{clearTimeout(h),Ir.decrement()}},ce={get:(n,r,i)=>Dr("GET",n,{headers:r},!1,i),post:yl("POST",!1),put:yl("PUT",!1),patch:yl("PATCH",!1),delete:(n,r,i)=>Dr("DELETE",n,{headers:r},!1,i),getRaw:(n,r,i)=>Dr("GET",n,{headers:r},!0,i),postRaw:yl("POST",!0),putRaw:yl("PUT",!0),patchRaw:yl("PATCH",!0),deleteRaw:(n,r,i)=>Dr("DELETE",n,{headers:r},!0,i),getWithMeta:(n,r,i)=>mv("GET",n,{headers:r},!1,i)},xe=he(Vs.BASE_URL,Vs.ENDPOINTS_PREFIX),ie={LOGIN:he(xe,"/auth/login"),REGISTER:he(xe,"/auth/register"),PROFILE:he(xe,"/auth/profile"),VERIFY:he(xe,"/auth/verify"),LOGOUT:he(xe,"/auth/logout"),DEACTIVATE:he(xe,"/auth/deactivate"),PRODUCTS_GET:he(xe,"/products/get"),PRODUCT_BY_ID:n=>he(xe,`/products/get/${n}`),PRODUCTS:he(xe,"/products"),PRODUCT_ADMIN_BY_ID:n=>he(xe,`/products/${n}`),PRODUCT_IMAGES:n=>he(xe,`/products/${n}/images`),REORDER_PRODUCT_IMAGES:n=>he(xe,`/products/${n}/images/reorder`),DELETE_PRODUCT_IMAGE:(n,r)=>he(xe,`/products/${n}/images/${r}`),PRODUCT_REVIEWS:n=>he(xe,`/products/${n}/reviews`),ADD_PRODUCT_REVIEW:n=>he(xe,`/products/${n}/reviews`),CATEGORIES_GET:he(xe,"/categories/get"),CATEGORY_BY_ID:n=>he(xe,`/categories/${n}`),CATEGORIES:he(xe,"/categories"),WISHLIST:he(xe,"/wishlist"),WISHLIST_ITEM:n=>he(xe,`/wishlist/${n}`),CART:he(xe,"/cart"),CART_ITEM:n=>he(xe,`/cart/${n}`),CART_CLEAR:he(xe,"/cart/clear"),CART_SUMMARY:he(xe,"/cart/summary"),STORE_BANNERS:he(xe,"/stores"),DELIVERY_CHARGE:he(xe,"/settings/delivery-charge"),ORDERS:he(xe,"/orders"),AFFILIATE_ORDERS:he(xe,"/orders/affiliate"),ORDER_BY_ID:n=>he(xe,`/orders/${n}`),ORDER_BY_ORDER_ID:n=>he(xe,`/orders/order/${n}`),UPDATE_ORDER_STATUS:n=>he(xe,`/orders/${n}/status`),AFFILIATE_BALANCE:he(xe,"/affiliate/balance"),AFFILIATE_COMMISSIONS:he(xe,"/affiliate/commissions"),AFFILIATE_CUSTOMERS:he(xe,"/affiliate/customers__"),AFFILIATE_WITHDRAWALS:he(xe,"/affiliate/withdrawals"),ADMIN_AFFILIATE_USERS:he(xe,"/admin/affiliate/users"),ADMIN_AFFILIATE_USER_CUSTOMERS:n=>he(xe,`/admin/affiliate/users/${n}/customers`),ADMIN_AFFILIATE_USER_ORDERS:n=>he(xe,`/admin/affiliate/users/${n}/orders`),ADMIN_AFFILIATE_COMMISSIONS:he(xe,"/admin/affiliate/commissions"),ADMIN_AFFILIATE_WITHDRAWALS:he(xe,"/admin/affiliate/withdrawals"),ADMIN_UPDATE_WITHDRAWAL:n=>he(xe,`/admin/affiliate/withdrawals/${n}`),BRANDS:he(xe,"/brands"),BRAND_BY_ID:n=>he(xe,`/brands/${n}`),ADMIN_BRANDS:he(xe,"/admin/brands"),ADMIN_BRAND_BY_ID:n=>he(xe,`/admin/brands/${n}`),VENDORS:he(xe,"/vendors"),VENDOR_REGISTER:he(xe,"/vendors/register"),VENDOR_EARNINGS:n=>he(xe,`/vendors/${n}/earnings`),VENDOR_EARNINGS_HISTORY:n=>he(xe,`/vendors/${n}/earnings/history`),VENDOR_BY_USER:n=>he(xe,`/vendors/user/${n}`),VENDOR_BY_SLUG:n=>he(xe,`/vendors/slug/${n}`),VENDOR_UPDATE:he(xe,"/vendors/update"),VENDOR_AVAILABLE_PRODUCTS:n=>he(xe,`/vendors/${n}/available-products`),VENDOR_CROSS_SELL_COMMISSIONS:n=>he(xe,`/vendors/${n}/cross-sell-commissions`),ADMIN_VENDORS:he(xe,"/admin/vendors"),ADMIN_VENDOR_BY_ID:n=>he(xe,`/admin/vendors/${n}`),STORE_BY_SLUG:n=>he(xe,`/stores/${n}`),STORE_COLLECTIONS:n=>he(xe,`/stores/${n}/collections`),COLLECTIONS:he(xe,"/collections"),COLLECTION_BY_ID:n=>he(xe,`/collections/${n}`),ADMIN_COLLECTIONS:he(xe,"/admin/collections"),ADMIN_COLLECTION_BY_ID:n=>he(xe,`/admin/collections/${n}`),PRODUCT_FLAGS_ADMIN:he(xe,"/admin/product-flags"),PRODUCT_FLAG_ADMIN_BY_ID:n=>he(xe,`/admin/product-flags/${n}`),CROSS_SELL_PRODUCTS:n=>he(xe,`/vendors/${n}/available-products`),MLM_REFERRAL:he(xe,"/mlm/referral"),MLM_REFERRAL_CODE:he(xe,"/mlm/referral-code"),MLM_TREE:n=>he(xe,`/mlm/tree/${n}`),MLM_BALANCE:n=>he(xe,`/mlm/balance/${n}`),MLM_WITHDRAWALS:he(xe,"/mlm/withdrawals"),ADMIN_MLM_WITHDRAWALS:he(xe,"/admin/mlm/withdrawals"),ADMIN_MLM_WITHDRAWAL_PROCESS:n=>he(xe,`/admin/mlm/withdrawals/${n}`),ADMIN_STAKEHOLDERS:he(xe,"/admin/stakeholders"),ADMIN_STAKEHOLDER_BY_ID:n=>he(xe,`/admin/stakeholders/${n}`),ADMIN_STAKEHOLDER_ALLOCATION:n=>he(xe,`/admin/stakeholders/${n}/allocation`),ADMIN_STAKEHOLDER_SETTLEMENTS:n=>he(xe,`/admin/stakeholders/${n}/settlements`),ADMIN_STAKEHOLDER_SETTLE:n=>he(xe,`/admin/stakeholders/${n}/settle`),ADMIN_ALL_SETTLEMENTS:he(xe,"/admin/stakeholders/settlements"),ADMIN_PROCESS_SETTLEMENT:n=>he(xe,`/admin/stakeholders/settlements/${n}/process`),ADMIN_COMMISSION_SETTINGS:he(xe,"/admin/commission-settings"),ADMIN_COMMISSION_SETTING_BY_KEY:n=>he(xe,`/admin/commission-settings/${n}`),ADMIN_COMMISSION_SETTINGS_HISTORY:he(xe,"/admin/commission-settings/history"),CLOUDINARY_SIGN:he(xe,"/media/cloudinary/sign"),FINANCIAL_REASONS:he(xe,"/financial/reasons"),FINANCIAL_BALANCE:he(xe,"/financial/balance"),FINANCIAL_TRANSACTIONS:he(xe,"/financial/transactions"),FINANCIAL_MONEY_TRAIL:he(xe,"/financial/money-trail"),USER_BALANCE:he(xe,"/user/balance"),USER_BALANCE_TRANSACTIONS:he(xe,"/user/balance/transactions"),USER_BALANCE_STATISTICS:he(xe,"/user/balance/statistics"),USER_ADDRESSES:he(xe,"/user/addresses"),USER_ADDRESS_BY_ID:n=>he(xe,`/user/addresses/${n}`),USER_ADDRESS_SET_DEFAULT:n=>he(xe,`/user/addresses/${n}/set-default`),ADMIN_SIGNUP_REWARD_SETTINGS:he(xe,"/admin/signup-reward-settings"),ADMIN_SIGNUP_REWARD_SETTINGS_TOGGLE:he(xe,"/admin/signup-reward-settings/toggle")},Ge=n=>{if(Array.isArray(n))return n;if(n&&typeof n=="object"){if(Array.isArray(n.results))return n.results;if(Array.isArray(n.data))return n.data}return console.warn("Could not normalize list response, returning empty array.",n),[]},ke=n=>n&&typeof n=="object"&&("data"in n&&n.data!==void 0||"success"in n&&n.success===!0&&"data"in n)?n.data:n;class fv{constructor(){this.localToBackendMap=new Map,this.backendToLocalMap=new Map}updateMap(r){r.forEach(i=>{const c=i.backendId||String(i.id),u=i.id;u&&c&&(this.localToBackendMap.set(u,c),this.backendToLocalMap.set(c,u))})}getBackendId(r){const i=this.localToBackendMap.get(r);if(!i)throw console.error(`Backend ID not found for local product ID: ${r}. Ensure product data is loaded.`),new Error(`Backend ID mapping not found for product ${r}`);return i}getLocalId(r){return this.backendToLocalMap.get(r)}clear(){this.localToBackendMap.clear(),this.backendToLocalMap.clear()}}const Pa=new fv,hv={getHomepageBanners:async()=>{const n=await ce.get(ie.STORE_BANNERS);return Ge(n)}},Gd=[{image:av,caption:"House of Masoori  premium styles curated for you."},{image:sv,caption:"Shauq Fashion  discover the latest looks and trends."}],xv=()=>{const[n,r]=p.useState(0),[i,c]=p.useState(Gd),u=p.useRef(null),f=()=>{u.current&&clearTimeout(u.current)};p.useEffect(()=>{if(i.length!==0)return f(),u.current=window.setTimeout(()=>r(h=>h===i.length-1?0:h+1),4e3),()=>{f()}},[n,i.length]),p.useEffect(()=>{(async()=>{try{const g=await hv.getHomepageBanners();if(g&&g.length>0){const x=g.filter(v=>!!v.image_url).map(v=>({image:v.image_url,caption:v.subtitle||v.title||"Discover our latest collections."}));if(x.length>0){c(x),r(0);return}}c(Gd)}catch(g){console.error("Failed to load homepage banners:",g),c(Gd)}})()},[]);const m=h=>{r(h)};return a.jsxs("section",{className:"relative aspect-video lg:aspect-[16/7] w-full rounded-2xl overflow-hidden shadow-lg animate-scale-in",children:[i.map((h,g)=>a.jsx("div",{className:`absolute top-0 left-0 w-full h-full transition-all duration-1000 ease-in-out ${g===n?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:a.jsx("img",{src:h.image,alt:`Slide ${g+1}`,className:"w-full h-full object-cover"})},g)),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent w-1/2"}),a.jsx("div",{className:"absolute bottom-0 left-0 p-8 md:p-12 text-white",children:a.jsxs("div",{className:"max-w-md space-y-4",children:[a.jsx("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg",children:a.jsx("p",{className:"text-lg md:text-xl font-medium leading-relaxed",children:i[n].caption})}),a.jsx("button",{className:"bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black/50 focus:ring-white transition-colors",children:"Shop the Collection"})]})}),a.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-2",children:i.map((h,g)=>a.jsx("button",{onClick:()=>m(g),className:`h-2 rounded-full transition-all duration-300 ${n===g?"w-5 bg-white":"w-2 bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${g+1}`},g))})]})},El=({className:n=""})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 ${n}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),Tg=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})}),Rg=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Hr=({product:n,index:r,onProductSelect:i,isWishlisted:c,onToggleWishlist:u,onAddToCart:f,onOpenQuickView:m})=>{const h=!!n.originalPrice&&!Number.isNaN(parseFloat(n.originalPrice))&&!Number.isNaN(parseFloat(n.price))&&parseFloat(n.originalPrice)>parseFloat(n.price),g=y=>{y.stopPropagation(),u(n.id)},x=y=>{y.stopPropagation(),f(n,1)},v=y=>{y.stopPropagation(),m(n)};return a.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden group opacity-0 animate-fade-in-up relative cursor-pointer",style:{animationDelay:`${r*60}ms`},onClick:()=>i(n),children:[a.jsxs("div",{className:"relative aspect-[1/1] bg-gray-100",children:[a.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'},loading:"lazy"}),a.jsx("button",{onClick:g,className:"absolute top-3 right-3 p-1.5 bg-white/70 backdrop-blur-sm rounded-full text-gray-500 hover:text-red-500 transition-colors z-20","aria-label":"Toggle Wishlist",children:a.jsx(El,{className:`w-5 h-5 ${c?"text-red-500 fill-current":""}`})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center z-10",children:a.jsxs("button",{onClick:v,className:"opacity-0 group-hover:opacity-100 transform group-hover:scale-100 scale-90 transition-all duration-300 bg-white text-brand-dark font-semibold py-2 px-4 rounded-full flex items-center space-x-2 shadow-lg","aria-label":"Quick View",children:[a.jsx(Rg,{}),a.jsx("span",{children:"Quick View"})]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-brand-dark truncate",children:n.name}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-baseline space-x-1",children:[a.jsxs("p",{className:"text-brand-dark font-bold text-base",children:["Rs. ",n.price]}),h&&a.jsxs("p",{className:"text-xs text-brand-secondary line-through",children:["Rs. ",n.originalPrice]})]}),a.jsx("button",{onClick:x,className:"h-8 w-8 bg-brand-dark text-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform z-10",children:a.jsx(Tg,{})})]})]})]})},gv=({products:n,onProductSelect:r,wishlist:i,onToggleWishlist:c,onAddToCart:u,onOpenQuickView:f,onSeeAll:m})=>{const h=n.slice(0,4);return a.jsxs("section",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"300ms"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Featured Products"}),a.jsx("button",{type:"button",onClick:m,className:"text-sm font-semibold text-brand-secondary hover:text-brand-dark transition",children:"See All"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h.map((g,x)=>a.jsx(Hr,{product:g,index:x,onProductSelect:r,isWishlisted:i.includes(g.id),onToggleWishlist:c,onAddToCart:u,onOpenQuickView:f},g.id))})]})},Px=["from-purple-400 to-indigo-500","from-gray-500 to-gray-700","from-purple-400 to-indigo-500","from-gray-500 to-gray-700"],pv=({category:n,index:r,onClick:i})=>{const c=Px[r%Px.length];return a.jsxs("button",{type:"button",onClick:i,className:`relative p-4 h-24 rounded-[20px] bg-gradient-to-br ${c} flex items-center space-x-3 text-white overflow-hidden opacity-0 animate-fade-in-up transform hover:-translate-y-1 transition-transform duration-300 focus:outline-none focus:ring-2 focus:ring-white/40`,style:{animationDelay:`${r*60}ms`},children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-white/30 rounded-full flex items-center justify-center",children:n.icon}),a.jsx("span",{className:"font-bold text-base",children:n.name})]})},bv=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h8v1a2 2 0 01-2 2H10a2 2 0 01-2-2V7z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7l-3 5h14l-3-5"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12l2 7h10l2-7"})]}),yv=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v-2a2 2 0 012-2h12a2 2 0 012 2v2M4 16l1.2-4.8a2 2 0 012-1.2h9.6a2 2 0 012 1.2L20 16"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16h16"})]}),Lg=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7h.01M7 3h5a2 2 0 012 2v5a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2zm0 0v.01"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 11h5a2 2 0 012 2v5a2 2 0 01-2 2h-5a2 2 0 01-2-2v-5a2 2 0 012-2z"})]}),On={getCategories:async()=>{const n=await ce.get(ie.CATEGORIES_GET);return Ge(n)},getCategoryById:async n=>{const r=await ce.get(ie.CATEGORY_BY_ID(n));return ke(r)},createCategory:async n=>{const r=await ce.post(ie.CATEGORIES,n);return ke(r)},updateCategory:async(n,r)=>{const i=await ce.put(ie.CATEGORY_BY_ID(n),r);return ke(i)},deleteCategory:async n=>{await ce.delete(ie.CATEGORY_BY_ID(n))}},vv=Object.freeze(Object.defineProperty({__proto__:null,CategoryService:On},Symbol.toStringTag,{value:"Module"})),Ie=({size:n="md",text:r})=>{const i={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[a.jsx("div",{className:`${i[n]} border-4 border-gray-200 border-t-brand-dark rounded-full animate-spin`}),r&&a.jsx("p",{className:"text-sm text-brand-secondary",children:r})]})},jv=n=>{const r=n.toLowerCase();return r.includes("apparel")||r.includes("clothing")||r.includes("wear")?a.jsx(bv,{}):r.includes("footwear")||r.includes("shoe")||r.includes("sneaker")?a.jsx(yv,{}):a.jsx(Lg,{})},Nv=({onCategoryClick:n})=>{const[r,i]=p.useState([]),[c,u]=p.useState(!0),[f,m]=p.useState(null);return p.useEffect(()=>{(async()=>{u(!0),m(null);try{const x=(await On.getCategories()).filter(v=>v.is_active!==!1);i(x)}catch(g){console.error("Failed to load categories:",g),m("Failed to load categories"),i([])}finally{u(!1)}})()},[]),c?a.jsxs("section",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"500ms"},children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Shop by Category"})}),a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(Ie,{size:"md",text:"Loading categories..."})})]}):f||r.length===0?a.jsxs("section",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"500ms"},children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Shop by Category"})}),a.jsx("div",{className:"text-center py-8 text-brand-secondary",children:f||"No categories available"})]}):a.jsxs("section",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"500ms"},children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Shop by Category"})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map((h,g)=>a.jsx(pv,{category:{name:h.name,icon:jv(h.name)},index:g,onClick:()=>n&&n(h.id,h.name)},h.id))})]})},Hs={getAllBrands:async(n=!1)=>{let r=ie.BRANDS;n&&(r+="?active_only=true");const i=await ce.get(r);return Ge(i)},getBrandById:async n=>{const r=await ce.get(ie.BRAND_BY_ID(String(n)));return ke(r)},createBrand:async n=>{const r=await ce.post(ie.ADMIN_BRANDS,n);return ke(r)},updateBrand:async(n,r)=>{const i=await ce.put(ie.ADMIN_BRAND_BY_ID(String(n)),r);return ke(i)},deleteBrand:async n=>{await ce.delete(ie.ADMIN_BRAND_BY_ID(String(n)))}},Sv=({onStoreSelect:n})=>{const[r,i]=p.useState([]),[c,u]=p.useState(!0);p.useEffect(()=>{f()},[]);const f=async()=>{try{const g=await Hs.getAllBrands(!0);i(g)}catch(g){console.error("Error loading brands:",g)}finally{u(!1)}},m=g=>g.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),h=g=>{const x=m(g.name);n(x)};return c?a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Brands"}),a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Ie,{text:"Loading brands..."})})]}):r.length===0?null:a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Brands"}),a.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:r.map(g=>{var y,w;const x=((y=g.theme_colors)==null?void 0:y.primary)||"#1F2937",v=(w=g.theme_colors)==null?void 0:w.secondary;return m(g.name),a.jsx("div",{onClick:()=>h(g),className:"flex-shrink-0 w-40 cursor-pointer group",children:a.jsxs("div",{className:"rounded-lg p-4 transition-transform hover:scale-105",style:{background:v?`linear-gradient(135deg, ${x}15, ${v}15)`:`${x}15`,border:`2px solid ${x}30`},children:[g.logo_url?a.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-lg overflow-hidden bg-white p-2",children:a.jsx("img",{src:g.logo_url,alt:g.name,className:"w-full h-full object-contain",onError:N=>{N.currentTarget.style.display="none"}})}):a.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-lg flex items-center justify-center text-white font-bold text-xl",style:{backgroundColor:x},children:g.name.charAt(0).toUpperCase()}),a.jsx("h3",{className:"text-sm font-bold text-brand-dark text-center truncate",children:g.name}),g.brand_tagline&&a.jsx("p",{className:"text-xs text-brand-secondary text-center mt-1 line-clamp-2",children:g.brand_tagline})]})},g.id)})})]})},wv=({products:n,onProductSelect:r,wishlist:i,onToggleWishlist:c,onAddToCart:u,onOpenQuickView:f,onNavigateToCollections:m,onStoreSelect:h,onCategorySelect:g,onSeeAllProducts:x})=>a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 space-y-8",children:[a.jsx(xv,{}),a.jsx(gv,{products:n,onProductSelect:r,wishlist:i,onToggleWishlist:c,onAddToCart:u,onOpenQuickView:f,onSeeAll:x}),a.jsx(Nv,{onCategoryClick:g}),h&&a.jsx(Sv,{onStoreSelect:h}),m&&a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Recommended Collections"}),a.jsx("button",{onClick:m,className:"text-brand-dark hover:text-gray-700 font-semibold text-sm transition",children:"View All "})]}),a.jsx("p",{className:"text-brand-secondary mb-4",children:"Discover curated product collections"}),a.jsx("button",{onClick:m,className:"w-full md:w-auto bg-brand-dark text-white font-semibold py-3 px-8 rounded-full hover:bg-gray-700 transition",children:"Browse Collections"})]})]})}),Nu=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Dg=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),Mg=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Fx=({onSearch:n,onLogoClick:r,onWishlistClick:i,wishlistCount:c,onCartClick:u,cartItemCount:f,onProfileClick:m,simplified:h=!1,initialQuery:g,isSignedIn:x=!1,userRole:v,onNavigateToAdmin:y,onTogglePublicView:w,isPublicView:N=!1,userReward:C,referralCode:_,referralLink:T})=>{const[L,Y]=p.useState(g),[U,P]=p.useState(null);p.useEffect(()=>{Y(g)},[g]),p.useEffect(()=>{const O=setTimeout(()=>{L!==g&&n(L)},500);return()=>{clearTimeout(O)}},[L,n]);const k=O=>{O.preventDefault(),n(L.trim())},A=(O,ae)=>{navigator&&navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(O).then(()=>{P(ae),setTimeout(()=>P(null),1500)}).catch(H=>{console.error("Failed to copy text:",H)})};return a.jsx("header",{className:"sticky top-0 z-50 animate-fade-in-up",style:{animationDelay:"100ms"},children:a.jsx("div",{className:"bg-brand-dark text-white rounded-b-2xl shadow-lg",children:a.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 h-20 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-8",children:[a.jsx("button",{onClick:r,className:"text-3xl font-bold tracking-tight",children:"Shauq"}),!h&&a.jsxs("div",{className:"flex items-center space-x-3",children:[x&&C!==void 0&&a.jsxs("span",{className:"text-sm font-semibold bg-white-24 px-3 py-1 rounded-full",children:["PKR ",C.toFixed(0)]}),x&&a.jsx("span",{className:"text-sm font-semibold bg-white-24 px-3 py-1 rounded-full",children:"Signed in"}),x&&(_||T)&&a.jsxs("div",{className:"flex flex-col space-y-1 items-start",children:[_&&a.jsxs("button",{type:"button",onClick:()=>A(_,"code"),className:"text-sm font-semibold bg-white-24 px-3 py-1 rounded-full inline-flex items-center self-start transition hover:bg-white-32",title:"Click to copy reference number",children:["Ref: ",_]}),T&&a.jsx("button",{type:"button",onClick:()=>A(T,"link"),className:"text-xs font-medium bg-white-08 hover:bg-white-24 px-3 py-1 rounded-full max-w-xs truncate text-left inline-flex self-start transition",title:"Click to copy referral link",children:T}),U&&a.jsx("span",{className:"text-[10px] text-white-70 ml-1",children:"Copied"})]})]})]}),!h&&a.jsx("div",{className:"flex-1 flex justify-center px-8 hidden lg:flex",children:a.jsxs("form",{onSubmit:k,className:"w-full max-w-md",children:[a.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-white-70",children:a.jsx(Nu,{})}),a.jsx("input",{id:"search",name:"search",value:L,onChange:O=>Y(O.target.value),className:"block w-full bg-white-08 border border-white-24 rounded-[24px] py-2.5 pl-11 pr-3 text-sm placeholder-white-70 focus:outline-none focus:bg-white-24 focus:ring-1 focus:ring-white transition",placeholder:"Search for products...",type:"search"})]})]})}),a.jsxs("div",{className:"flex items-center space-x-5",children:[!h&&(v===Ea.ADMIN||v===Ea.VENDOR||v===Ea.BRAND)&&a.jsxs(a.Fragment,{children:[w&&a.jsx("button",{onClick:w,className:"px-3 py-1.5 text-sm font-medium bg-white-08 hover:bg-white-24 rounded-lg transition",title:N?"Switch to Admin Panel":"Switch to Public View",children:N?"Admin Panel":"Public View"}),y&&!N&&a.jsx("button",{onClick:y,className:"px-3 py-1.5 text-sm font-medium bg-white-08 hover:bg-white-24 rounded-lg transition",children:"Admin Panel"})]}),!h&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:i,className:`${c>0?"text-white":"text-gray-400"} hover:text-white transition`,children:a.jsx(El,{})}),a.jsxs("button",{onClick:u,className:"relative text-white hover:text-white transition",children:[a.jsx(Dg,{}),f>0&&a.jsx("span",{className:"absolute -top-2 -right-2 flex items-center justify-center h-5 w-5 bg-red-500 text-xs font-bold rounded-full",children:f})]})]}),a.jsx("button",{onClick:m,className:"text-white",children:a.jsx(Mg,{})})]})]})})})},Sr=({label:n,isChecked:r,onChange:i})=>a.jsxs("label",{className:"flex items-center space-x-2 lg:space-x-3 cursor-pointer flex-shrink-0",children:[a.jsx("div",{onClick:()=>i(!r),className:`h-4 w-4 lg:h-5 lg:w-5 border-2 rounded ${r?"bg-brand-dark border-brand-dark":"border-gray-300 bg-white"} flex items-center justify-center transition flex-shrink-0`,children:r&&a.jsx("svg",{className:"h-2.5 w-2.5 lg:h-3 lg:w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-xs lg:text-sm text-gray-700 whitespace-nowrap",children:n})]}),vl=({title:n,children:r})=>a.jsxs("div",{className:"py-4 border-b border-gray-200 last:border-b-0",children:[a.jsx("h4",{className:"font-bold text-brand-dark mb-3 lg:mb-3",children:n}),a.jsx("div",{className:"flex flex-wrap gap-3 lg:flex-col lg:gap-2",children:r})]}),wl=({activeFilters:n,onFilterChange:r})=>{var Y,U;const i=["Apparel","Footwear","Accessories"],c=["S","M","L","XL","XXL"],u=["Men's","Women's","Children's","Unisex"],f=["Nike","Adidas","Puma","Zara","H&M"],m=[4,3,2,1],[h,g]=p.useState(((Y=n.priceRange)==null?void 0:Y.min.toString())||""),[x,v]=p.useState(((U=n.priceRange)==null?void 0:U.max.toString())||"");p.useEffect(()=>{n.priceRange?(g(n.priceRange.min>0?n.priceRange.min.toString():""),v(n.priceRange.max<1/0?n.priceRange.max.toString():"")):(g(""),v(""))},[n.priceRange]);const y=(P,k)=>{const A=k?[...n.categories,P]:n.categories.filter(O=>O!==P);r({...n,categories:A})},w=(P,k)=>{const A=k?[...n.sizes,P]:n.sizes.filter(O=>O!==P);r({...n,sizes:A})},N=(P,k)=>{const A=k?[...n.genders,P]:n.genders.filter(O=>O!==P);r({...n,genders:A})},C=(P,k)=>{const A=k?[...n.brands,P]:n.brands.filter(O=>O!==P);r({...n,brands:A})},_=(P,k)=>{const A=k?[...n.ratings,P]:n.ratings.filter(O=>O!==P);r({...n,ratings:A})},T=()=>{const P=h?parseFloat(h):0,k=x?parseFloat(x):1/0;P>0||k<1/0?r({...n,priceRange:{min:P,max:k}}):r({...n,priceRange:null})},L=()=>{g(""),v(""),r({categories:[],sizes:[],genders:[],priceRange:null,brands:[],ratings:[]})};return a.jsxs("aside",{className:"bg-white rounded-xl shadow-md p-4 lg:p-6 lg:sticky lg:top-28",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg lg:text-xl font-bold text-brand-dark",children:"Filter By"}),a.jsx("button",{onClick:L,className:"text-xs lg:text-sm font-semibold text-gray-500 hover:text-brand-dark transition",children:"Clear All"})]}),a.jsx(vl,{title:"Gender",children:u.map(P=>a.jsx(Sr,{label:P,isChecked:n.genders.includes(P),onChange:k=>N(P,k)},P))}),a.jsx(vl,{title:"Category",children:i.map(P=>a.jsx(Sr,{label:P,isChecked:n.categories.includes(P),onChange:k=>y(P,k)},P))}),a.jsx(vl,{title:"Price Range",children:a.jsxs("div",{className:"w-full lg:space-y-3",children:[a.jsxs("div",{className:"flex gap-2 mb-3 lg:mb-0",children:[a.jsx("input",{type:"number",placeholder:"Min",value:h,onChange:P=>g(P.target.value),className:"w-full px-2 py-1.5 lg:px-3 lg:py-2 border border-gray-300 rounded-md text-xs lg:text-sm focus:outline-none focus:ring-2 focus:ring-brand-dark"}),a.jsx("input",{type:"number",placeholder:"Max",value:x,onChange:P=>v(P.target.value),className:"w-full px-2 py-1.5 lg:px-3 lg:py-2 border border-gray-300 rounded-md text-xs lg:text-sm focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsx("button",{onClick:T,className:"w-full px-3 py-1.5 lg:px-4 lg:py-2 bg-brand-dark text-white rounded-md hover:bg-opacity-90 transition text-xs lg:text-sm font-semibold",children:"Apply"})]})}),a.jsx(vl,{title:"Size",children:c.map(P=>a.jsx(Sr,{label:P,isChecked:n.sizes.includes(P),onChange:k=>w(P,k)},P))}),a.jsx(vl,{title:"Brand",children:f.map(P=>a.jsx(Sr,{label:P,isChecked:n.brands.includes(P),onChange:k=>C(P,k)},P))}),a.jsx(vl,{title:"Rating",children:m.map(P=>a.jsx(Sr,{label:`${P}+ Stars`,isChecked:n.ratings.includes(P),onChange:k=>_(P,k)},P))})]})};function Su(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Bn=Su();function Og(n){Bn=n}var Ur={exec:()=>null};function Ze(n,r=""){let i=typeof n=="string"?n:n.source,c={replace:(u,f)=>{let m=typeof f=="string"?f:f.source;return m=m.replace(oa.caret,"$1"),i=i.replace(u,m),c},getRegex:()=>new RegExp(i,r)};return c}var _v=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),oa={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},kv=/^(?:[ \t]*(?:\n|$))+/,Cv=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ev=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Fr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Av=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,wu=/(?:[*+-]|\d{1,9}[.)])/,zg=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ug=Ze(zg).replace(/bull/g,wu).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Tv=Ze(zg).replace(/bull/g,wu).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),_u=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Rv=/^[^\n]+/,ku=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Lv=Ze(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ku).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Dv=Ze(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,wu).getRegex(),To="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Cu=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Mv=Ze("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Cu).replace("tag",To).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Bg=Ze(_u).replace("hr",Fr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",To).getRegex(),Ov=Ze(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Bg).getRegex(),Eu={blockquote:Ov,code:Cv,def:Lv,fences:Ev,heading:Av,hr:Fr,html:Mv,lheading:Ug,list:Dv,newline:kv,paragraph:Bg,table:Ur,text:Rv},Vx=Ze("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Fr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",To).getRegex(),zv={...Eu,lheading:Tv,table:Vx,paragraph:Ze(_u).replace("hr",Fr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Vx).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",To).getRegex()},Uv={...Eu,html:Ze(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Cu).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ur,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ze(_u).replace("hr",Fr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ug).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Bv=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Iv=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ig=/^( {2,}|\\)\n(?!\s*$)/,Hv=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ro=/[\p{P}\p{S}]/u,Au=/[\s\p{P}\p{S}]/u,Hg=/[^\s\p{P}\p{S}]/u,qv=Ze(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Au).getRegex(),qg=/(?!~)[\p{P}\p{S}]/u,Pv=/(?!~)[\s\p{P}\p{S}]/u,Fv=/(?:[^\s\p{P}\p{S}]|~)/u,Vv=Ze(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",_v?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Pg=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Yv=Ze(Pg,"u").replace(/punct/g,Ro).getRegex(),$v=Ze(Pg,"u").replace(/punct/g,qg).getRegex(),Fg="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Gv=Ze(Fg,"gu").replace(/notPunctSpace/g,Hg).replace(/punctSpace/g,Au).replace(/punct/g,Ro).getRegex(),Qv=Ze(Fg,"gu").replace(/notPunctSpace/g,Fv).replace(/punctSpace/g,Pv).replace(/punct/g,qg).getRegex(),Xv=Ze("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Hg).replace(/punctSpace/g,Au).replace(/punct/g,Ro).getRegex(),Zv=Ze(/\\(punct)/,"gu").replace(/punct/g,Ro).getRegex(),Wv=Ze(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Kv=Ze(Cu).replace("(?:-->|$)","-->").getRegex(),Jv=Ze("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Kv).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),So=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,ej=Ze(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",So).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Vg=Ze(/^!?\[(label)\]\[(ref)\]/).replace("label",So).replace("ref",ku).getRegex(),Yg=Ze(/^!?\[(ref)\](?:\[\])?/).replace("ref",ku).getRegex(),tj=Ze("reflink|nolink(?!\\()","g").replace("reflink",Vg).replace("nolink",Yg).getRegex(),Yx=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Tu={_backpedal:Ur,anyPunctuation:Zv,autolink:Wv,blockSkip:Vv,br:Ig,code:Iv,del:Ur,emStrongLDelim:Yv,emStrongRDelimAst:Gv,emStrongRDelimUnd:Xv,escape:Bv,link:ej,nolink:Yg,punctuation:qv,reflink:Vg,reflinkSearch:tj,tag:Jv,text:Hv,url:Ur},aj={...Tu,link:Ze(/^!?\[(label)\]\((.*?)\)/).replace("label",So).getRegex(),reflink:Ze(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",So).getRegex()},iu={...Tu,emStrongRDelimAst:Qv,emStrongLDelim:$v,url:Ze(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Yx).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Ze(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Yx).getRegex()},sj={...iu,br:Ze(Ig).replace("{2,}","*").getRegex(),text:Ze(iu.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ro={normal:Eu,gfm:zv,pedantic:Uv},wr={normal:Tu,gfm:iu,breaks:sj,pedantic:aj},nj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$x=n=>nj[n];function Us(n,r){if(r){if(oa.escapeTest.test(n))return n.replace(oa.escapeReplace,$x)}else if(oa.escapeTestNoEncode.test(n))return n.replace(oa.escapeReplaceNoEncode,$x);return n}function Gx(n){try{n=encodeURI(n).replace(oa.percentDecode,"%")}catch{return null}return n}function Qx(n,r){var f;let i=n.replace(oa.findPipe,(m,h,g)=>{let x=!1,v=h;for(;--v>=0&&g[v]==="\\";)x=!x;return x?"|":" |"}),c=i.split(oa.splitPipe),u=0;if(c[0].trim()||c.shift(),c.length>0&&!((f=c.at(-1))!=null&&f.trim())&&c.pop(),r)if(c.length>r)c.splice(r);else for(;c.length<r;)c.push("");for(;u<c.length;u++)c[u]=c[u].trim().replace(oa.slashPipe,"|");return c}function _r(n,r,i){let c=n.length;if(c===0)return"";let u=0;for(;u<c&&n.charAt(c-u-1)===r;)u++;return n.slice(0,c-u)}function lj(n,r){if(n.indexOf(r[1])===-1)return-1;let i=0;for(let c=0;c<n.length;c++)if(n[c]==="\\")c++;else if(n[c]===r[0])i++;else if(n[c]===r[1]&&(i--,i<0))return c;return i>0?-2:-1}function Xx(n,r,i,c,u){let f=r.href,m=r.title||null,h=n[1].replace(u.other.outputLinkReplace,"$1");c.state.inLink=!0;let g={type:n[0].charAt(0)==="!"?"image":"link",raw:i,href:f,title:m,text:h,tokens:c.inlineTokens(h)};return c.state.inLink=!1,g}function rj(n,r,i){let c=n.match(i.other.indentCodeCompensation);if(c===null)return r;let u=c[1];return r.split(`
`).map(f=>{let m=f.match(i.other.beginningSpace);if(m===null)return f;let[h]=m;return h.length>=u.length?f.slice(u.length):f}).join(`
`)}var wo=class{constructor(n){it(this,"options");it(this,"rules");it(this,"lexer");this.options=n||Bn}space(n){let r=this.rules.block.newline.exec(n);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(n){let r=this.rules.block.code.exec(n);if(r){let i=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?i:_r(i,`
`)}}}fences(n){let r=this.rules.block.fences.exec(n);if(r){let i=r[0],c=rj(i,r[3]||"",this.rules);return{type:"code",raw:i,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:c}}}heading(n){let r=this.rules.block.heading.exec(n);if(r){let i=r[2].trim();if(this.rules.other.endingHash.test(i)){let c=_r(i,"#");(this.options.pedantic||!c||this.rules.other.endingSpaceChar.test(c))&&(i=c.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(n){let r=this.rules.block.hr.exec(n);if(r)return{type:"hr",raw:_r(r[0],`
`)}}blockquote(n){let r=this.rules.block.blockquote.exec(n);if(r){let i=_r(r[0],`
`).split(`
`),c="",u="",f=[];for(;i.length>0;){let m=!1,h=[],g;for(g=0;g<i.length;g++)if(this.rules.other.blockquoteStart.test(i[g]))h.push(i[g]),m=!0;else if(!m)h.push(i[g]);else break;i=i.slice(g);let x=h.join(`
`),v=x.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");c=c?`${c}
${x}`:x,u=u?`${u}
${v}`:v;let y=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,f,!0),this.lexer.state.top=y,i.length===0)break;let w=f.at(-1);if((w==null?void 0:w.type)==="code")break;if((w==null?void 0:w.type)==="blockquote"){let N=w,C=N.raw+`
`+i.join(`
`),_=this.blockquote(C);f[f.length-1]=_,c=c.substring(0,c.length-N.raw.length)+_.raw,u=u.substring(0,u.length-N.text.length)+_.text;break}else if((w==null?void 0:w.type)==="list"){let N=w,C=N.raw+`
`+i.join(`
`),_=this.list(C);f[f.length-1]=_,c=c.substring(0,c.length-w.raw.length)+_.raw,u=u.substring(0,u.length-N.raw.length)+_.raw,i=C.substring(f.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:c,tokens:f,text:u}}}list(n){var i,c;let r=this.rules.block.list.exec(n);if(r){let u=r[1].trim(),f=u.length>1,m={type:"list",raw:"",ordered:f,start:f?+u.slice(0,-1):"",loose:!1,items:[]};u=f?`\\d{1,9}\\${u.slice(-1)}`:`\\${u}`,this.options.pedantic&&(u=f?u:"[*+-]");let h=this.rules.other.listItemRegex(u),g=!1;for(;n;){let v=!1,y="",w="";if(!(r=h.exec(n))||this.rules.block.hr.test(n))break;y=r[0],n=n.substring(y.length);let N=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,L=>" ".repeat(3*L.length)),C=n.split(`
`,1)[0],_=!N.trim(),T=0;if(this.options.pedantic?(T=2,w=N.trimStart()):_?T=r[1].length+1:(T=r[2].search(this.rules.other.nonSpaceChar),T=T>4?1:T,w=N.slice(T),T+=r[1].length),_&&this.rules.other.blankLine.test(C)&&(y+=C+`
`,n=n.substring(C.length+1),v=!0),!v){let L=this.rules.other.nextBulletRegex(T),Y=this.rules.other.hrRegex(T),U=this.rules.other.fencesBeginRegex(T),P=this.rules.other.headingBeginRegex(T),k=this.rules.other.htmlBeginRegex(T);for(;n;){let A=n.split(`
`,1)[0],O;if(C=A,this.options.pedantic?(C=C.replace(this.rules.other.listReplaceNesting,"  "),O=C):O=C.replace(this.rules.other.tabCharGlobal,"    "),U.test(C)||P.test(C)||k.test(C)||L.test(C)||Y.test(C))break;if(O.search(this.rules.other.nonSpaceChar)>=T||!C.trim())w+=`
`+O.slice(T);else{if(_||N.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||U.test(N)||P.test(N)||Y.test(N))break;w+=`
`+C}!_&&!C.trim()&&(_=!0),y+=A+`
`,n=n.substring(A.length+1),N=O.slice(T)}}m.loose||(g?m.loose=!0:this.rules.other.doubleBlankLine.test(y)&&(g=!0)),m.items.push({type:"list_item",raw:y,task:!!this.options.gfm&&this.rules.other.listIsTask.test(w),loose:!1,text:w,tokens:[]}),m.raw+=y}let x=m.items.at(-1);if(x)x.raw=x.raw.trimEnd(),x.text=x.text.trimEnd();else return;m.raw=m.raw.trimEnd();for(let v of m.items){if(this.lexer.state.top=!1,v.tokens=this.lexer.blockTokens(v.text,[]),v.task){if(v.text=v.text.replace(this.rules.other.listReplaceTask,""),((i=v.tokens[0])==null?void 0:i.type)==="text"||((c=v.tokens[0])==null?void 0:c.type)==="paragraph"){v.tokens[0].raw=v.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),v.tokens[0].text=v.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let w=this.lexer.inlineQueue.length-1;w>=0;w--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[w].src)){this.lexer.inlineQueue[w].src=this.lexer.inlineQueue[w].src.replace(this.rules.other.listReplaceTask,"");break}}let y=this.rules.other.listTaskCheckbox.exec(v.raw);if(y){let w={type:"checkbox",raw:y[0]+" ",checked:y[0]!=="[ ]"};v.checked=w.checked,m.loose?v.tokens[0]&&["paragraph","text"].includes(v.tokens[0].type)&&"tokens"in v.tokens[0]&&v.tokens[0].tokens?(v.tokens[0].raw=w.raw+v.tokens[0].raw,v.tokens[0].text=w.raw+v.tokens[0].text,v.tokens[0].tokens.unshift(w)):v.tokens.unshift({type:"paragraph",raw:w.raw,text:w.raw,tokens:[w]}):v.tokens.unshift(w)}}if(!m.loose){let y=v.tokens.filter(N=>N.type==="space"),w=y.length>0&&y.some(N=>this.rules.other.anyLine.test(N.raw));m.loose=w}}if(m.loose)for(let v of m.items){v.loose=!0;for(let y of v.tokens)y.type==="text"&&(y.type="paragraph")}return m}}html(n){let r=this.rules.block.html.exec(n);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(n){let r=this.rules.block.def.exec(n);if(r){let i=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),c=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:i,raw:r[0],href:c,title:u}}}table(n){var m;let r=this.rules.block.table.exec(n);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let i=Qx(r[1]),c=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),u=(m=r[3])!=null&&m.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],f={type:"table",raw:r[0],header:[],align:[],rows:[]};if(i.length===c.length){for(let h of c)this.rules.other.tableAlignRight.test(h)?f.align.push("right"):this.rules.other.tableAlignCenter.test(h)?f.align.push("center"):this.rules.other.tableAlignLeft.test(h)?f.align.push("left"):f.align.push(null);for(let h=0;h<i.length;h++)f.header.push({text:i[h],tokens:this.lexer.inline(i[h]),header:!0,align:f.align[h]});for(let h of u)f.rows.push(Qx(h,f.header.length).map((g,x)=>({text:g,tokens:this.lexer.inline(g),header:!1,align:f.align[x]})));return f}}lheading(n){let r=this.rules.block.lheading.exec(n);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(n){let r=this.rules.block.paragraph.exec(n);if(r){let i=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:i,tokens:this.lexer.inline(i)}}}text(n){let r=this.rules.block.text.exec(n);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(n){let r=this.rules.inline.escape.exec(n);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(n){let r=this.rules.inline.tag.exec(n);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(n){let r=this.rules.inline.link.exec(n);if(r){let i=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let f=_r(i.slice(0,-1),"\\");if((i.length-f.length)%2===0)return}else{let f=lj(r[2],"()");if(f===-2)return;if(f>-1){let m=(r[0].indexOf("!")===0?5:4)+r[1].length+f;r[2]=r[2].substring(0,f),r[0]=r[0].substring(0,m).trim(),r[3]=""}}let c=r[2],u="";if(this.options.pedantic){let f=this.rules.other.pedanticHrefTitle.exec(c);f&&(c=f[1],u=f[3])}else u=r[3]?r[3].slice(1,-1):"";return c=c.trim(),this.rules.other.startAngleBracket.test(c)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?c=c.slice(1):c=c.slice(1,-1)),Xx(r,{href:c&&c.replace(this.rules.inline.anyPunctuation,"$1"),title:u&&u.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(n,r){let i;if((i=this.rules.inline.reflink.exec(n))||(i=this.rules.inline.nolink.exec(n))){let c=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),u=r[c.toLowerCase()];if(!u){let f=i[0].charAt(0);return{type:"text",raw:f,text:f}}return Xx(i,u,i[0],this.lexer,this.rules)}}emStrong(n,r,i=""){let c=this.rules.inline.emStrongLDelim.exec(n);if(!(!c||c[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(c[1]||c[2])||!i||this.rules.inline.punctuation.exec(i))){let u=[...c[0]].length-1,f,m,h=u,g=0,x=c[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(x.lastIndex=0,r=r.slice(-1*n.length+u);(c=x.exec(r))!=null;){if(f=c[1]||c[2]||c[3]||c[4]||c[5]||c[6],!f)continue;if(m=[...f].length,c[3]||c[4]){h+=m;continue}else if((c[5]||c[6])&&u%3&&!((u+m)%3)){g+=m;continue}if(h-=m,h>0)continue;m=Math.min(m,m+h+g);let v=[...c[0]][0].length,y=n.slice(0,u+c.index+v+m);if(Math.min(u,m)%2){let N=y.slice(1,-1);return{type:"em",raw:y,text:N,tokens:this.lexer.inlineTokens(N)}}let w=y.slice(2,-2);return{type:"strong",raw:y,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(n){let r=this.rules.inline.code.exec(n);if(r){let i=r[2].replace(this.rules.other.newLineCharGlobal," "),c=this.rules.other.nonSpaceChar.test(i),u=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return c&&u&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:r[0],text:i}}}br(n){let r=this.rules.inline.br.exec(n);if(r)return{type:"br",raw:r[0]}}del(n){let r=this.rules.inline.del.exec(n);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(n){let r=this.rules.inline.autolink.exec(n);if(r){let i,c;return r[2]==="@"?(i=r[1],c="mailto:"+i):(i=r[1],c=i),{type:"link",raw:r[0],text:i,href:c,tokens:[{type:"text",raw:i,text:i}]}}}url(n){var i;let r;if(r=this.rules.inline.url.exec(n)){let c,u;if(r[2]==="@")c=r[0],u="mailto:"+c;else{let f;do f=r[0],r[0]=((i=this.rules.inline._backpedal.exec(r[0]))==null?void 0:i[0])??"";while(f!==r[0]);c=r[0],r[1]==="www."?u="http://"+r[0]:u=r[0]}return{type:"link",raw:r[0],text:c,href:u,tokens:[{type:"text",raw:c,text:c}]}}}inlineText(n){let r=this.rules.inline.text.exec(n);if(r){let i=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:i}}}},Ja=class ou{constructor(r){it(this,"tokens");it(this,"options");it(this,"state");it(this,"inlineQueue");it(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=r||Bn,this.options.tokenizer=this.options.tokenizer||new wo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let i={other:oa,block:ro.normal,inline:wr.normal};this.options.pedantic?(i.block=ro.pedantic,i.inline=wr.pedantic):this.options.gfm&&(i.block=ro.gfm,this.options.breaks?i.inline=wr.breaks:i.inline=wr.gfm),this.tokenizer.rules=i}static get rules(){return{block:ro,inline:wr}}static lex(r,i){return new ou(i).lex(r)}static lexInline(r,i){return new ou(i).inlineTokens(r)}lex(r){r=r.replace(oa.carriageReturn,`
`),this.blockTokens(r,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){let c=this.inlineQueue[i];this.inlineTokens(c.src,c.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(r,i=[],c=!1){var u,f,m;for(this.options.pedantic&&(r=r.replace(oa.tabCharGlobal,"    ").replace(oa.spaceLine,""));r;){let h;if((f=(u=this.options.extensions)==null?void 0:u.block)!=null&&f.some(x=>(h=x.call({lexer:this},r,i))?(r=r.substring(h.raw.length),i.push(h),!0):!1))continue;if(h=this.tokenizer.space(r)){r=r.substring(h.raw.length);let x=i.at(-1);h.raw.length===1&&x!==void 0?x.raw+=`
`:i.push(h);continue}if(h=this.tokenizer.code(r)){r=r.substring(h.raw.length);let x=i.at(-1);(x==null?void 0:x.type)==="paragraph"||(x==null?void 0:x.type)==="text"?(x.raw+=(x.raw.endsWith(`
`)?"":`
`)+h.raw,x.text+=`
`+h.text,this.inlineQueue.at(-1).src=x.text):i.push(h);continue}if(h=this.tokenizer.fences(r)){r=r.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.heading(r)){r=r.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.hr(r)){r=r.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.blockquote(r)){r=r.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.list(r)){r=r.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.html(r)){r=r.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.def(r)){r=r.substring(h.raw.length);let x=i.at(-1);(x==null?void 0:x.type)==="paragraph"||(x==null?void 0:x.type)==="text"?(x.raw+=(x.raw.endsWith(`
`)?"":`
`)+h.raw,x.text+=`
`+h.raw,this.inlineQueue.at(-1).src=x.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title},i.push(h));continue}if(h=this.tokenizer.table(r)){r=r.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.lheading(r)){r=r.substring(h.raw.length),i.push(h);continue}let g=r;if((m=this.options.extensions)!=null&&m.startBlock){let x=1/0,v=r.slice(1),y;this.options.extensions.startBlock.forEach(w=>{y=w.call({lexer:this},v),typeof y=="number"&&y>=0&&(x=Math.min(x,y))}),x<1/0&&x>=0&&(g=r.substring(0,x+1))}if(this.state.top&&(h=this.tokenizer.paragraph(g))){let x=i.at(-1);c&&(x==null?void 0:x.type)==="paragraph"?(x.raw+=(x.raw.endsWith(`
`)?"":`
`)+h.raw,x.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=x.text):i.push(h),c=g.length!==r.length,r=r.substring(h.raw.length);continue}if(h=this.tokenizer.text(r)){r=r.substring(h.raw.length);let x=i.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=(x.raw.endsWith(`
`)?"":`
`)+h.raw,x.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=x.text):i.push(h);continue}if(r){let x="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return this.state.top=!0,i}inline(r,i=[]){return this.inlineQueue.push({src:r,tokens:i}),i}inlineTokens(r,i=[]){var g,x,v,y,w;let c=r,u=null;if(this.tokens.links){let N=Object.keys(this.tokens.links);if(N.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)N.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(c))!=null;)c=c.slice(0,u.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let f;for(;(u=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)f=u[2]?u[2].length:0,c=c.slice(0,u.index+f)+"["+"a".repeat(u[0].length-f-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);c=((x=(g=this.options.hooks)==null?void 0:g.emStrongMask)==null?void 0:x.call({lexer:this},c))??c;let m=!1,h="";for(;r;){m||(h=""),m=!1;let N;if((y=(v=this.options.extensions)==null?void 0:v.inline)!=null&&y.some(_=>(N=_.call({lexer:this},r,i))?(r=r.substring(N.raw.length),i.push(N),!0):!1))continue;if(N=this.tokenizer.escape(r)){r=r.substring(N.raw.length),i.push(N);continue}if(N=this.tokenizer.tag(r)){r=r.substring(N.raw.length),i.push(N);continue}if(N=this.tokenizer.link(r)){r=r.substring(N.raw.length),i.push(N);continue}if(N=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(N.raw.length);let _=i.at(-1);N.type==="text"&&(_==null?void 0:_.type)==="text"?(_.raw+=N.raw,_.text+=N.text):i.push(N);continue}if(N=this.tokenizer.emStrong(r,c,h)){r=r.substring(N.raw.length),i.push(N);continue}if(N=this.tokenizer.codespan(r)){r=r.substring(N.raw.length),i.push(N);continue}if(N=this.tokenizer.br(r)){r=r.substring(N.raw.length),i.push(N);continue}if(N=this.tokenizer.del(r)){r=r.substring(N.raw.length),i.push(N);continue}if(N=this.tokenizer.autolink(r)){r=r.substring(N.raw.length),i.push(N);continue}if(!this.state.inLink&&(N=this.tokenizer.url(r))){r=r.substring(N.raw.length),i.push(N);continue}let C=r;if((w=this.options.extensions)!=null&&w.startInline){let _=1/0,T=r.slice(1),L;this.options.extensions.startInline.forEach(Y=>{L=Y.call({lexer:this},T),typeof L=="number"&&L>=0&&(_=Math.min(_,L))}),_<1/0&&_>=0&&(C=r.substring(0,_+1))}if(N=this.tokenizer.inlineText(C)){r=r.substring(N.raw.length),N.raw.slice(-1)!=="_"&&(h=N.raw.slice(-1)),m=!0;let _=i.at(-1);(_==null?void 0:_.type)==="text"?(_.raw+=N.raw,_.text+=N.text):i.push(N);continue}if(r){let _="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return i}},_o=class{constructor(n){it(this,"options");it(this,"parser");this.options=n||Bn}space(n){return""}code({text:n,lang:r,escaped:i}){var f;let c=(f=(r||"").match(oa.notSpaceStart))==null?void 0:f[0],u=n.replace(oa.endingNewline,"")+`
`;return c?'<pre><code class="language-'+Us(c)+'">'+(i?u:Us(u,!0))+`</code></pre>
`:"<pre><code>"+(i?u:Us(u,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}def(n){return""}heading({tokens:n,depth:r}){return`<h${r}>${this.parser.parseInline(n)}</h${r}>
`}hr(n){return`<hr>
`}list(n){let r=n.ordered,i=n.start,c="";for(let m=0;m<n.items.length;m++){let h=n.items[m];c+=this.listitem(h)}let u=r?"ol":"ul",f=r&&i!==1?' start="'+i+'"':"";return"<"+u+f+`>
`+c+"</"+u+`>
`}listitem(n){return`<li>${this.parser.parse(n.tokens)}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let r="",i="";for(let u=0;u<n.header.length;u++)i+=this.tablecell(n.header[u]);r+=this.tablerow({text:i});let c="";for(let u=0;u<n.rows.length;u++){let f=n.rows[u];i="";for(let m=0;m<f.length;m++)i+=this.tablecell(f[m]);c+=this.tablerow({text:i})}return c&&(c=`<tbody>${c}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+c+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let r=this.parser.parseInline(n.tokens),i=n.header?"th":"td";return(n.align?`<${i} align="${n.align}">`:`<${i}>`)+r+`</${i}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${Us(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:r,tokens:i}){let c=this.parser.parseInline(i),u=Gx(n);if(u===null)return c;n=u;let f='<a href="'+n+'"';return r&&(f+=' title="'+Us(r)+'"'),f+=">"+c+"</a>",f}image({href:n,title:r,text:i,tokens:c}){c&&(i=this.parser.parseInline(c,this.parser.textRenderer));let u=Gx(n);if(u===null)return Us(i);n=u;let f=`<img src="${n}" alt="${i}"`;return r&&(f+=` title="${Us(r)}"`),f+=">",f}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:Us(n.text)}},Ru=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}checkbox({raw:n}){return n}},es=class cu{constructor(r){it(this,"options");it(this,"renderer");it(this,"textRenderer");this.options=r||Bn,this.options.renderer=this.options.renderer||new _o,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ru}static parse(r,i){return new cu(i).parse(r)}static parseInline(r,i){return new cu(i).parseInline(r)}parse(r){var c,u;let i="";for(let f=0;f<r.length;f++){let m=r[f];if((u=(c=this.options.extensions)==null?void 0:c.renderers)!=null&&u[m.type]){let g=m,x=this.options.extensions.renderers[g.type].call({parser:this},g);if(x!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(g.type)){i+=x||"";continue}}let h=m;switch(h.type){case"space":{i+=this.renderer.space(h);break}case"hr":{i+=this.renderer.hr(h);break}case"heading":{i+=this.renderer.heading(h);break}case"code":{i+=this.renderer.code(h);break}case"table":{i+=this.renderer.table(h);break}case"blockquote":{i+=this.renderer.blockquote(h);break}case"list":{i+=this.renderer.list(h);break}case"checkbox":{i+=this.renderer.checkbox(h);break}case"html":{i+=this.renderer.html(h);break}case"def":{i+=this.renderer.def(h);break}case"paragraph":{i+=this.renderer.paragraph(h);break}case"text":{i+=this.renderer.text(h);break}default:{let g='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return i}parseInline(r,i=this.renderer){var u,f;let c="";for(let m=0;m<r.length;m++){let h=r[m];if((f=(u=this.options.extensions)==null?void 0:u.renderers)!=null&&f[h.type]){let x=this.options.extensions.renderers[h.type].call({parser:this},h);if(x!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){c+=x||"";continue}}let g=h;switch(g.type){case"escape":{c+=i.text(g);break}case"html":{c+=i.html(g);break}case"link":{c+=i.link(g);break}case"image":{c+=i.image(g);break}case"checkbox":{c+=i.checkbox(g);break}case"strong":{c+=i.strong(g);break}case"em":{c+=i.em(g);break}case"codespan":{c+=i.codespan(g);break}case"br":{c+=i.br(g);break}case"del":{c+=i.del(g);break}case"text":{c+=i.text(g);break}default:{let x='Token with "'+g.type+'" type was not found.';if(this.options.silent)return console.error(x),"";throw new Error(x)}}}return c}},xo,Mr=(xo=class{constructor(n){it(this,"options");it(this,"block");this.options=n||Bn}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}emStrongMask(n){return n}provideLexer(){return this.block?Ja.lex:Ja.lexInline}provideParser(){return this.block?es.parse:es.parseInline}},it(xo,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),it(xo,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),xo),ij=class{constructor(...n){it(this,"defaults",Su());it(this,"options",this.setOptions);it(this,"parse",this.parseMarkdown(!0));it(this,"parseInline",this.parseMarkdown(!1));it(this,"Parser",es);it(this,"Renderer",_o);it(this,"TextRenderer",Ru);it(this,"Lexer",Ja);it(this,"Tokenizer",wo);it(this,"Hooks",Mr);this.use(...n)}walkTokens(n,r){var c,u;let i=[];for(let f of n)switch(i=i.concat(r.call(this,f)),f.type){case"table":{let m=f;for(let h of m.header)i=i.concat(this.walkTokens(h.tokens,r));for(let h of m.rows)for(let g of h)i=i.concat(this.walkTokens(g.tokens,r));break}case"list":{let m=f;i=i.concat(this.walkTokens(m.items,r));break}default:{let m=f;(u=(c=this.defaults.extensions)==null?void 0:c.childTokens)!=null&&u[m.type]?this.defaults.extensions.childTokens[m.type].forEach(h=>{let g=m[h].flat(1/0);i=i.concat(this.walkTokens(g,r))}):m.tokens&&(i=i.concat(this.walkTokens(m.tokens,r)))}}return i}use(...n){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(i=>{let c={...i};if(c.async=this.defaults.async||c.async||!1,i.extensions&&(i.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){let f=r.renderers[u.name];f?r.renderers[u.name]=function(...m){let h=u.renderer.apply(this,m);return h===!1&&(h=f.apply(this,m)),h}:r.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let f=r[u.level];f?f.unshift(u.tokenizer):r[u.level]=[u.tokenizer],u.start&&(u.level==="block"?r.startBlock?r.startBlock.push(u.start):r.startBlock=[u.start]:u.level==="inline"&&(r.startInline?r.startInline.push(u.start):r.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(r.childTokens[u.name]=u.childTokens)}),c.extensions=r),i.renderer){let u=this.defaults.renderer||new _o(this.defaults);for(let f in i.renderer){if(!(f in u))throw new Error(`renderer '${f}' does not exist`);if(["options","parser"].includes(f))continue;let m=f,h=i.renderer[m],g=u[m];u[m]=(...x)=>{let v=h.apply(u,x);return v===!1&&(v=g.apply(u,x)),v||""}}c.renderer=u}if(i.tokenizer){let u=this.defaults.tokenizer||new wo(this.defaults);for(let f in i.tokenizer){if(!(f in u))throw new Error(`tokenizer '${f}' does not exist`);if(["options","rules","lexer"].includes(f))continue;let m=f,h=i.tokenizer[m],g=u[m];u[m]=(...x)=>{let v=h.apply(u,x);return v===!1&&(v=g.apply(u,x)),v}}c.tokenizer=u}if(i.hooks){let u=this.defaults.hooks||new Mr;for(let f in i.hooks){if(!(f in u))throw new Error(`hook '${f}' does not exist`);if(["options","block"].includes(f))continue;let m=f,h=i.hooks[m],g=u[m];Mr.passThroughHooks.has(f)?u[m]=x=>{if(this.defaults.async&&Mr.passThroughHooksRespectAsync.has(f))return(async()=>{let y=await h.call(u,x);return g.call(u,y)})();let v=h.call(u,x);return g.call(u,v)}:u[m]=(...x)=>{if(this.defaults.async)return(async()=>{let y=await h.apply(u,x);return y===!1&&(y=await g.apply(u,x)),y})();let v=h.apply(u,x);return v===!1&&(v=g.apply(u,x)),v}}c.hooks=u}if(i.walkTokens){let u=this.defaults.walkTokens,f=i.walkTokens;c.walkTokens=function(m){let h=[];return h.push(f.call(this,m)),u&&(h=h.concat(u.call(this,m))),h}}this.defaults={...this.defaults,...c}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,r){return Ja.lex(n,r??this.defaults)}parser(n,r){return es.parse(n,r??this.defaults)}parseMarkdown(n){return(r,i)=>{let c={...i},u={...this.defaults,...c},f=this.onError(!!u.silent,!!u.async);if(this.defaults.async===!0&&c.async===!1)return f(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return f(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return f(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(u.hooks&&(u.hooks.options=u,u.hooks.block=n),u.async)return(async()=>{let m=u.hooks?await u.hooks.preprocess(r):r,h=await(u.hooks?await u.hooks.provideLexer():n?Ja.lex:Ja.lexInline)(m,u),g=u.hooks?await u.hooks.processAllTokens(h):h;u.walkTokens&&await Promise.all(this.walkTokens(g,u.walkTokens));let x=await(u.hooks?await u.hooks.provideParser():n?es.parse:es.parseInline)(g,u);return u.hooks?await u.hooks.postprocess(x):x})().catch(f);try{u.hooks&&(r=u.hooks.preprocess(r));let m=(u.hooks?u.hooks.provideLexer():n?Ja.lex:Ja.lexInline)(r,u);u.hooks&&(m=u.hooks.processAllTokens(m)),u.walkTokens&&this.walkTokens(m,u.walkTokens);let h=(u.hooks?u.hooks.provideParser():n?es.parse:es.parseInline)(m,u);return u.hooks&&(h=u.hooks.postprocess(h)),h}catch(m){return f(m)}}}onError(n,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let c="<p>An error occurred:</p><pre>"+Us(i.message+"",!0)+"</pre>";return r?Promise.resolve(c):c}if(r)return Promise.reject(i);throw i}}},Un=new ij;function Je(n,r){return Un.parse(n,r)}Je.options=Je.setOptions=function(n){return Un.setOptions(n),Je.defaults=Un.defaults,Og(Je.defaults),Je};Je.getDefaults=Su;Je.defaults=Bn;Je.use=function(...n){return Un.use(...n),Je.defaults=Un.defaults,Og(Je.defaults),Je};Je.walkTokens=function(n,r){return Un.walkTokens(n,r)};Je.parseInline=Un.parseInline;Je.Parser=es;Je.parser=es.parse;Je.Renderer=_o;Je.TextRenderer=Ru;Je.Lexer=Ja;Je.lexer=Ja.lex;Je.Tokenizer=wo;Je.Hooks=Mr;Je.parse=Je;Je.options;Je.setOptions;Je.use;Je.walkTokens;Je.parseInline;es.parse;Ja.lex;/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:$g,setPrototypeOf:Zx,isFrozen:oj,getPrototypeOf:cj,getOwnPropertyDescriptor:dj}=Object;let{freeze:ca,seal:Va,create:du}=Object,{apply:uu,construct:mu}=typeof Reflect<"u"&&Reflect;ca||(ca=function(r){return r});Va||(Va=function(r){return r});uu||(uu=function(r,i){for(var c=arguments.length,u=new Array(c>2?c-2:0),f=2;f<c;f++)u[f-2]=arguments[f];return r.apply(i,u)});mu||(mu=function(r){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return new r(...c)});const io=da(Array.prototype.forEach),uj=da(Array.prototype.lastIndexOf),Wx=da(Array.prototype.pop),kr=da(Array.prototype.push),mj=da(Array.prototype.splice),bo=da(String.prototype.toLowerCase),Qd=da(String.prototype.toString),Xd=da(String.prototype.match),Cr=da(String.prototype.replace),fj=da(String.prototype.indexOf),hj=da(String.prototype.trim),Ka=da(Object.prototype.hasOwnProperty),ra=da(RegExp.prototype.test),Er=xj(TypeError);function da(n){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return uu(n,r,c)}}function xj(n){return function(){for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return mu(n,i)}}function Fe(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bo;Zx&&Zx(n,null);let c=r.length;for(;c--;){let u=r[c];if(typeof u=="string"){const f=i(u);f!==u&&(oj(r)||(r[c]=f),u=f)}n[u]=!0}return n}function gj(n){for(let r=0;r<n.length;r++)Ka(n,r)||(n[r]=null);return n}function Bs(n){const r=du(null);for(const[i,c]of $g(n))Ka(n,i)&&(Array.isArray(c)?r[i]=gj(c):c&&typeof c=="object"&&c.constructor===Object?r[i]=Bs(c):r[i]=c);return r}function Ar(n,r){for(;n!==null;){const c=dj(n,r);if(c){if(c.get)return da(c.get);if(typeof c.value=="function")return da(c.value)}n=cj(n)}function i(){return null}return i}const Kx=ca(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zd=ca(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Wd=ca(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),pj=ca(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Kd=ca(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bj=ca(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jx=ca(["#text"]),eg=ca(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Jd=ca(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tg=ca(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),oo=ca(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yj=Va(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vj=Va(/<%[\w\W]*|[\w\W]*%>/gm),jj=Va(/\$\{[\w\W]*/gm),Nj=Va(/^data-[\-\w.\u00B7-\uFFFF]+$/),Sj=Va(/^aria-[\-\w]+$/),Gg=Va(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wj=Va(/^(?:\w+script|data):/i),_j=Va(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Qg=Va(/^html$/i),kj=Va(/^[a-z][.\w]*(-[.\w]+)+$/i);var ag=Object.freeze({__proto__:null,ARIA_ATTR:Sj,ATTR_WHITESPACE:_j,CUSTOM_ELEMENT:kj,DATA_ATTR:Nj,DOCTYPE_NAME:Qg,ERB_EXPR:vj,IS_ALLOWED_URI:Gg,IS_SCRIPT_OR_DATA:wj,MUSTACHE_EXPR:yj,TMPLIT_EXPR:jj});const Tr={element:1,text:3,progressingInstruction:7,comment:8,document:9},Cj=function(){return typeof window>"u"?null:window},Ej=function(r,i){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let c=null;const u="data-tt-policy-suffix";i&&i.hasAttribute(u)&&(c=i.getAttribute(u));const f="dompurify"+(c?"#"+c:"");try{return r.createPolicy(f,{createHTML(m){return m},createScriptURL(m){return m}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},sg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Xg(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cj();const r=we=>Xg(we);if(r.version="3.3.0",r.removed=[],!n||!n.document||n.document.nodeType!==Tr.document||!n.Element)return r.isSupported=!1,r;let{document:i}=n;const c=i,u=c.currentScript,{DocumentFragment:f,HTMLTemplateElement:m,Node:h,Element:g,NodeFilter:x,NamedNodeMap:v=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:y,DOMParser:w,trustedTypes:N}=n,C=g.prototype,_=Ar(C,"cloneNode"),T=Ar(C,"remove"),L=Ar(C,"nextSibling"),Y=Ar(C,"childNodes"),U=Ar(C,"parentNode");if(typeof m=="function"){const we=i.createElement("template");we.content&&we.content.ownerDocument&&(i=we.content.ownerDocument)}let P,k="";const{implementation:A,createNodeIterator:O,createDocumentFragment:ae,getElementsByTagName:H}=i,{importNode:$}=c;let ee=sg();r.isSupported=typeof $g=="function"&&typeof U=="function"&&A&&A.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:J,ERB_EXPR:D,TMPLIT_EXPR:E,DATA_ATTR:W,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:I}=ag;let{IS_ALLOWED_URI:G}=ag,S=null;const Q=Fe({},[...Kx,...Zd,...Wd,...Kd,...Jx]);let le=null;const be=Fe({},[...eg,...Jd,...tg,...oo]);let ge=Object.seal(du(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),je=null,ue=null;const ye=Object.seal(du(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Oe=!0,me=!0,Me=!1,kt=!0,yt=!1,ot=!0,Ut=!1,ea=!1,Qa=!1,Ht=!1,Zt=!1,qt=!1,Ft=!0,ds=!1;const Ys="user-content-";let dt=!0,ua=!1,ta={},aa=null;const va=Fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Wt=null;const sa=Fe({},["audio","video","img","source","image","track"]);let us=null;const ms=Fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),na="http://www.w3.org/1998/Math/MathML",vt="http://www.w3.org/2000/svg",Nt="http://www.w3.org/1999/xhtml";let xt=Nt,fs=!1,hs=null;const xs=Fe({},[na,vt,Nt],Qd);let se=Fe({},["mi","mo","mn","ms","mtext"]),Ae=Fe({},["annotation-xml"]);const We=Fe({},["title","style","font","a","script"]);let st=null;const $s=["application/xhtml+xml","text/html"],gs="text/html";let St=null,re=null;const pe=i.createElement("form"),Se=function(z){return z instanceof RegExp||z instanceof Function},Re=function(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(re&&re===z)){if((!z||typeof z!="object")&&(z={}),z=Bs(z),st=$s.indexOf(z.PARSER_MEDIA_TYPE)===-1?gs:z.PARSER_MEDIA_TYPE,St=st==="application/xhtml+xml"?Qd:bo,S=Ka(z,"ALLOWED_TAGS")?Fe({},z.ALLOWED_TAGS,St):Q,le=Ka(z,"ALLOWED_ATTR")?Fe({},z.ALLOWED_ATTR,St):be,hs=Ka(z,"ALLOWED_NAMESPACES")?Fe({},z.ALLOWED_NAMESPACES,Qd):xs,us=Ka(z,"ADD_URI_SAFE_ATTR")?Fe(Bs(ms),z.ADD_URI_SAFE_ATTR,St):ms,Wt=Ka(z,"ADD_DATA_URI_TAGS")?Fe(Bs(sa),z.ADD_DATA_URI_TAGS,St):sa,aa=Ka(z,"FORBID_CONTENTS")?Fe({},z.FORBID_CONTENTS,St):va,je=Ka(z,"FORBID_TAGS")?Fe({},z.FORBID_TAGS,St):Bs({}),ue=Ka(z,"FORBID_ATTR")?Fe({},z.FORBID_ATTR,St):Bs({}),ta=Ka(z,"USE_PROFILES")?z.USE_PROFILES:!1,Oe=z.ALLOW_ARIA_ATTR!==!1,me=z.ALLOW_DATA_ATTR!==!1,Me=z.ALLOW_UNKNOWN_PROTOCOLS||!1,kt=z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,yt=z.SAFE_FOR_TEMPLATES||!1,ot=z.SAFE_FOR_XML!==!1,Ut=z.WHOLE_DOCUMENT||!1,Ht=z.RETURN_DOM||!1,Zt=z.RETURN_DOM_FRAGMENT||!1,qt=z.RETURN_TRUSTED_TYPE||!1,Qa=z.FORCE_BODY||!1,Ft=z.SANITIZE_DOM!==!1,ds=z.SANITIZE_NAMED_PROPS||!1,dt=z.KEEP_CONTENT!==!1,ua=z.IN_PLACE||!1,G=z.ALLOWED_URI_REGEXP||Gg,xt=z.NAMESPACE||Nt,se=z.MATHML_TEXT_INTEGRATION_POINTS||se,Ae=z.HTML_INTEGRATION_POINTS||Ae,ge=z.CUSTOM_ELEMENT_HANDLING||{},z.CUSTOM_ELEMENT_HANDLING&&Se(z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ge.tagNameCheck=z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),z.CUSTOM_ELEMENT_HANDLING&&Se(z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ge.attributeNameCheck=z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),z.CUSTOM_ELEMENT_HANDLING&&typeof z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ge.allowCustomizedBuiltInElements=z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),yt&&(me=!1),Zt&&(Ht=!0),ta&&(S=Fe({},Jx),le=[],ta.html===!0&&(Fe(S,Kx),Fe(le,eg)),ta.svg===!0&&(Fe(S,Zd),Fe(le,Jd),Fe(le,oo)),ta.svgFilters===!0&&(Fe(S,Wd),Fe(le,Jd),Fe(le,oo)),ta.mathMl===!0&&(Fe(S,Kd),Fe(le,tg),Fe(le,oo))),z.ADD_TAGS&&(typeof z.ADD_TAGS=="function"?ye.tagCheck=z.ADD_TAGS:(S===Q&&(S=Bs(S)),Fe(S,z.ADD_TAGS,St))),z.ADD_ATTR&&(typeof z.ADD_ATTR=="function"?ye.attributeCheck=z.ADD_ATTR:(le===be&&(le=Bs(le)),Fe(le,z.ADD_ATTR,St))),z.ADD_URI_SAFE_ATTR&&Fe(us,z.ADD_URI_SAFE_ATTR,St),z.FORBID_CONTENTS&&(aa===va&&(aa=Bs(aa)),Fe(aa,z.FORBID_CONTENTS,St)),dt&&(S["#text"]=!0),Ut&&Fe(S,["html","head","body"]),S.table&&(Fe(S,["tbody"]),delete je.tbody),z.TRUSTED_TYPES_POLICY){if(typeof z.TRUSTED_TYPES_POLICY.createHTML!="function")throw Er('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Er('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=z.TRUSTED_TYPES_POLICY,k=P.createHTML("")}else P===void 0&&(P=Ej(N,u)),P!==null&&typeof k=="string"&&(k=P.createHTML(""));ca&&ca(z),re=z}},De=Fe({},[...Zd,...Wd,...pj]),Ee=Fe({},[...Kd,...bj]),ut=function(z){let fe=U(z);(!fe||!fe.tagName)&&(fe={namespaceURI:xt,tagName:"template"});const ve=bo(z.tagName),et=bo(fe.tagName);return hs[z.namespaceURI]?z.namespaceURI===vt?fe.namespaceURI===Nt?ve==="svg":fe.namespaceURI===na?ve==="svg"&&(et==="annotation-xml"||se[et]):!!De[ve]:z.namespaceURI===na?fe.namespaceURI===Nt?ve==="math":fe.namespaceURI===vt?ve==="math"&&Ae[et]:!!Ee[ve]:z.namespaceURI===Nt?fe.namespaceURI===vt&&!Ae[et]||fe.namespaceURI===na&&!se[et]?!1:!Ee[ve]&&(We[ve]||!De[ve]):!!(st==="application/xhtml+xml"&&hs[z.namespaceURI]):!1},mt=function(z){kr(r.removed,{element:z});try{U(z).removeChild(z)}catch{T(z)}},Ct=function(z,fe){try{kr(r.removed,{attribute:fe.getAttributeNode(z),from:fe})}catch{kr(r.removed,{attribute:null,from:fe})}if(fe.removeAttribute(z),z==="is")if(Ht||Zt)try{mt(fe)}catch{}else try{fe.setAttribute(z,"")}catch{}},ma=function(z){let fe=null,ve=null;if(Qa)z="<remove></remove>"+z;else{const He=Xd(z,/^[\r\n\t ]+/);ve=He&&He[0]}st==="application/xhtml+xml"&&xt===Nt&&(z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+z+"</body></html>");const et=P?P.createHTML(z):z;if(xt===Nt)try{fe=new w().parseFromString(et,st)}catch{}if(!fe||!fe.documentElement){fe=A.createDocument(xt,"template",null);try{fe.documentElement.innerHTML=fs?k:et}catch{}}const jt=fe.body||fe.documentElement;return z&&ve&&jt.insertBefore(i.createTextNode(ve),jt.childNodes[0]||null),xt===Nt?H.call(fe,Ut?"html":"body")[0]:Ut?fe.documentElement:jt},Tl=function(z){return O.call(z.ownerDocument||z,z,x.SHOW_ELEMENT|x.SHOW_COMMENT|x.SHOW_TEXT|x.SHOW_PROCESSING_INSTRUCTION|x.SHOW_CDATA_SECTION,null)},Ta=function(z){return z instanceof y&&(typeof z.nodeName!="string"||typeof z.textContent!="string"||typeof z.removeChild!="function"||!(z.attributes instanceof v)||typeof z.removeAttribute!="function"||typeof z.setAttribute!="function"||typeof z.namespaceURI!="string"||typeof z.insertBefore!="function"||typeof z.hasChildNodes!="function")},Rt=function(z){return typeof h=="function"&&z instanceof h};function gt(we,z,fe){io(we,ve=>{ve.call(r,z,fe,re)})}const ps=function(z){let fe=null;if(gt(ee.beforeSanitizeElements,z,null),Ta(z))return mt(z),!0;const ve=St(z.nodeName);if(gt(ee.uponSanitizeElement,z,{tagName:ve,allowedTags:S}),ot&&z.hasChildNodes()&&!Rt(z.firstElementChild)&&ra(/<[/\w!]/g,z.innerHTML)&&ra(/<[/\w!]/g,z.textContent)||z.nodeType===Tr.progressingInstruction||ot&&z.nodeType===Tr.comment&&ra(/<[/\w]/g,z.data))return mt(z),!0;if(!(ye.tagCheck instanceof Function&&ye.tagCheck(ve))&&(!S[ve]||je[ve])){if(!je[ve]&&Vr(ve)&&(ge.tagNameCheck instanceof RegExp&&ra(ge.tagNameCheck,ve)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(ve)))return!1;if(dt&&!aa[ve]){const et=U(z)||z.parentNode,jt=Y(z)||z.childNodes;if(jt&&et){const He=jt.length;for(let Vt=He-1;Vt>=0;--Vt){const Ra=_(jt[Vt],!0);Ra.__removalCount=(z.__removalCount||0)+1,et.insertBefore(Ra,L(z))}}}return mt(z),!0}return z instanceof g&&!ut(z)||(ve==="noscript"||ve==="noembed"||ve==="noframes")&&ra(/<\/no(script|embed|frames)/i,z.innerHTML)?(mt(z),!0):(yt&&z.nodeType===Tr.text&&(fe=z.textContent,io([J,D,E],et=>{fe=Cr(fe,et," ")}),z.textContent!==fe&&(kr(r.removed,{element:z.cloneNode()}),z.textContent=fe)),gt(ee.afterSanitizeElements,z,null),!1)},In=function(z,fe,ve){if(Ft&&(fe==="id"||fe==="name")&&(ve in i||ve in pe))return!1;if(!(me&&!ue[fe]&&ra(W,fe))){if(!(Oe&&ra(M,fe))){if(!(ye.attributeCheck instanceof Function&&ye.attributeCheck(fe,z))){if(!le[fe]||ue[fe]){if(!(Vr(z)&&(ge.tagNameCheck instanceof RegExp&&ra(ge.tagNameCheck,z)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(z))&&(ge.attributeNameCheck instanceof RegExp&&ra(ge.attributeNameCheck,fe)||ge.attributeNameCheck instanceof Function&&ge.attributeNameCheck(fe,z))||fe==="is"&&ge.allowCustomizedBuiltInElements&&(ge.tagNameCheck instanceof RegExp&&ra(ge.tagNameCheck,ve)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(ve))))return!1}else if(!us[fe]){if(!ra(G,Cr(ve,F,""))){if(!((fe==="src"||fe==="xlink:href"||fe==="href")&&z!=="script"&&fj(ve,"data:")===0&&Wt[z])){if(!(Me&&!ra(q,Cr(ve,F,"")))){if(ve)return!1}}}}}}}return!0},Vr=function(z){return z!=="annotation-xml"&&Xd(z,I)},Yr=function(z){gt(ee.beforeSanitizeAttributes,z,null);const{attributes:fe}=z;if(!fe||Ta(z))return;const ve={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let et=fe.length;for(;et--;){const jt=fe[et],{name:He,namespaceURI:Vt,value:Ra}=jt,fa=St(He),ns=Ra;let Bt=He==="value"?ns:hj(ns);if(ve.attrName=fa,ve.attrValue=Bt,ve.keepAttr=!0,ve.forceKeepAttr=void 0,gt(ee.uponSanitizeAttribute,z,ve),Bt=ve.attrValue,ds&&(fa==="id"||fa==="name")&&(Ct(He,z),Bt=Ys+Bt),ot&&ra(/((--!?|])>)|<\/(style|title|textarea)/i,Bt)){Ct(He,z);continue}if(fa==="attributename"&&Xd(Bt,"href")){Ct(He,z);continue}if(ve.forceKeepAttr)continue;if(!ve.keepAttr){Ct(He,z);continue}if(!kt&&ra(/\/>/i,Bt)){Ct(He,z);continue}yt&&io([J,D,E],Ll=>{Bt=Cr(Bt,Ll," ")});const Rl=St(z.nodeName);if(!In(Rl,fa,Bt)){Ct(He,z);continue}if(P&&typeof N=="object"&&typeof N.getAttributeType=="function"&&!Vt)switch(N.getAttributeType(Rl,fa)){case"TrustedHTML":{Bt=P.createHTML(Bt);break}case"TrustedScriptURL":{Bt=P.createScriptURL(Bt);break}}if(Bt!==ns)try{Vt?z.setAttributeNS(Vt,He,Bt):z.setAttribute(He,Bt),Ta(z)?mt(z):Wx(r.removed)}catch{Ct(He,z)}}gt(ee.afterSanitizeAttributes,z,null)},$r=function we(z){let fe=null;const ve=Tl(z);for(gt(ee.beforeSanitizeShadowDOM,z,null);fe=ve.nextNode();)gt(ee.uponSanitizeShadowNode,fe,null),ps(fe),Yr(fe),fe.content instanceof f&&we(fe.content);gt(ee.afterSanitizeShadowDOM,z,null)};return r.sanitize=function(we){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=null,ve=null,et=null,jt=null;if(fs=!we,fs&&(we="<!-->"),typeof we!="string"&&!Rt(we))if(typeof we.toString=="function"){if(we=we.toString(),typeof we!="string")throw Er("dirty is not a string, aborting")}else throw Er("toString is not a function");if(!r.isSupported)return we;if(ea||Re(z),r.removed=[],typeof we=="string"&&(ua=!1),ua){if(we.nodeName){const Ra=St(we.nodeName);if(!S[Ra]||je[Ra])throw Er("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof h)fe=ma("<!---->"),ve=fe.ownerDocument.importNode(we,!0),ve.nodeType===Tr.element&&ve.nodeName==="BODY"||ve.nodeName==="HTML"?fe=ve:fe.appendChild(ve);else{if(!Ht&&!yt&&!Ut&&we.indexOf("<")===-1)return P&&qt?P.createHTML(we):we;if(fe=ma(we),!fe)return Ht?null:qt?k:""}fe&&Qa&&mt(fe.firstChild);const He=Tl(ua?we:fe);for(;et=He.nextNode();)ps(et),Yr(et),et.content instanceof f&&$r(et.content);if(ua)return we;if(Ht){if(Zt)for(jt=ae.call(fe.ownerDocument);fe.firstChild;)jt.appendChild(fe.firstChild);else jt=fe;return(le.shadowroot||le.shadowrootmode)&&(jt=$.call(c,jt,!0)),jt}let Vt=Ut?fe.outerHTML:fe.innerHTML;return Ut&&S["!doctype"]&&fe.ownerDocument&&fe.ownerDocument.doctype&&fe.ownerDocument.doctype.name&&ra(Qg,fe.ownerDocument.doctype.name)&&(Vt="<!DOCTYPE "+fe.ownerDocument.doctype.name+`>
`+Vt),yt&&io([J,D,E],Ra=>{Vt=Cr(Vt,Ra," ")}),P&&qt?P.createHTML(Vt):Vt},r.setConfig=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Re(we),ea=!0},r.clearConfig=function(){re=null,ea=!1},r.isValidAttribute=function(we,z,fe){re||Re({});const ve=St(we),et=St(z);return In(ve,et,fe)},r.addHook=function(we,z){typeof z=="function"&&kr(ee[we],z)},r.removeHook=function(we,z){if(z!==void 0){const fe=uj(ee[we],z);return fe===-1?void 0:mj(ee[we],fe,1)[0]}return Wx(ee[we])},r.removeHooks=function(we){ee[we]=[]},r.removeAllHooks=function(){ee=sg()},r}var Lu=Xg();const Aj=({product:n,index:r,onProductSelect:i,isWishlisted:c,onToggleWishlist:u,onAddToCart:f,onOpenQuickView:m})=>{const h=p.useMemo(()=>(n.description||"").trim(),[n.description]),g=!!n.originalPrice&&!Number.isNaN(parseFloat(n.originalPrice))&&!Number.isNaN(parseFloat(n.price))&&parseFloat(n.originalPrice)>parseFloat(n.price),x=p.useMemo(()=>{if(!h)return"";const N=Je(h,{gfm:!0,breaks:!0});return Lu.sanitize(N)},[h]),v=N=>{N.stopPropagation(),u(n.id)},y=N=>{N.stopPropagation(),f(n,1)},w=N=>{N.stopPropagation(),m(n)};return a.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden flex items-center p-4 space-x-4 transition transform hover:shadow-lg hover:-translate-y-1 opacity-0 animate-fade-in-up cursor-pointer",style:{animationDelay:`${r*50}ms`},onClick:()=>i(n),children:[a.jsx("div",{className:"flex-shrink-0 h-28 w-28 rounded-lg overflow-hidden bg-gray-100",children:a.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("p",{className:"text-xs text-brand-secondary uppercase tracking-wide",children:n.category}),a.jsx("h3",{className:"text-lg font-bold text-brand-dark truncate",children:n.name}),x&&a.jsx("div",{className:"text-sm text-gray-600 mt-1 hidden sm:block",dangerouslySetInnerHTML:{__html:x}})]}),a.jsxs("div",{className:"flex-shrink-0 flex flex-col items-end justify-between self-stretch text-right",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:w,className:"text-gray-400 hover:text-brand-dark transition-colors z-10","aria-label":"Quick View",children:a.jsx(Rg,{})}),a.jsx("button",{onClick:v,className:"text-gray-400 hover:text-red-500 transition-colors z-10","aria-label":"Toggle Wishlist",children:a.jsx(El,{className:`w-6 h-6 ${c?"text-red-500 fill-current":""}`})}),a.jsx("button",{onClick:y,className:"h-9 w-9 bg-brand-dark text-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform z-10",children:a.jsx(Tg,{})})]}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("p",{className:"text-brand-dark font-bold text-lg",children:["Rs. ",n.price]}),g&&a.jsxs("p",{className:"text-sm text-brand-secondary line-through",children:["Rs. ",n.originalPrice]})]})]})]})},Tj=({currentPage:n,totalPages:r,onPageChange:i})=>{const u=(()=>{const f=[];if(r<=7)for(let m=1;m<=r;m++)f.push(m);else{f.push(1),n>3&&f.push("...");for(let m=Math.max(2,n-1);m<=Math.min(r-1,n+1);m++)f.push(m);n<r-2&&f.push("..."),f.push(r)}return f})();return a.jsx("nav",{className:"flex items-center justify-center pt-8",children:a.jsxs("ul",{className:"flex items-center space-x-2",children:[n>1&&a.jsx("li",{children:a.jsx("button",{onClick:()=>i(n-1),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-200",children:"Previous"})}),u.map((f,m)=>a.jsx("li",{children:typeof f=="number"?a.jsx("button",{onClick:()=>i(f),className:`px-3 py-1 rounded-md text-sm font-bold ${n===f?"bg-brand-dark text-white":"text-gray-600 hover:bg-gray-200"}`,children:f}):a.jsx("span",{className:"px-3 py-1 text-sm text-gray-400",children:f})},m)),n<r&&a.jsx("li",{children:a.jsx("button",{onClick:()=>i(n+1),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-200",children:"Next"})})]})})},Rj=({className:n="h-5 w-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),Xt=({onClick:n,className:r=""})=>a.jsxs("button",{onClick:n,className:`flex items-center space-x-2 text-sm font-semibold text-brand-secondary hover:text-brand-dark transition ${r}`,"aria-label":"Go back",children:[a.jsx(Rj,{}),a.jsx("span",{children:"Back"})]}),Lj=({query:n,products:r,onProductSelect:i,wishlist:c,onToggleWishlist:u,onAddToCart:f,onOpenQuickView:m,onGoBack:h,activeFilters:g,onFilterChange:x})=>{const[y,w]=p.useState(1),N=p.useMemo(()=>{const U=n.toLowerCase();return(n?r.filter(k=>{var A;return k.name.toLowerCase().includes(U)||((A=k.category)==null?void 0:A.toLowerCase().includes(U))}):r).filter(k=>{const A=g.categories.length===0||k.category&&g.categories.includes(k.category),O=g.sizes.length===0||k.sizes&&k.sizes.some(D=>g.sizes.includes(D)),ae=g.genders.length===0||g.genders.some(D=>{var W,M;const E=D.toLowerCase().replace("'s","");return((W=k.category)==null?void 0:W.toLowerCase().includes(E))||((M=k.name)==null?void 0:M.toLowerCase().includes(E))}),H=parseFloat(k.price||"0"),$=!g.priceRange||H>=g.priceRange.min&&H<=g.priceRange.max,ee=g.brands.length===0||g.brands.some(D=>{var E,W;return((E=k.name)==null?void 0:E.toLowerCase().includes(D.toLowerCase()))||((W=k.category)==null?void 0:W.toLowerCase().includes(D.toLowerCase()))}),J=g.ratings.length===0||g.ratings.some(D=>(k.rating||0)>=D);return A&&O&&ae&&$&&ee&&J})},[n,r,g]),C=Math.ceil(N.length/20),_=(y-1)*20,T=_+20,L=N.slice(_,T);p.useEffect(()=>{w(1)},[n,g]);const Y=U=>{w(U),window.scrollTo({top:0,behavior:"smooth"})};return a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[a.jsx(Xt,{onClick:h,className:"mb-4"}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-brand-dark",children:["Search Results ",n&&`for '${n}'`]}),a.jsxs("p",{className:"text-brand-secondary mt-1",children:[N.length," ",N.length===1?"result":"results"," found"]})]}),a.jsx("div",{className:"lg:hidden mb-6",children:a.jsx(wl,{activeFilters:g,onFilterChange:x})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[a.jsx("div",{className:"hidden lg:block lg:col-span-1",children:a.jsx(wl,{activeFilters:g,onFilterChange:x})}),a.jsx("div",{className:"lg:col-span-3",children:N.length>0?a.jsxs("div",{className:"space-y-4",children:[L.map((U,P)=>a.jsx(Aj,{product:U,index:_+P,onProductSelect:i,isWishlisted:c.includes(U.id),onToggleWishlist:u,onAddToCart:f,onOpenQuickView:m},U.id)),C>1&&a.jsx(Tj,{currentPage:y,totalPages:C,onPageChange:Y})]}):a.jsxs("div",{className:"w-full bg-white rounded-xl shadow-md p-8 sm:p-12 text-center flex flex-col items-center justify-center h-full min-h-[300px]",children:[a.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4",children:a.jsx(Nu,{})}),a.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"No results found"}),a.jsx("p",{className:"text-brand-secondary mt-1",children:"Try adjusting your search or filters."})]})})]})]})},Du=()=>a.jsx("div",{className:"flex flex-col items-center group",title:"Cash on Delivery",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),Mu=()=>a.jsx("div",{className:"flex flex-col items-center group",title:"Easypaisa",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8V6m0 12v-2m0-10a9 9 0 110 18 9 9 0 010-18z"})})}),Ou=()=>a.jsx("div",{className:"flex flex-col items-center group",title:"JazzCash",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),Zg=()=>a.jsx("div",{className:"flex flex-col items-center group",title:"Bank Transfer",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M3 6h18M3 14h18M3 18h18"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4h16v16H4z"})]})}),Fa={getProducts:async n=>{try{let r=ie.PRODUCTS_GET;if(n){const u=new URLSearchParams;n.page&&u.append("page",String(n.page)),n.limit&&u.append("limit",String(n.limit)),n.category_id&&u.append("category_id",String(n.category_id)),n.search&&u.append("search",n.search),n.sort&&u.append("sort",n.sort);const f=u.toString();f&&(r+=`?${f}`)}const i=await ce.get(r),c=Ge(i);return Pa.updateMap(c),c.map(u=>{let f=[];u.images&&Array.isArray(u.images)&&(f=u.images.map(h=>typeof h=="object"&&h.image_url?h.image_url:typeof h=="string"?h:"").filter(h=>h.length>0));const m=u.image_url||f[0]||"";return{id:u.id,backendId:String(u.id),name:u.name,category:u.category_name,description:u.description,price:String(u.original_price||u.price||0),originalPrice:u.price?String(u.price):null,image:m,images:f.length>0?f:m?[m]:[],stock:u.stock,vendor_id:u.vendor_id,brand_id:u.brand_id,original_vendor_id:u.original_vendor_id,flags:u.flags||[]}})}catch(r){throw console.error("API call failed:",r),r}},getProductsWithMeta:async n=>{let r=ie.PRODUCTS_GET;if(n){const g=new URLSearchParams;n.page&&g.append("page",String(n.page)),n.limit&&g.append("limit",String(n.limit)),n.category_id&&g.append("category_id",String(n.category_id)),n.search&&g.append("search",n.search),n.sort&&g.append("sort",n.sort);const x=g.toString();x&&(r+=`?${x}`)}const{data:i,headers:c}=await ce.getWithMeta(r),u=Ge(i);Pa.updateMap(u);const f=u.map(g=>{let x=[];g.images&&Array.isArray(g.images)&&(x=g.images.map(y=>typeof y=="object"&&y.image_url?y.image_url:typeof y=="string"?y:"").filter(y=>y.length>0));const v=g.image_url||x[0]||"";return{id:g.id,backendId:String(g.id),name:g.name,category:g.category_name,description:g.description,price:String(g.original_price||g.price||0),originalPrice:g.price?String(g.price):null,image:v,images:x.length>0?x:v?[v]:[],stock:g.stock,vendor_id:g.vendor_id,brand_id:g.brand_id,original_vendor_id:g.original_vendor_id,vendor_store_name:g.vendor_store_name,vendor_store_slug:g.vendor_store_slug,flags:g.flags||[]}}),m=c["x-total-count"]||c["x-total"]||c.total;let h=m?parseInt(m,10):void 0;return!h&&i&&typeof i=="object"&&(typeof i.total=="number"&&(h=i.total),!h&&typeof i.count=="number"&&(h=i.count)),{items:f,total:h,page:n==null?void 0:n.page,limit:n==null?void 0:n.limit}},getProductById:async n=>{try{const r=Pa.getBackendId(n),i=await ce.get(ie.PRODUCT_BY_ID(r)),c=ke(i);Pa.updateMap([c]);let u=[];c.images&&Array.isArray(c.images)&&(u=c.images.map(m=>typeof m=="object"&&m.image_url?m.image_url:typeof m=="string"?m:"").filter(m=>m.length>0));const f=c.image_url||u[0]||"";return{id:c.id,backendId:String(c.id),name:c.name,category:c.category_name,description:c.description,price:String(c.original_price||c.price||0),originalPrice:c.price?String(c.price):null,image:f,images:u.length>0?u:f?[f]:[],stock:c.stock,vendor_id:c.vendor_id,brand_id:c.brand_id,original_vendor_id:c.original_vendor_id,vendor_store_name:c.vendor_store_name,vendor_store_slug:c.vendor_store_slug,flags:c.flags||[]}}catch(r){throw console.error("API call failed:",r),r}},createProduct:async n=>{var r;try{let i;if(n.category)try{const{CategoryService:m}=await kg(async()=>{const{CategoryService:x}=await Promise.resolve().then(()=>vv);return{CategoryService:x}},[]),g=(await m.getCategories()).find(x=>x.name===n.category);g&&(i=g.id)}catch(m){console.warn("Failed to fetch categories for mapping:",m)}const c={name:n.name,category_id:i||1,original_price:parseFloat(n.price||"0"),price:n.originalPrice?parseFloat(n.originalPrice):void 0,description:n.description,image_url:n.image,public_id:n.public_id,stock:n.stock};n.vendor_id!==void 0&&(c.vendor_id=n.vendor_id),n.brand_id!==void 0&&(c.brand_id=n.brand_id),n.images&&Array.isArray(n.images)&&(c.images=n.images),Array.isArray(n.flags)&&n.flags.length>0&&(c.flag_ids=n.flags.map(m=>m.id));const u=await ce.post(ie.PRODUCTS,c),f=ke(u);return{id:f.id,backendId:String(f.id),name:f.name,category:f.category_name,description:f.description,price:String(f.original_price||f.price||0),originalPrice:f.price?String(f.price):null,image:f.image_url||((r=f.images)==null?void 0:r[0])||"",images:f.images||[],stock:f.stock}}catch(i){throw console.error("API call failed:",i),i}},updateProduct:async(n,r)=>{var i;try{const c=Pa.getBackendId(n),u={};r.name&&(u.name=r.name),r.price&&(u.original_price=parseFloat(r.price)),r.originalPrice&&(u.price=parseFloat(r.originalPrice)),r.description&&(u.description=r.description),r.image&&(u.image_url=r.image),r.public_id!==void 0&&(u.public_id=r.public_id),r.stock!==void 0&&(u.stock=r.stock),Array.isArray(r.images)&&r.images.length>0&&(u.images=r.images),Array.isArray(r.flags)&&(u.flag_ids=r.flags.map(h=>h.id));const f=await ce.put(ie.PRODUCT_ADMIN_BY_ID(c),u),m=ke(f);return{id:m.id,backendId:String(m.id),name:m.name,category:m.category_name,description:m.description,price:String(m.original_price||m.price||0),originalPrice:m.price?String(m.price):null,image:m.image_url||((i=m.images)==null?void 0:i[0])||"",images:m.images||[],stock:m.stock}}catch(c){throw console.error("API call failed:",c),c}},deleteProduct:async n=>{try{const r=Pa.getBackendId(n);await ce.delete(ie.PRODUCT_ADMIN_BY_ID(r))}catch(r){throw console.error("API call failed:",r),r}},addProductImages:async(n,r,i)=>{const c=Pa.getBackendId(n),u=await ce.post(ie.PRODUCT_IMAGES(c),{images:r,primary_index:i});return ke(u)},reorderProductImages:async(n,r,i)=>{const c=Pa.getBackendId(n),u=await ce.put(ie.REORDER_PRODUCT_IMAGES(c),{image_ids:r,primary_image_id:i});return ke(u)},deleteProductImage:async(n,r)=>{const i=Pa.getBackendId(n);await ce.delete(ie.DELETE_PRODUCT_IMAGE(i,r))}},Dj=({quantity:n,setQuantity:r})=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>r(Math.max(1,n-1)),className:"h-8 w-8 bg-gray-200 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-300 transition",children:"-"}),a.jsx("span",{className:"w-10 text-center font-semibold",children:n}),a.jsx("button",{onClick:()=>r(n+1),className:"h-8 w-8 bg-gray-200 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-300 transition",children:"+"})]}),Mj=({product:n,isWishlisted:r,onToggleWishlist:i,onAddToCart:c,onProductSelect:u,onOpenQuickView:f,wishlist:m,onGoBack:h,onNavigateToStore:g})=>{var W,M;const[x,v]=p.useState(n.image),[y,w]=p.useState(((W=n.sizes)==null?void 0:W[0])||null),[N,C]=p.useState(1),[_,T]=p.useState(null),[L,Y]=p.useState(null),[U,P]=p.useState(null),[k,A]=p.useState(n.images||[n.image].filter(Boolean)),[O,ae]=p.useState(null),H=p.useRef(null),$=p.useMemo(()=>((O==null?void 0:O.description)??n.description??"").trim(),[O==null?void 0:O.description,n.description]),ee=p.useMemo(()=>{const q=O==null?void 0:O.flags,F=n.flags;return(q&&q.length>0?q:F)||[]},[O,n]),J=!!n.originalPrice&&!Number.isNaN(parseFloat(n.originalPrice))&&!Number.isNaN(parseFloat(n.price))&&parseFloat(n.originalPrice)>parseFloat(n.price),D=p.useMemo(()=>{if(!$)return"";const q=Je($,{gfm:!0,breaks:!0});return Lu.sanitize(q)},[$]);p.useEffect(()=>{var q;v(n.image),w(((q=n.sizes)==null?void 0:q[0])||null),A(n.images||[n.image].filter(Boolean)),T(n.vendor_id??null),Y(n.vendor_store_name??null),P(n.vendor_store_slug??null),E()},[n]);const E=async()=>{if(H.current!==n.id){H.current=n.id;try{const q=await Fa.getProductById(n.id);ae(q),q.images&&q.images.length>0&&(A(q.images),(!x||x===n.image)&&v(q.image||q.images[0]));const F=q;F.vendor_id&&T(F.vendor_id),F.vendor_store_name&&Y(F.vendor_store_name),F.vendor_store_slug&&P(F.vendor_store_slug)}catch(q){console.error("Error loading vendor info:",q)}}};return a.jsx(a.Fragment,{children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[a.jsx(Xt,{onClick:h,className:"mb-4"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-md aspect-square overflow-hidden",children:a.jsx("img",{src:x,alt:n.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:k.length>0?k.map((q,F)=>a.jsx("button",{onClick:()=>v(q),className:`bg-white rounded-lg shadow-sm aspect-square overflow-hidden border-2 transition ${x===q?"border-brand-dark":"border-transparent hover:border-gray-300"}`,children:a.jsx("img",{src:q,alt:`${n.name} thumbnail ${F+1}`,className:"w-full h-full object-cover",onError:I=>{I.currentTarget.style.display="none"}})},F)):a.jsx("button",{onClick:()=>v(n.image),className:`bg-white rounded-lg shadow-sm aspect-square overflow-hidden border-2 transition ${x===n.image?"border-brand-dark":"border-transparent hover:border-gray-300"}`,children:a.jsx("img",{src:n.image,alt:`${n.name} thumbnail`,className:"w-full h-full object-cover",onError:q=>{q.currentTarget.style.display="none"}})})})]}),a.jsxs("div",{className:"py-4",children:[a.jsx("p",{className:"text-sm font-semibold text-brand-secondary uppercase tracking-wider",children:n.category}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark mt-2",children:n.name}),ee.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:ee.map(q=>a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-amber-50 text-amber-700 border border-amber-200 text-xs font-semibold",title:q.description||"",children:q.badge_text||q.name},q.id))}),a.jsxs("div",{className:"mt-4 flex items-baseline space-x-3",children:[a.jsxs("p",{className:"text-3xl font-bold text-brand-dark",children:["Rs. ",n.price]}),J&&a.jsxs("p",{className:"text-xl text-brand-secondary line-through",children:["Rs. ",n.originalPrice]})]}),D&&a.jsx("div",{className:"mt-6 text-base text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:D}}),L&&a.jsxs("div",{className:"mt-3 inline-flex items-center px-3 py-1 rounded-full bg-gray-100 border border-gray-200",children:[a.jsx("span",{className:"text-xs text-gray-600 mr-1",children:"Sold by"}),U?a.jsx("button",{onClick:()=>g==null?void 0:g(U),className:"text-xs font-semibold text-brand-dark hover:underline",children:L}):a.jsx("span",{className:"text-xs font-semibold text-brand-dark",children:L})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-sm font-bold text-brand-dark uppercase",children:"Size Options"}),a.jsx("div",{className:"flex flex-wrap gap-3 mt-3",children:(M=n.sizes)==null?void 0:M.map(q=>a.jsx("button",{onClick:()=>w(q),className:`px-5 py-2 rounded-full border-2 text-sm font-semibold transition ${y===q?"bg-brand-dark text-white border-brand-dark":"bg-white text-brand-dark border-gray-300 hover:border-brand-dark"}`,children:q},q))})]}),a.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-8 flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-bold text-brand-dark uppercase",children:"Quantity"}),a.jsx(Dj,{quantity:N,setQuantity:C})]}),a.jsxs("div",{className:"mt-8 flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>c(n,N),className:"flex-1 bg-brand-dark text-white font-semibold py-4 px-8 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Add to Cart"}),a.jsx("button",{onClick:()=>i(n.id),className:"p-4 bg-white border-2 border-gray-300 rounded-full hover:border-brand-dark transition",children:a.jsx(El,{className:`w-6 h-6 transition-colors ${r?"text-red-500 fill-current":"text-gray-500"}`})})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-green-600",children:"In Stock"})}),a.jsx("div",{className:"mt-8 border-t border-gray-200 pt-6",children:a.jsxs("div",{className:"flex items-center justify-center space-x-6 text-gray-500",children:[a.jsx(Du,{}),a.jsx(Mu,{}),a.jsx(Ou,{}),a.jsx(Zg,{})]})})]})]}),!1]})})},Oj=({wishlistedProducts:n,onProductSelect:r,onToggleWishlist:i,onShopNow:c,onAddToCart:u,onOpenQuickView:f,onGoBack:m})=>a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[a.jsx(Xt,{onClick:m,className:"mb-4"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-brand-dark",children:"My Wishlist"}),a.jsxs("p",{className:"text-brand-secondary mt-1",children:[n.length," ",n.length===1?"item":"items"]})]}),n.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map((h,g)=>a.jsx(Hr,{product:h,index:g,onProductSelect:r,isWishlisted:!0,onToggleWishlist:i,onAddToCart:u,onOpenQuickView:f},h.id))}):a.jsxs("div",{className:"w-full bg-white rounded-xl shadow-md p-8 sm:p-12 text-center flex flex-col items-center justify-center min-h-[400px]",children:[a.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4 text-gray-400",children:a.jsx(El,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Your wishlist is empty"}),a.jsx("p",{className:"text-brand-secondary mt-1 mb-6",children:"Start saving your favorite items!"}),a.jsx("button",{onClick:c,className:"bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Shop Now"})]})]}),zj=n=>parseFloat(n.replace(/,/g,"")),Uj=({quantity:n,onUpdate:r})=>a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-full p-1",children:[a.jsx("button",{type:"button",onClick:()=>r(n-1),className:"h-6 w-6 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-200 transition",children:"-"}),a.jsx("span",{className:"w-6 text-center font-semibold text-sm",children:n}),a.jsx("button",{type:"button",onClick:()=>r(n+1),className:"h-6 w-6 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-200 transition",children:"+"})]}),Bj=({item:n,onUpdateQuantity:r,onRemoveItem:i})=>{const c=zj(n.price)*n.quantity;return a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-4 flex items-center space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 h-24 w-24 rounded-lg overflow-hidden bg-gray-100",children:a.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-grow flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[a.jsxs("div",{className:"flex-grow mb-2 sm:mb-0",children:[a.jsx("h3",{className:"text-base font-bold text-brand-dark",children:n.name}),a.jsxs("p",{className:"text-sm text-brand-secondary",children:["Item Price: Rs. ",n.price]})]}),a.jsxs("div",{className:"flex items-center space-x-4 sm:space-x-6 w-full sm:w-auto",children:[a.jsx(Uj,{quantity:n.quantity,onUpdate:u=>r(n.cartItemId,u)}),a.jsxs("p",{className:"font-bold text-brand-dark w-24 text-left sm:text-center",children:["Rs. ",c.toLocaleString()]}),a.jsx("button",{type:"button",onClick:()=>i(n.cartItemId),className:"text-sm font-semibold text-gray-500 hover:text-red-500 transition",children:"Remove"})]})]})]})},ng=n=>parseFloat(n.replace(/,/g,"")),Wg=({cartItems:n,view:r,onButtonClick:i,onSecondaryAction:c,commission:u=0,mlmBalanceUsed:f=0,accountBalanceUsed:m=0,customPrintPrice:h=0,isButtonDisabled:g=!1,deliveryFeeOverride:x})=>{const v=p.useMemo(()=>n.reduce((_,T)=>_+ng(T.price)*T.quantity,0),[n]),y=typeof x=="number"?x:0,w=Math.max(0,v+y+u+h-f-m),N=r==="cart"?"Proceed to Checkout":"Place Order",C=r==="checkout"?"bg-red-500 hover:bg-red-600":"bg-brand-dark hover:bg-gray-700";return a.jsxs("aside",{className:"bg-white rounded-2xl shadow-md p-6 sticky top-28",children:[a.jsx("h2",{className:"text-xl font-bold text-brand-dark border-b pb-4 mb-4",children:"Order Summary"}),r==="checkout"&&n.map(_=>a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[a.jsxs("span",{children:[_.name," x ",_.quantity]}),a.jsxs("span",{children:["Rs. ",(ng(_.price)*_.quantity).toLocaleString()]})]},_.id)),a.jsxs("div",{className:"space-y-3 text-brand-dark mt-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["Rs. ",v.toLocaleString()]})]}),u>0&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Commission"}),a.jsxs("span",{children:["Rs. ",u.toLocaleString()]})]}),h>0&&a.jsxs("div",{className:"flex justify-between text-brand-dark",children:[a.jsx("span",{children:"Custom Print"}),a.jsxs("span",{children:["Rs. ",h.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Delivery Charges"}),a.jsxs("span",{children:["Rs. ",y.toLocaleString()]})]}),f>0&&a.jsxs("div",{className:"flex justify-between text-blue-600",children:[a.jsx("span",{children:"Referral Balance Used"}),a.jsxs("span",{children:["- Rs. ",f.toFixed(2)]})]}),m>0&&a.jsxs("div",{className:"flex justify-between text-purple-600",children:[a.jsx("span",{children:"Account Balance Used"}),a.jsxs("span",{children:["- Rs. ",m.toFixed(2)]})]}),r==="checkout"&&a.jsxs("div",{className:"border-t pt-4 mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Mu,{})," ",a.jsxs("span",{children:["Rs. ",v.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Ou,{})," ",a.jsx("span",{children:"Rs. 1500"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Zg,{})," ",a.jsx("span",{children:"Rs. 1900"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Du,{})," ",a.jsx("span",{children:"Rs. 1900"})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4 flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["Rs. ",w.toLocaleString()]})]})]}),a.jsx("button",{onClick:i,disabled:v===0||g,className:`mt-6 w-full text-white font-semibold py-3 px-6 rounded-[24px] focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed ${C}`,children:N}),a.jsx("button",{onClick:c,className:"w-full text-center mt-4 text-sm font-semibold text-brand-secondary hover:text-brand-dark",children:"Continue Shopping"})]})},Kg={getDefaultDeliveryCharge:async()=>{const n=await ce.get(ie.DELIVERY_CHARGE);return ke(n).delivery_charge}},Ij=({cartItems:n,onUpdateQuantity:r,onRemoveItem:i,onContinueShopping:c,onCheckout:u,onGoBack:f})=>{const[m,h]=p.useState(0);return p.useEffect(()=>{(async()=>{try{const x=await Kg.getDefaultDeliveryCharge();h(n.length>0?x:0)}catch(x){console.error("Error loading delivery charge for cart:",x),h(0)}})()},[n.length]),a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[a.jsx(Xt,{onClick:f,className:"mb-4"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-brand-dark",children:"Your Cart"}),a.jsxs("p",{className:"text-brand-secondary mt-1",children:[n.reduce((g,x)=>g+x.quantity,0)," items"]})]}),n.length>0?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:n.map(g=>a.jsx(Bj,{item:g,onUpdateQuantity:r,onRemoveItem:i},g.cartItemId))}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(Wg,{cartItems:n,onButtonClick:u,onSecondaryAction:c,view:"cart",deliveryFeeOverride:m})})]}):a.jsxs("div",{className:"w-full bg-white rounded-xl shadow-md p-8 sm:p-12 text-center flex flex-col items-center justify-center min-h-[400px]",children:[a.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4 text-gray-400",children:a.jsx(Dg,{})}),a.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Your cart is empty"}),a.jsx("p",{className:"text-brand-secondary mt-1 mb-6",children:"Time to find some amazing products!"}),a.jsx("button",{onClick:c,className:"bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Shop Now"})]})]})},Hj=()=>a.jsx("div",{className:"flex flex-col items-center group",title:"Delivery Transfer",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-500 group-hover:text-brand-dark transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2-2h8zm6-11l-4 4m0 0l4 4m-4-4h12"})]})}),Jg=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),zu={getUserBalance:async n=>{try{const r=await ce.get(ie.USER_BALANCE);return ke(r)}catch(r){throw console.error("[UserBalanceService] Failed to fetch user balance:",r),r}},getTransactionHistory:async(n,r)=>{const i=new URLSearchParams;r!=null&&r.page&&i.append("page",r.page.toString()),r!=null&&r.per_page&&i.append("per_page",r.per_page.toString()),r!=null&&r.source_type&&i.append("source_type",r.source_type),r!=null&&r.transaction_type&&i.append("transaction_type",r.transaction_type),r!=null&&r.from_date&&i.append("from_date",r.from_date),r!=null&&r.to_date&&i.append("to_date",r.to_date);const c=`${ie.USER_BALANCE_TRANSACTIONS}?${i.toString()}`,u=await ce.get(c);return ke(u)},getPurchaseStatistics:async n=>{const r=await ce.get(ie.USER_BALANCE_STATISTICS);return ke(r)}},jl={getAllAddresses:async()=>{const n=await ce.get(ie.USER_ADDRESSES);return Ge(n)},getAddressById:async n=>{const r=await ce.get(ie.USER_ADDRESS_BY_ID(String(n)));return ke(r)},createAddress:async n=>{const r=await ce.post(ie.USER_ADDRESSES,n);return ke(r)},updateAddress:async(n,r)=>{const i=await ce.put(ie.USER_ADDRESS_BY_ID(String(n)),r);return ke(i)},deleteAddress:async n=>{await ce.delete(ie.USER_ADDRESS_BY_ID(String(n)))},setDefaultAddress:async n=>{const r=await ce.put(ie.USER_ADDRESS_SET_DEFAULT(String(n)),{});return ke(r)}},Is={getBalance:async()=>{const n=await ce.get(ie.AFFILIATE_BALANCE);return ke(n)},getCommissions:async n=>{let r=ie.AFFILIATE_COMMISSIONS;if(n){const c=new URLSearchParams;n.page&&c.append("page",String(n.page)),n.limit&&c.append("limit",String(n.limit)),n.status&&c.append("status",n.status);const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},getCustomers:async n=>{let r=ie.AFFILIATE_CUSTOMERS;if(n){const c=new URLSearchParams;Object.entries(n).forEach(([f,m])=>{m!=null&&c.append(f,String(m))});const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},getWithdrawals:async n=>{let r=ie.AFFILIATE_WITHDRAWALS;n!=null&&n.status&&(r+=`?status=${n.status}`);const i=await ce.get(r);return Ge(i)},getAdminAffiliateUsers:async n=>{let r=ie.ADMIN_AFFILIATE_USERS;if(n){const c=new URLSearchParams;Object.entries(n).forEach(([f,m])=>{m!=null&&c.append(f,String(m))});const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},getAdminAffiliateUserCustomers:async n=>{const r=await ce.get(ie.ADMIN_AFFILIATE_USER_CUSTOMERS(n));return Ge(r)},getAdminAffiliateUserOrders:async n=>{const r=await ce.get(ie.ADMIN_AFFILIATE_USER_ORDERS(n));return Ge(r)},getAdminCommissions:async n=>{let r=ie.ADMIN_AFFILIATE_COMMISSIONS;if(n){const c=new URLSearchParams;n.affiliate_user_id&&c.append("affiliate_user_id",n.affiliate_user_id),n.page&&c.append("page",String(n.page)),n.limit&&c.append("limit",String(n.limit)),n.status&&c.append("status",n.status);const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},getAdminWithdrawals:async n=>{let r=ie.ADMIN_AFFILIATE_WITHDRAWALS;if(n){const c=new URLSearchParams;n.status&&c.append("status",n.status),n.page&&c.append("page",String(n.page)),n.limit&&c.append("limit",String(n.limit));const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},updateWithdrawalStatus:async(n,r)=>{await ce.put(ie.ADMIN_UPDATE_WITHDRAWAL(n),{status:r})}};async function qj(n,r){return await ce.post(ie.CLOUDINARY_SIGN,{folder:n,tags:r})}async function as(n,r){const i=await qj(r==null?void 0:r.folder,r==null?void 0:r.tags),c=`https://api.cloudinary.com/v1_1/${i.cloud_name}/upload`,u=new FormData;u.append("file",n),u.append("api_key",i.api_key),u.append("timestamp",i.timestamp.toString()),u.append("signature",i.signature),i.folder&&u.append("folder",i.folder),i.tags&&u.append("tags",i.tags);const f=await fetch(c,{method:"POST",body:u});if(!f.ok){const h=await f.text().catch(()=>"");throw new Error(`Cloudinary upload failed (${f.status}): ${h}`)}const m=await f.json();if(!m.secure_url||!m.public_id)throw new Error("Cloudinary upload did not return secure_url or public_id");return m}const Pj=n=>parseFloat(n.replace(/,/g,"")),Fj=({cartItems:n,onConfirmOrder:r,onContinueShopping:i,onGoBack:c})=>{const[u,f]=p.useState("self"),[m,h]=p.useState({name:"",phone:"",whatsapp:"",address:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Pakistan"}),[g,x]=p.useState(""),[v,y]=p.useState("cod"),[w,N]=p.useState("delivery"),[C,_]=p.useState(null),[T,L]=p.useState([]),[Y,U]=p.useState(!1),[P,k]=p.useState(null),[A,O]=p.useState(!1),[ae,H]=p.useState(!0),[$,ee]=p.useState([]),[J,D]=p.useState(!1),[E,W]=p.useState(null),[M,q]=p.useState(!1),[F,I]=p.useState(!1),[G,S]=p.useState(""),[Q,le]=p.useState(0),[be,ge]=p.useState(!1),[je,ue]=p.useState(!1),[ye,Oe]=p.useState(null),[me,Me]=p.useState(null),[kt,yt]=p.useState(!1),[ot,Ut]=p.useState(""),[ea,Qa]=p.useState(""),[Ht,Zt]=p.useState(""),[qt,Ft]=p.useState(null),[ds,Ys]=p.useState(!1),dt=p.useMemo(()=>n.reduce((se,Ae)=>se+Pj(Ae.price)*Ae.quantity,0),[n]),[ua,ta]=p.useState(0),aa=parseFloat(g)||0,va=F?Math.min(parseFloat(G)||0,Q):0,Wt=!!ea||!!Ht||!!qt,sa=Wt?500:0,us=Math.max(0,dt+ua+aa+sa-va);p.useEffect(()=>{xt(),ms(),u==="customer"&&na();const se=Te.getBackendUser();u==="self"&&(se!=null&&se.name)&&h(Ae=>({...Ae,name:se.name}))},[]),p.useEffect(()=>{(async()=>{if(w==="receive_personally"){ta(0);return}try{const Ae=await Kg.getDefaultDeliveryCharge();ta(dt>0?Ae:0)}catch(Ae){console.error("Error loading delivery charge:",Ae),ta(0)}})()},[dt,w]),p.useEffect(()=>{if(u==="customer")na();else{W(null),q(!1);const se=Te.getBackendUser();se!=null&&se.name&&h(Ae=>({...Ae,name:se.name}))}},[u]);const ms=async()=>{U(!0);try{const se=await jl.getAllAddresses();L(se);const Ae=se.find(We=>We.is_default);Ae&&(k(Ae.id),O(!0),H(!1),vt(Ae))}catch(se){console.error("Error loading addresses:",se)}finally{U(!1)}},na=async()=>{D(!0);try{const se=await Is.getCustomers();ee(se)}catch(se){console.error("Error loading affiliate customers:",se)}finally{D(!1)}},vt=se=>{h({name:se.full_name,phone:se.phone,address:`${se.address_line1}${se.address_line2?", "+se.address_line2:""}, ${se.city}${se.state?", "+se.state:""}${se.postal_code?" "+se.postal_code:""}`,address_line1:se.address_line1,address_line2:se.address_line2||"",city:se.city,state:se.state||"",postal_code:se.postal_code||"",country:se.country||"Pakistan"})},Nt=se=>{h(Ae=>({...Ae,name:se.name||"",phone:se.phone||"",address:se.address||""}))},xt=async()=>{const se=Te.getBackendUser();if(se!=null&&se.id){ge(!0);try{const Ae=parseInt(se.id,10);if(!isNaN(Ae)){const We=await zu.getUserBalance(Ae);le(We.available_balance||0)}}catch(Ae){console.error("Error loading reward balance:",Ae)}finally{ge(!1)}}},fs=se=>{(parseFloat(se)||0)>Q?S(Q.toString()):S(se)},hs=()=>{if(_(null),!m.phone||m.phone.trim()===""){_("Please provide recipient phone number.");return}if(!m.name||m.name.trim()===""){_("Please provide recipient name.");return}if(A&&P){if(!m.address||m.address.trim()===""){_("Please select a saved address or enter address manually.");return}}else if(ae){if(!m.address_line1||m.address_line1.trim()===""){_("Please provide address line 1.");return}if(!m.city||m.city.trim()===""){_("Please provide city.");return}const We=`${m.address_line1}${m.address_line2?", "+m.address_line2:""}, ${m.city}${m.state?", "+m.state:""}${m.postal_code?" "+m.postal_code:""}`;h(st=>({...st,address:We}))}else{_("Please select a saved address or enter address manually.");return}let se="Cash on Delivery";v==="transfer"?se="Delivery Transfer":v==="easypaisa"?se="Easypaisa":v==="jazzcash"&&(se="JazzCash");const Ae={orderId:`#${Math.floor(Math.random()*9e5)+1e5}`,orderDate:new Date().toLocaleDateString("en-GB"),orderType:u,paymentMethod:se,customerInfo:{name:m.name,phone:m.phone,address:m.address||`${m.address_line1}${m.address_line2?", "+m.address_line2:""}, ${m.city}${m.state?", "+m.state:""}${m.postal_code?" "+m.postal_code:""}`,whatsapp:m.whatsapp||void 0},items:n,subtotal:dt,deliveryFee:ua,commission:aa,mlmBalanceUsed:va,accountBalanceUsed:0,total:us,customSize:ea||void 0,customPrintInstructions:Ht||void 0,customPrintImageUrl:qt||void 0,customPrintPrice:Wt?500:void 0,deliveryMode:w};if(v==="cod"){Oe(Ae),ue(!0);return}r(Ae)},xs=!m.phone||!m.name||!A&&!ae||ae&&(!m.address_line1||!m.city)||u==="customer"&&!m.name;return a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:c}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Checkout"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:"1. Select Order Type"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>f("self"),className:`px-6 py-2 rounded-full font-semibold transition ${u==="self"?"bg-gray-200 text-brand-dark":"bg-white border border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Self Order"}),a.jsx("button",{onClick:()=>f("customer"),className:`px-6 py-2 rounded-full font-semibold transition ${u==="customer"?"bg-brand-dark text-white":"bg-white border border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Customer Order"})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:u==="customer"?"2. Customer Information":"2. Recipient Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:u==="customer"?"Customer Name *":"Recipient Name *"}),a.jsx("input",{type:"text",placeholder:u==="customer"?"Customer Name":"Recipient Name",value:m.name,onChange:se=>h({...m,name:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Recipient Phone Number *"}),a.jsx("input",{type:"tel",placeholder:"Recipient Phone Number",value:m.phone,onChange:se=>h({...m,phone:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),u==="customer"&&$.length>0&&a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:M,onChange:se=>{q(se.target.checked),se.target.checked||W(null)},className:"w-4 h-4 text-brand-dark rounded focus:ring-brand-dark"}),a.jsx("span",{className:"text-sm font-semibold text-brand-dark",children:"Select from saved customers"})]}),M&&a.jsxs("select",{value:E||"",onChange:se=>{const Ae=se.target.value?parseInt(se.target.value):null;if(W(Ae),Ae){const We=$.find(st=>st.id===Ae);We&&Nt(We)}},className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Select a customer"}),$.map(se=>a.jsxs("option",{value:se.id,children:[se.name||"Unknown"," - ",se.phone||"No phone"]},se.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Delivery Address *"}),T.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:A,onChange:se=>{O(se.target.checked),H(!se.target.checked),se.target.checked||k(null)},className:"w-4 h-4 text-brand-dark rounded focus:ring-brand-dark"}),a.jsx("span",{className:"text-sm font-semibold text-brand-dark",children:"Use saved address"})]}),A&&a.jsxs("select",{value:P||"",onChange:se=>{const Ae=se.target.value?parseInt(se.target.value):null;if(k(Ae),Ae){const We=T.find(st=>st.id===Ae);We&&vt(We)}},className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Select an address"}),T.map(se=>a.jsxs("option",{value:se.id,children:[se.label?`${se.label} - `:"",se.full_name," - ",se.city,se.is_default&&" (Default)"]},se.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:ae,onChange:se=>{H(se.target.checked),O(!se.target.checked),se.target.checked||k(null)},className:"w-4 h-4 text-brand-dark rounded focus:ring-brand-dark"}),a.jsx("span",{className:"text-sm font-semibold text-brand-dark",children:"Enter address manually"})]}),ae&&a.jsxs("div",{className:"space-y-3 mt-3",children:[a.jsx("input",{type:"text",placeholder:"Address Line 1 *",value:m.address_line1,onChange:se=>h({...m,address_line1:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0}),a.jsx("input",{type:"text",placeholder:"Address Line 2 (Optional)",value:m.address_line2,onChange:se=>h({...m,address_line2:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("input",{type:"text",placeholder:"City *",value:m.city,onChange:se=>h({...m,city:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0}),a.jsx("input",{type:"text",placeholder:"State (Optional)",value:m.state,onChange:se=>h({...m,state:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("input",{type:"text",placeholder:"Postal Code (Optional)",value:m.postal_code,onChange:se=>h({...m,postal_code:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),a.jsx("input",{type:"text",placeholder:"Country",value:m.country,onChange:se=>h({...m,country:se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]})]}),u==="customer"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Your Commission (Optional)"}),a.jsx("input",{type:"number",placeholder:"Commission Amount",value:g,onChange:se=>x(se.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),Q>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:"3. Use Reward Balance"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center space-x-4 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:F,onChange:se=>{I(se.target.checked),se.target.checked||S("")},className:"w-5 h-5 text-brand-dark rounded focus:ring-brand-dark"}),a.jsx("span",{className:"font-semibold text-brand-dark flex-1",children:"Use Reward Balance"}),a.jsxs("span",{className:"text-sm text-green-600 font-semibold",children:["Available: Rs ",Q.toFixed(2)]})]}),F&&a.jsxs("div",{className:"pl-9 space-y-2",children:[a.jsx("input",{type:"number",step:"0.01",min:"0",max:Q,value:G,onChange:se=>fs(se.target.value),placeholder:"Enter amount to use",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),a.jsxs("p",{className:"text-xs text-brand-secondary",children:["Max: Rs ",Q.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:Q>0?"4. Custom Size / Print (Optional)":"3. Custom Size / Print (Optional)"}),a.jsxs("p",{className:"text-xs text-brand-secondary mb-3",children:["If you want a custom size or your own design printed (e.g. on a hoodie), add details here. A flat ",a.jsx("span",{className:"font-semibold",children:"Rs. 500"})," will be added for custom print."]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",placeholder:'Custom Size (e.g. Chest 20", Length 28")',value:ea,onChange:se=>Qa(se.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),a.jsx("textarea",{placeholder:"Custom print instructions (optional)",rows:3,value:Ht,onChange:se=>Zt(se.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Upload design (optional)"}),a.jsx("input",{type:"file",accept:"image/*",onChange:async se=>{var We;const Ae=(We=se.target.files)==null?void 0:We[0];if(Ae)try{Ys(!0);const st=await as(Ae,{folder:"shauqse/custom_prints",tags:"custom_print"});Ft(st.secure_url)}catch(st){console.error("Custom print upload failed",st),_("Failed to upload custom design. Please try again.")}finally{Ys(!1)}},className:"w-full text-sm"}),ds&&a.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:"Uploading design..."}),qt&&a.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Design uploaded successfully."})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-bold text-brand-dark mb-4",children:Q>0?"5. Delivery & Payment":"4. Delivery & Payment"}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsx("p",{className:"text-sm font-semibold text-brand-dark mb-1",children:"Delivery Option"}),a.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-3 space-y-3 md:space-y-0",children:[a.jsx("button",{type:"button",onClick:()=>N("delivery"),className:`flex-1 px-4 py-2 rounded-lg border text-sm font-semibold transition ${w==="delivery"?"bg-brand-dark text-white border-brand-dark":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Home Delivery"}),a.jsx("button",{type:"button",onClick:()=>N("receive_personally"),className:`flex-1 px-4 py-2 rounded-lg border text-sm font-semibold transition ${w==="receive_personally"?"bg-brand-dark text-white border-brand-dark":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Receive Personally (Pickup)"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-4 p-4 border rounded-lg cursor-pointer hover:bg-gray-50 transition",children:[a.jsx(Du,{}),a.jsx("span",{className:"font-semibold text-brand-dark flex-grow",children:"Cash on Delivery"}),a.jsx("input",{type:"radio",name:"payment",value:"cod",checked:v==="cod",onChange:()=>y("cod"),className:"form-radio h-5 w-5 text-brand-dark"})]}),a.jsxs("label",{className:"flex items-center space-x-4 p-4 border rounded-lg cursor-not-allowed opacity-50 bg-gray-100",children:[a.jsx(Hj,{}),a.jsx("span",{className:"font-semibold text-gray-500 flex-grow",children:"Delivery Transfer (Disabled)"}),a.jsx("input",{type:"radio",name:"payment",value:"transfer",disabled:!0,className:"form-radio h-5 w-5 text-gray-400"})]}),a.jsxs("label",{className:"flex items-center space-x-4 p-4 border rounded-lg cursor-not-allowed opacity-50 bg-gray-100",children:[a.jsx(Mu,{}),a.jsx("span",{className:"font-semibold text-gray-500 flex-grow",children:"Easypaisa (Disabled)"}),a.jsx("input",{type:"radio",name:"payment",value:"easypaisa",disabled:!0,className:"form-radio h-5 w-5 text-gray-400"})]}),a.jsxs("label",{className:"flex items-center space-x-4 p-4 border rounded-lg cursor-not-allowed opacity-50 bg-gray-100",children:[a.jsx(Ou,{}),a.jsx("span",{className:"font-semibold text-gray-500 flex-grow",children:"JazzCash (Disabled)"}),a.jsx("input",{type:"radio",name:"payment",value:"jazzcash",disabled:!0,className:"form-radio h-5 w-5 text-gray-400"})]}),a.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4",children:[a.jsx("span",{className:"text-gray-500 font-semibold",children:"Delivery charges are configured by admin and may change over time."}),a.jsxs("span",{className:"text-gray-700 font-semibold",children:["Delivery Charges: Rs. ",ua.toLocaleString()]})]})]})]}),C&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-3",children:[a.jsx(Jg,{}),a.jsx("span",{className:"font-semibold",children:C})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(Wg,{cartItems:n,onButtonClick:hs,onSecondaryAction:i,view:"checkout",commission:aa,mlmBalanceUsed:va,accountBalanceUsed:0,customPrintPrice:Wt?500:0,isButtonDisabled:xs,deliveryFeeOverride:ua})})]}),je&&ye&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg p-6 space-y-4",children:[a.jsx("h2",{className:"text-xl font-bold text-brand-dark",children:"Confirm COD with 20% Advance"}),a.jsxs("p",{className:"text-sm text-brand-secondary",children:["Please send"," ",a.jsxs("span",{className:"font-semibold",children:["Rs. ",Math.round(ye.total*.2).toLocaleString()]})," ","as advance payment to",a.jsx("span",{className:"font-semibold",children:" Easypaisa 0330-9358763 (Irfan Ahmad)"}),", then upload the payment screenshot to confirm your order."]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"WhatsApp Number (optional)"}),a.jsx("input",{type:"tel",value:m.whatsapp,onChange:se=>h({...m,whatsapp:se.target.value}),placeholder:"03xx-xxxxxxx",className:"w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Notes for COD team (optional)"}),a.jsx("textarea",{value:ot,onChange:se=>Ut(se.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Upload Advance Payment Screenshot *"}),a.jsx("input",{type:"file",accept:"image/*",onChange:async se=>{var We;const Ae=(We=se.target.files)==null?void 0:We[0];if(Ae)try{yt(!0);const st=await as(Ae,{folder:"shauqse/cod_advance",tags:"cod_advance"});Me(st.secure_url)}catch(st){console.error("COD screenshot upload failed",st),_("Failed to upload screenshot. Please try again.")}finally{yt(!1)}},className:"w-full text-sm"}),kt&&a.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:"Uploading screenshot..."}),me&&a.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Screenshot uploaded successfully."})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{onClick:()=>{ue(!1),Oe(null),Me(null),Ut("")},className:"px-4 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{disabled:!me||kt,onClick:()=>{ye&&(r({...ye,codAdvanceAmount:Math.round(ye.total*.2),codAdvanceScreenshotUrl:me||void 0,codWhatsappNumber:m.whatsapp||m.phone,codNotes:ot||void 0}),ue(!1),Oe(null),Me(null),Ut(""))},className:"px-5 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Confirm Order"})]})]})})]})},Vj=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-brand-success",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),Yj=({orderDetails:n,onContinueShopping:r,onViewMyOrders:i})=>n?a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[a.jsx("div",{className:"bg-brand-dark text-white rounded-2xl p-8 text-center md:text-left md:flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-4xl font-bold flex items-center justify-center md:justify-start space-x-3",children:[a.jsx("span",{children:"Order Confirmed!"}),a.jsx(Vj,{})]}),a.jsx("p",{className:"mt-2 text-white/80",children:"Thank you for your Shauq order!"})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mt-[-2rem] z-10 relative",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 border-b pb-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-brand-secondary",children:"Order ID"}),a.jsx("p",{className:"font-bold text-brand-dark text-lg",children:n.orderId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-brand-secondary",children:"Order Date"}),a.jsx("p",{className:"font-bold text-brand-dark",children:n.orderDate})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-brand-secondary",children:"Order Type"}),a.jsx("p",{className:"font-bold text-brand-dark",children:n.orderType==="self"?"Self Order":"Customer Order"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-brand-secondary",children:"Payment Method"}),a.jsx("p",{className:"font-bold text-brand-dark",children:n.paymentMethod})]}),n.customerInfo&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("p",{className:"text-sm text-brand-secondary",children:"Customer Info"}),a.jsxs("p",{className:"font-bold text-brand-dark",children:[n.customerInfo.phone,", ",n.customerInfo.address]})]})]}),a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Order Summary"}),a.jsx("div",{className:"space-y-2",children:n.items.map(c=>a.jsxs("div",{className:"flex justify-between items-center text-brand-dark",children:[a.jsxs("span",{children:[c.name," (x",c.quantity,")"]}),a.jsxs("span",{children:["Rs. ",(parseFloat(c.price.replace(/,/g,""))*c.quantity).toLocaleString()]})]},c.id))}),a.jsxs("div",{className:"border-t mt-4 pt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-brand-dark",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["Rs. ",n.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-brand-dark",children:[a.jsx("span",{children:"Delivery Charges"}),a.jsxs("span",{children:["Rs. ",n.deliveryFee.toLocaleString()]})]}),n.commission>0&&a.jsxs("div",{className:"flex justify-between text-green-600 font-semibold",children:[a.jsx("span",{children:"Commission"}),a.jsxs("span",{children:["Rs. ",n.commission.toLocaleString()]})]}),n.mlmBalanceUsed&&n.mlmBalanceUsed>0&&a.jsxs("div",{className:"flex justify-between text-blue-600 font-semibold",children:[a.jsx("span",{children:"Referral Balance Used"}),a.jsxs("span",{children:["- Rs. ",n.mlmBalanceUsed.toFixed(2)]})]}),n.accountBalanceUsed&&n.accountBalanceUsed>0&&a.jsxs("div",{className:"flex justify-between text-purple-600 font-semibold",children:[a.jsx("span",{children:"Account Balance Used"}),a.jsxs("span",{children:["- Rs. ",n.accountBalanceUsed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-brand-dark font-bold text-xl",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["Rs. ",n.total.toLocaleString()]})]})]}),n.balanceBreakdown&&a.jsxs("div",{className:"border-t mt-6 pt-6",children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Balance Breakdown"}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Available Balance (Before):"}),a.jsxs("span",{className:"font-semibold",children:["Rs. ",n.balanceBreakdown.available_balance_before.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Total Balance Used:"}),a.jsxs("span",{className:"font-semibold text-red-600",children:["- Rs. ",n.balanceBreakdown.total_balance_used.toFixed(2)]})]}),n.cashPaid!==void 0&&n.cashPaid>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Cash Paid:"}),a.jsxs("span",{className:"font-semibold",children:["Rs. ",n.cashPaid.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[a.jsx("span",{className:"text-gray-600",children:"Remaining Balance:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rs. ",n.balanceBreakdown.remaining_balance.toFixed(2)]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"Referral Balance:"}),a.jsxs("span",{children:["Rs. ",n.balanceBreakdown.breakdown.mlm_balance.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"Platform Rewards:"}),a.jsxs("span",{children:["Rs. ",n.balanceBreakdown.breakdown.platform_rewards.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"Advance Credit:"}),a.jsxs("span",{children:["Rs. ",n.balanceBreakdown.breakdown.advance_credit.toFixed(2)]})]})]})]})]})]}),a.jsxs("div",{className:"mt-8 text-center space-y-4",children:[a.jsx("button",{onClick:i,className:"bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700 transition",children:"View My Orders"}),a.jsx("p",{children:a.jsx("button",{onClick:r,className:"text-brand-secondary font-semibold hover:underline",children:"Continue Shopping"})})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Order details not found."}),a.jsx("button",{onClick:r,className:"mt-4 bg-brand-dark text-white font-semibold py-3 px-8 rounded-[24px] hover:bg-gray-700",children:"Go to Home"})]}),$j={Delivered:"bg-green-100 text-green-800",Processing:"bg-blue-100 text-blue-800",Cancelled:"bg-red-100 text-red-800"},Gj=({order:n,onGoBack:r})=>{const i=f=>typeof f=="number"?f:parseFloat(f.toString().replace(/,/g,""))||0,c=(n.mlmBalanceUsed||0)+(n.accountBalanceUsed||0),u=n.cashPaid||n.total;return a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:r}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Order Details"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 space-y-6",children:[a.jsx("div",{className:"border-b pb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:n.orderId}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${$j[n.status]||"bg-gray-100 text-gray-800"}`,children:n.status}),a.jsx("span",{className:"text-sm text-brand-secondary",children:n.orderType==="self"?"Self Order":"Customer Order"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-brand-secondary",children:"Order Placed"}),a.jsx("p",{className:"font-semibold text-brand-dark",children:n.orderDate}),n.updatedAt&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-brand-secondary mt-2",children:"Last Updated"}),a.jsx("p",{className:"font-semibold text-brand-dark",children:n.updatedAt})]})]})]})}),n.customerInfo&&a.jsxs("div",{className:"border-b pb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-2",children:"Customer Information"}),a.jsxs("p",{className:"text-brand-secondary",children:[a.jsx("span",{className:"font-semibold",children:"Phone:"})," ",n.customerInfo.phone]}),a.jsxs("p",{className:"text-brand-secondary mt-1",children:[a.jsx("span",{className:"font-semibold",children:"Address:"})," ",n.customerInfo.address]})]}),a.jsxs("div",{className:"border-b pb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-2",children:"Payment Method"}),a.jsx("p",{className:"text-brand-secondary",children:n.paymentMethod})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Order Items"}),a.jsx("div",{className:"space-y-4",children:n.items.map((f,m)=>{const h=i(f.price),g=h*f.quantity;return a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[f.image&&a.jsx("img",{src:f.image,alt:f.name,className:"w-20 h-20 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-brand-dark",children:f.name}),a.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("div",{className:"text-sm text-brand-secondary",children:[a.jsx("span",{className:"font-semibold",children:"Quantity:"})," ",f.quantity]}),a.jsxs("div",{className:"text-sm text-brand-secondary",children:[a.jsx("span",{className:"font-semibold",children:"Price:"})," Rs. ",h.toLocaleString()]}),a.jsxs("div",{className:"font-bold text-brand-dark",children:["Total: Rs. ",g.toLocaleString()]})]})]})]},m)})})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Order Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-brand-secondary",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["Rs. ",n.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-brand-secondary",children:[a.jsx("span",{children:"Delivery Charges:"}),a.jsxs("span",{children:["Rs. ",n.deliveryFee.toLocaleString()]})]}),n.commission>0&&a.jsxs("div",{className:"flex justify-between text-brand-secondary",children:[a.jsx("span",{children:"Commission:"}),a.jsxs("span",{children:["Rs. ",n.commission.toLocaleString()]})]}),c>0&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Reward Balance Used:"}),a.jsxs("span",{className:"font-semibold",children:["- Rs. ",c.toFixed(2)]})]}),a.jsx("div",{className:"border-t pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-bold text-brand-dark",children:"Net Price Paid:"}),a.jsxs("span",{className:"text-xl font-bold text-brand-dark",children:["Rs. ",u.toLocaleString()]})]})})]})]}),n.balanceBreakdown&&a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Reward Balance Breakdown"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-brand-secondary",children:"Balance Before:"}),a.jsxs("span",{className:"font-semibold",children:["Rs. ",n.balanceBreakdown.available_balance_before.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-brand-secondary",children:"Total Balance Used:"}),a.jsxs("span",{className:"font-semibold text-red-600",children:["- Rs. ",n.balanceBreakdown.total_balance_used.toFixed(2)]})]}),n.balanceBreakdown.cash_paid>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-brand-secondary",children:"Cash Paid:"}),a.jsxs("span",{className:"font-semibold",children:["Rs. ",n.balanceBreakdown.cash_paid.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[a.jsx("span",{className:"text-brand-secondary",children:"Remaining Balance:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rs. ",n.balanceBreakdown.remaining_balance.toFixed(2)]})]})]})]})]})]})},Qj=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Xj=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Zj=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 017.743-5.743z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 00-2-2"})]}),Wj=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),ep=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Kj=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6"})]}),yo=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8V6m0 12v-2m0-10a9 9 0 110 18 9 9 0 010-18z"})}),Jj={Delivered:"bg-green-100 text-green-800",Processing:"bg-blue-100 text-blue-800",Cancelled:"bg-red-100 text-red-800"},eN=({order:n,onViewDetails:r})=>{const i=n.items.reduce((u,f)=>u+f.quantity,0),c=()=>{r&&r(n)};return a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[a.jsxs("div",{className:"flex-grow space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:n.orderId}),a.jsx("span",{className:`px-2.5 py-0.5 text-xs font-semibold rounded-full ${Jj[n.status]||"bg-gray-100 text-gray-800"}`,children:n.status})]}),a.jsxs("p",{className:"text-sm text-brand-secondary",children:["Date: ",n.orderDate]}),a.jsxs("p",{className:"text-sm text-brand-secondary",children:["Items: ",i]}),a.jsxs("p",{className:"text-base font-bold text-brand-dark sm:hidden",children:["Total: Rs. ",n.total.toLocaleString()]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center sm:space-x-6 w-full sm:w-auto",children:[a.jsxs("p",{className:"text-lg font-bold text-brand-dark hidden sm:block text-right",children:["Rs. ",n.total.toLocaleString()]}),a.jsx("button",{onClick:c,className:"bg-brand-dark text-white font-semibold py-2.5 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors mt-2 sm:mt-0",children:"View Details"})]})]})},Sl={createOrder:async n=>{const r=await ce.post(ie.ORDERS,n);return ke(r)},getOrders:async n=>{let r=ie.ORDERS;if(n){const c=new URLSearchParams;Object.entries(n).forEach(([f,m])=>{m!=null&&c.append(f,String(m))});const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},getOrdersWithMeta:async n=>{let r=ie.ORDERS;if(n){const h=new URLSearchParams;Object.entries(n).forEach(([x,v])=>{v!=null&&h.append(x,String(v))});const g=h.toString();g&&(r+=`?${g}`)}const{data:i,headers:c}=await ce.getWithMeta(r),u=Ge(i),f=c["x-total-count"]||c["x-total"]||c.total;let m=f?parseInt(f,10):void 0;return!m&&i&&typeof i=="object"&&(typeof i.total=="number"&&(m=i.total),!m&&typeof i.count=="number"&&(m=i.count)),{items:u,total:m,page:n==null?void 0:n.page,limit:n==null?void 0:n.limit}},getAffiliateOrders:async n=>{const r=n?`${ie.AFFILIATE_ORDERS}?${new URLSearchParams(n)}`:ie.AFFILIATE_ORDERS,i=await ce.get(r);return Ge(i)},getOrderById:async n=>{const r=await ce.get(ie.ORDER_BY_ID(n));return ke(r)},getOrderByOrderId:async n=>ce.get(ie.ORDER_BY_ORDER_ID(n)),updateOrderStatus:async(n,r)=>ce.put(ie.UPDATE_ORDER_STATUS(n),{status:r})},zn={createReferral:async(n,r)=>{const i=await ce.post(ie.MLM_REFERRAL,{user_id:n,referral_code:r});return ke(i)},getReferralTree:async n=>{const r=await ce.get(ie.MLM_TREE(String(n)));return ke(r)},getReferralCode:async()=>{const n=await ce.get(ie.MLM_REFERRAL_CODE);return ke(n).referral_code||""},getMlmBalance:async n=>{const r=await ce.get(ie.MLM_BALANCE(String(n)));return ke(r)},createWithdrawalRequest:async n=>{const r=await ce.post(ie.MLM_WITHDRAWALS,n);return ke(r)},listWithdrawalRequests:async()=>{const n=await ce.get(ie.MLM_WITHDRAWALS);return Ge(n)},listAllWithdrawals:async n=>{let r=ie.ADMIN_MLM_WITHDRAWALS;if(n){const c=new URLSearchParams;n.status&&c.append("status",n.status),n.page&&c.append("page",String(n.page)),n.limit&&c.append("limit",String(n.limit));const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},processWithdrawal:async(n,r)=>{const i=await ce.put(ie.ADMIN_MLM_WITHDRAWAL_PROCESS(String(n)),r);return ke(i)}},tN=Object.freeze(Object.defineProperty({__proto__:null,MlmService:zn},Symbol.toStringTag,{value:"Module"})),aN=({earnings:n})=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Affiliate History"}),n.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[a.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Order ID"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Customer"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Commission"}),a.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"})]})}),a.jsx("tbody",{children:n.map(r=>a.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[a.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:r.orderId}),a.jsx("td",{className:"px-6 py-4",children:r.customerName}),a.jsx("td",{className:"px-6 py-4",children:r.orderDate}),a.jsxs("td",{className:"px-6 py-4",children:["Rs. ",r.commission]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r.status==="Paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:r.status})})]},r.orderId))})]})}):a.jsx("p",{children:"No affiliate earnings yet."})]}),sN=({user:n,onLogout:r,setToastMessage:i,orders:c,onShopNow:u,initialSection:f,onGoBack:m,onNavigateToMlmDashboard:h,onViewOrderDetails:g,onReferralLoaded:x})=>{const[v,y]=p.useState(f),[w,N]=p.useState("My Orders"),[C,_]=p.useState([]),[T,L]=p.useState(!1),[Y,U]=p.useState(""),[P,k]=p.useState(!1),[A,O]=p.useState([]),[ae,H]=p.useState(!1),[$,ee]=p.useState(!1),[J,D]=p.useState(null),[E,W]=p.useState({label:"",full_name:"",phone:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Pakistan",is_default:!1});p.useEffect(()=>{y(f)},[f]),p.useEffect(()=>{v==="Address Management"&&M()},[v]),p.useEffect(()=>{(async()=>{k(!0);try{const Me=await zn.getReferralCode();U(Me),Me&&x&&x(Me)}catch(Me){console.error("Error loading referral code:",Me),U("")}finally{k(!1)}})()},[]),p.useEffect(()=>{(async()=>{if(w==="Affiliate History"){L(!0);try{const kt=(await Is.getCommissions({page:1,limit:100})).map(async ot=>{var Zt;const Ut=((Zt=ot.status)==null?void 0:Zt.toLowerCase())==="settled"?"Paid":"Pending",ea=ot.order_id?`#ORD${ot.order_id}`:`#CUST${ot.id}`,Qa=ot.created_at?new Date(ot.created_at).toLocaleDateString("en-GB"):new Date().toLocaleDateString("en-GB");let Ht="Unknown Customer";if(ot.order_id)try{const qt=await Sl.getOrderById(String(ot.order_id)),Ft=ke(qt);Ht=(Ft==null?void 0:Ft.customer_name)||(Ft==null?void 0:Ft.customer_phone)||"Unknown Customer"}catch(qt){console.warn("Failed to fetch order details for commission:",qt)}return{orderId:ea,customerName:Ht,orderDate:Qa,commission:ot.amount||0,status:Ut}}),yt=await Promise.all(kt);_(yt)}catch(Me){console.error("Failed to load affiliate earnings:",Me),i("Failed to load affiliate earnings. Please try again later."),_([])}finally{L(!1)}}})()},[w,i]);const M=async()=>{H(!0);try{const me=await jl.getAllAddresses();O(me)}catch(me){console.error("Error loading addresses:",me),i((me==null?void 0:me.message)||"Failed to load addresses")}finally{H(!1)}},q=async me=>{me.preventDefault();try{J?(await jl.updateAddress(J,E),i("Address updated successfully!")):(await jl.createAddress(E),i("Address added successfully!")),await M(),S()}catch(Me){i((Me==null?void 0:Me.message)||"Failed to save address")}},F=me=>{D(me.id),W({label:me.label||"",full_name:me.full_name,phone:me.phone,address_line1:me.address_line1,address_line2:me.address_line2||"",city:me.city,state:me.state||"",postal_code:me.postal_code||"",country:me.country||"Pakistan",is_default:me.is_default}),ee(!0)},I=async me=>{if(window.confirm("Are you sure you want to delete this address?"))try{await jl.deleteAddress(me),i("Address deleted successfully!"),await M()}catch(Me){i((Me==null?void 0:Me.message)||"Failed to delete address")}},G=async me=>{try{await jl.setDefaultAddress(me),i("Default address updated!"),await M()}catch(Me){i((Me==null?void 0:Me.message)||"Failed to set default address")}},S=()=>{W({label:"",full_name:"",phone:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Pakistan",is_default:!1}),ee(!1),D(null)},[Q,le]=p.useState({name:(n==null?void 0:n.name)||"John Doe",email:(n==null?void 0:n.email)||"john.doe.example.com",phone:"+1 234 Number"}),be=me=>{const{name:Me,value:kt}=me.target;le(yt=>({...yt,[Me]:kt}))},ge=me=>{me.preventDefault(),console.log("Saving changes:",Q),i("Profile updated successfully!")},je=[{name:"Personal Information",icon:a.jsx(Qj,{})},{name:"My Orders",icon:a.jsx(Kj,{})},{name:"Address Management",icon:a.jsx(Xj,{})},{name:"Change Password",icon:a.jsx(Zj,{})},...h?[{name:"Referral Dashboard",icon:a.jsx(yo,{}),action:h}]:[],{name:"Log Out",icon:a.jsx(Wj,{}),action:r}],ue=()=>{switch(v){case"Personal Information":return a.jsxs("div",{children:[a.jsxs("form",{onSubmit:ge,children:[a.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-6",children:"Personal Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",name:"name",value:Q.name,onChange:be,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),a.jsx("input",{type:"email",name:"email",value:Q.email,readOnly:!0,className:"w-full px-4 py-3 bg-gray-200 border border-gray-300 rounded-lg text-gray-500 cursor-not-allowed"}),a.jsx("input",{type:"tel",name:"phone",value:Q.phone,onChange:be,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsx("button",{type:"submit",className:"mt-8 w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors",children:"Save Changes"})]}),a.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Referral Code"}),P?a.jsx("div",{className:"text-brand-secondary",children:"Loading referral code..."}):Y?a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Your Referral Link:"}),a.jsx("button",{onClick:()=>{const me=`https://shauqse.com/register?ref=${Y}`;navigator.clipboard.writeText(me),i("Referral link copied to clipboard!")},className:"text-sm text-brand-dark hover:text-brand-secondary transition-colors",children:"Copy Link"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("code",{className:"flex-1 bg-white px-4 py-2 rounded border border-gray-300 font-mono text-sm font-bold text-brand-dark break-all",children:["https://shauqse.com/register?ref=",Y]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Share this link with friends to earn rewards when they sign up!"})]}):a.jsx("div",{className:"text-brand-secondary",children:"No referral code available"})]})]});case"My Orders":return a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-6",children:"Order & Affiliate Information"}),a.jsx("div",{className:"bg-gray-100 rounded-lg p-1 mb-6 inline-flex items-center space-x-1",children:["My Orders","Order History","Affiliate History"].map(me=>a.jsx("button",{onClick:()=>N(me),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition ${w===me?"bg-white shadow text-brand-dark":"text-gray-500 hover:bg-white/60"}`,children:me},me))}),w==="Affiliate History"?T?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(Ie,{size:"md",text:"Loading affiliate earnings..."})}):a.jsx(aN,{earnings:C}):a.jsx(a.Fragment,{children:c.length>0?a.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:c.map(me=>a.jsx(eN,{order:me,onViewDetails:g},me.orderId))}):a.jsxs("div",{className:"w-full bg-gray-50 rounded-lg p-8 text-center flex flex-col items-center justify-center min-h-[200px]",children:[a.jsx("h3",{className:"text-md font-bold text-brand-dark",children:"You haven't placed any orders yet."}),a.jsx("p",{className:"text-brand-secondary text-sm mt-1 mb-4",children:"All your future orders will appear here."}),a.jsx("button",{onClick:u,className:"bg-brand-dark text-white font-semibold py-2 px-6 rounded-[24px] hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-dark transition-colors text-sm",children:"Shop Now"})]})})]});case"Address Management":return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-brand-dark",children:"Address Management"}),!$&&a.jsx("button",{onClick:()=>ee(!0),className:"px-4 py-2 bg-brand-dark text-white rounded-lg hover:bg-gray-700 transition",children:"+ Add New Address"})]}),$&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-brand-dark mb-4",children:J?"Edit Address":"Add New Address"}),a.jsxs("form",{onSubmit:q,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Label (Optional)"}),a.jsx("input",{type:"text",value:E.label,onChange:me=>W({...E,label:me.target.value}),placeholder:"e.g., Home, Office",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",value:E.full_name,onChange:me=>W({...E,full_name:me.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Phone *"}),a.jsx("input",{type:"tel",value:E.phone,onChange:me=>W({...E,phone:me.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"City *"}),a.jsx("input",{type:"text",value:E.city,onChange:me=>W({...E,city:me.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Address Line 1 *"}),a.jsx("input",{type:"text",value:E.address_line1,onChange:me=>W({...E,address_line1:me.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Address Line 2 (Optional)"}),a.jsx("input",{type:"text",value:E.address_line2,onChange:me=>W({...E,address_line2:me.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"State (Optional)"}),a.jsx("input",{type:"text",value:E.state,onChange:me=>W({...E,state:me.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Postal Code (Optional)"}),a.jsx("input",{type:"text",value:E.postal_code,onChange:me=>W({...E,postal_code:me.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Country"}),a.jsx("input",{type:"text",value:E.country,onChange:me=>W({...E,country:me.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:E.is_default,onChange:me=>W({...E,is_default:me.target.checked}),className:"w-4 h-4 text-brand-dark rounded focus:ring-brand-dark"}),a.jsx("label",{className:"text-sm font-semibold text-brand-dark",children:"Set as default address"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{type:"submit",className:"px-6 py-2 bg-brand-dark text-white rounded-lg hover:bg-gray-700 transition",children:J?"Update Address":"Save Address"}),a.jsx("button",{type:"button",onClick:S,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Cancel"})]})]})]}),ae?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(Ie,{size:"md",text:"Loading addresses..."})}):A.length===0?a.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-brand-secondary",children:"No addresses saved yet. Add your first address above."})}):a.jsx("div",{className:"space-y-4",children:A.map(me=>a.jsx("div",{className:`border rounded-lg p-4 ${me.is_default?"border-brand-dark bg-brand-dark/5":"border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[me.label&&a.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs font-semibold rounded",children:me.label}),me.is_default&&a.jsx("span",{className:"px-2 py-1 bg-brand-dark text-white text-xs font-semibold rounded",children:"Default"})]}),a.jsx("p",{className:"font-semibold text-brand-dark",children:me.full_name}),a.jsx("p",{className:"text-sm text-gray-600",children:me.phone}),a.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[me.address_line1,me.address_line2&&`, ${me.address_line2}`]}),a.jsxs("p",{className:"text-sm text-gray-700",children:[me.city,me.state&&`, ${me.state}`,me.postal_code&&` ${me.postal_code}`]}),me.country&&a.jsx("p",{className:"text-sm text-gray-700",children:me.country})]}),a.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[!me.is_default&&a.jsx("button",{onClick:()=>G(me.id),className:"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Set Default"}),a.jsx("button",{onClick:()=>F(me),className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Edit"}),a.jsx("button",{onClick:()=>I(me.id),className:"px-3 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition",children:"Delete"})]})]})},me.id))})]});case"Change Password":return a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-6",children:"Change Password"}),a.jsx("p",{className:"text-brand-secondary",children:"This feature is coming soon."})]});default:return null}},ye=(n==null?void 0:n.role)===Ea.AFFILIATE||(n==null?void 0:n.affiliateBalance)!==void 0&&n.affiliateBalance>0,Oe=(n==null?void 0:n.affiliateBalance)||0;return a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6 animate-fade-in-up",children:[a.jsx(Xt,{onClick:m,className:"mb-4"}),a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-brand-dark",children:"My Profile"}),ye&&a.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-full shadow-lg flex items-center space-x-3",children:[a.jsx("span",{className:"font-semibold",children:"Affiliate Balance:"}),a.jsxs("span",{className:"font-bold text-xl",children:["Rs. ",Oe.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[a.jsxs("aside",{className:"lg:col-span-1 bg-white rounded-2xl shadow-md p-4 space-y-1",children:[je.map(me=>a.jsxs("button",{onClick:()=>me.action?me.action():y(me.name),className:`w-full flex items-center space-x-4 p-3 rounded-lg text-left font-semibold transition ${v===me.name?"bg-gray-100 text-brand-dark":"text-gray-500 hover:bg-gray-50 hover:text-brand-dark"}`,children:[me.icon,a.jsx("span",{children:me.name})]},me.name)),a.jsx("div",{className:"border-t my-2 !mt-4 !mb-2"}),a.jsxs("div",{className:"p-3 text-gray-400 flex items-center space-x-4",children:[a.jsx(ep,{}),a.jsx("span",{children:(n==null?void 0:n.role)===Ea.ADMIN?"Admin Account":(n==null?void 0:n.role)===Ea.AFFILIATE?"Affiliate Account":"Customer Account"})]})]}),a.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-8",children:ue()})]})]})},nN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ko=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),zt=({message:n,show:r,onClose:i,type:c="success"})=>{if(p.useEffect(()=>{if(r){const m=setTimeout(()=>{i()},3e3);return()=>clearTimeout(m)}},[r,i]),!r)return null;const u=c==="error"?"bg-red-500":c==="warning"?"bg-orange-500":"bg-green-600",f=c==="error"?ko:c==="warning"?Jg:nN;return a.jsx("div",{className:"fixed top-24 right-6 z-50 animate-fade-in-up",children:a.jsxs("div",{className:`flex items-center space-x-4 ${u} text-white text-sm font-semibold px-4 py-3 rounded-lg shadow-lg`,children:[a.jsx(f,{}),a.jsx("span",{children:n}),a.jsx("button",{onClick:i,className:"ml-auto -mr-1 p-1",children:a.jsx(ko,{})})]})})},lN=({quantity:n,setQuantity:r})=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>r(Math.max(1,n-1)),className:"h-8 w-8 bg-gray-200 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-300 transition",children:"-"}),a.jsx("span",{className:"w-10 text-center font-semibold",children:n}),a.jsx("button",{onClick:()=>r(n+1),className:"h-8 w-8 bg-gray-200 text-brand-dark rounded-full flex items-center justify-center hover:bg-gray-300 transition",children:"+"})]}),rN=({product:n,onClose:r,onAddToCart:i,onToggleWishlist:c,isWishlisted:u,onProductSelect:f})=>{var _;const[m,h]=p.useState(1),[g,x]=p.useState(((_=n.sizes)==null?void 0:_[0])||null),v=p.useMemo(()=>(n.description||"").trim(),[n.description]),y=!!n.originalPrice&&!Number.isNaN(parseFloat(n.originalPrice))&&!Number.isNaN(parseFloat(n.price))&&parseFloat(n.originalPrice)>parseFloat(n.price),w=p.useMemo(()=>{if(!v)return"";const T=Je(v,{gfm:!0,breaks:!0});return Lu.sanitize(T)},[v]);p.useEffect(()=>{const T=L=>{L.key==="Escape"&&r()};return window.addEventListener("keydown",T),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",T),document.body.style.overflow="auto"}},[r]);const N=()=>{i(n,m),r()},C=()=>{r(),f(n)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-scale-in",onClick:r,children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[a.jsxs("div",{className:"relative aspect-square",children:[a.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover rounded-t-2xl md:rounded-l-2xl md:rounded-tr-none"}),a.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-white/70 backdrop-blur-sm rounded-full text-gray-600 hover:text-brand-dark transition z-10",children:a.jsx(ko,{})})]}),a.jsxs("div",{className:"p-8 flex flex-col",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-brand-secondary uppercase tracking-wider",children:n.category}),a.jsx("h2",{className:"text-3xl font-bold text-brand-dark mt-2",children:n.name}),a.jsxs("div",{className:"mt-4 flex items-baseline space-x-3",children:[a.jsxs("p",{className:"text-2xl font-bold text-brand-dark",children:["Rs. ",n.price]}),y&&a.jsxs("p",{className:"text-lg text-brand-secondary line-through",children:["Rs. ",n.originalPrice]})]}),w&&a.jsx("div",{className:"mt-4 text-sm text-gray-600 leading-relaxed line-clamp-3",dangerouslySetInnerHTML:{__html:w}})]}),n.sizes&&n.sizes.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-sm font-bold text-brand-dark uppercase",children:"Size"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.sizes.map(T=>a.jsx("button",{onClick:()=>x(T),className:`px-4 py-1.5 rounded-full border text-xs font-semibold transition ${g===T?"bg-brand-dark text-white border-brand-dark":"bg-white text-brand-dark border-gray-300 hover:border-brand-dark"}`,children:T},T))})]}),a.jsxs("div",{className:"mt-auto pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-sm font-bold text-brand-dark uppercase",children:"Quantity"}),a.jsx(lN,{quantity:m,setQuantity:h})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:N,className:"flex-1 bg-brand-dark text-white font-semibold py-3 px-6 rounded-[24px] hover:bg-gray-700 transition",children:"Add to Cart"}),a.jsx("button",{onClick:()=>c(n.id),className:"p-3 bg-white border-2 border-gray-300 rounded-full hover:border-brand-dark transition","aria-label":"Toggle Wishlist",children:a.jsx(El,{className:`w-5 h-5 transition-colors ${u?"text-red-500 fill-current":"text-gray-500"}`})})]}),a.jsx("button",{onClick:C,className:"w-full text-center mt-3 text-sm font-semibold text-brand-secondary hover:text-brand-dark hover:underline",children:"View full details"})]})]})]})})})},iN=({onLogout:n,onNavigateToPublicView:r})=>a.jsxs("header",{className:"sticky top-0 z-50 bg-brand-dark shadow-md h-16 flex items-center px-6 justify-between",children:[a.jsx("h1",{className:"text-white text-xl font-bold",children:"Shauq Admin"}),a.jsxs("div",{className:"flex items-center gap-4",children:[r&&a.jsx("button",{onClick:r,className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors text-sm font-medium",title:"Switch to Public View",children:"Public View"}),a.jsx("button",{onClick:n,className:"text-white rounded-full p-1.5 hover:bg-white/10 transition-colors",title:"Log Out",children:a.jsx(Mg,{})})]})]}),oN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),cN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),dN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01m-1.01 4h.01"})}),uN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A4 4 0 013 12.354"})}),mN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Rr=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),fN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),hN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),xN=[{name:"MyStore",icon:a.jsx(Rr,{}),vendorOnly:!0},{name:"Dashboard",icon:a.jsx(oN,{})},{name:"Products",icon:a.jsx(cN,{})},{name:"Categories",icon:a.jsx(Lg,{})},{name:"Orders",icon:a.jsx(dN,{})},{name:"Users",icon:a.jsx(uN,{}),adminOnly:!0},{name:"Commission",icon:a.jsx(yo,{}),adminOnly:!0},{name:"VendorEarnings",icon:a.jsx(yo,{}),vendorOnly:!0},{name:"Brands",icon:a.jsx(Rr,{}),adminOnly:!0},{name:"Stores",icon:a.jsx(Rr,{}),adminOnly:!0},{name:"Stakeholders",icon:a.jsx(mN,{}),adminOnly:!0},{name:"CommissionSettings",icon:a.jsx(yo,{}),adminOnly:!0},{name:"Collections",icon:a.jsx(Rr,{})},{name:"ProductFlags",icon:a.jsx(Rr,{})},{name:"Financial",icon:a.jsx(fN,{}),adminOnly:!0},{name:"MoneyTrail",icon:a.jsx(hN,{}),adminOnly:!0}],gN=({activeTab:n,setActiveTab:r})=>{var h;const i=Te.getBackendUser(),c=((h=i==null?void 0:i.role)==null?void 0:h.toLowerCase())||"customer",u=c==="admin",f=c==="vendor"||c==="brand",m=xN.filter(g=>!(g.adminOnly&&!u||g.vendorOnly&&!f));return a.jsx("aside",{className:"w-64 bg-brand-dark text-white h-[calc(100vh-4rem)] sticky top-16 rounded-tr-2xl rounded-br-2xl flex flex-col p-4",children:a.jsxs("nav",{className:"flex flex-col space-y-2",children:[a.jsx("p",{className:"px-4 pt-2 pb-2 text-xs font-semibold text-gray-400 uppercase",children:"DesktopTopNav"}),m.map(g=>{const x=n===g.name;return a.jsxs("button",{onClick:()=>r(g.name),className:`flex items-center space-x-3 px-4 py-2.5 rounded-lg transition-colors text-sm font-medium ${x?"bg-sky-500/80 text-white":"text-gray-300 hover:bg-white/10 hover:text-white"}`,children:[g.icon,a.jsx("span",{children:g.name})]},g.name)})]})})},ts={registerVendor:async n=>{const r=await ce.post(ie.VENDOR_REGISTER,n);return ke(r)},getVendorByUserId:async n=>{const r=await ce.get(ie.VENDOR_BY_USER(String(n)));return ke(r)},getVendorBySlug:async n=>{const r=await ce.get(ie.VENDOR_BY_SLUG(n));return ke(r)},getAllVendors:async n=>{let r=ie.VENDORS;if(n){const c=new URLSearchParams;n.type&&c.append("type",n.type),n.active_only!==void 0&&c.append("active_only",String(n.active_only));const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},updateVendorRegistration:async n=>{const r=await ce.put(ie.VENDOR_UPDATE,n);return ke(r)},registerVendorAdmin:async n=>{const r=await ce.post(ie.ADMIN_VENDORS,n);return ke(r)},updateVendorRegistrationAdmin:async(n,r)=>{const i=await ce.put(ie.ADMIN_VENDOR_BY_ID(String(n)),r);return ke(i)},getVendorEarningsSummary:async n=>{const r=await ce.get(ie.VENDOR_EARNINGS(String(n)));return ke(r)},getVendorEarningsHistory:async(n,r)=>{let i=ie.VENDOR_EARNINGS_HISTORY(String(n));if(r){const u=new URLSearchParams;r.page&&u.append("page",String(r.page)),r.limit&&u.append("limit",String(r.limit));const f=u.toString();f&&(i+=`?${f}`)}const c=await ce.get(i);return Ge(c)}},Lr=({title:n,value:r})=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:n}),a.jsx("h3",{className:"text-3xl font-bold text-gray-800 mt-1",children:r})]}),lg=()=>{const[n,r]=p.useState(!0),[i,c]=p.useState(0),[u,f]=p.useState(0),[m,h]=p.useState(0),[g,x]=p.useState(0),[v,y]=p.useState(0),[w,N]=p.useState(null),[C,_]=p.useState(!1),[T,L]=p.useState(null);return p.useEffect(()=>{var k;const Y=Te.getBackendUser(),U=((k=Y==null?void 0:Y.role)==null?void 0:k.toLowerCase())||"customer",P=U==="vendor"||U==="brand";_(P),P&&(Y!=null&&Y.id)&&ts.getVendorByUserId(parseInt(Y.id)).then(A=>{L(A.id)}).catch(A=>{console.error("Failed to get vendor info:",A)})},[]),p.useEffect(()=>{(async()=>{var U,P,k;r(!0);try{const A=await Sl.getOrders({page:1,limit:50});c(Array.isArray(A)?A.length:0);const ae=(await Fa.getProducts({page:1,limit:200})).filter(H=>(H.stock??0)>0&&(H.stock??0)<10).length;if(f(ae),!C)try{const H=await ce.get(`${ie.ADMIN_AFFILIATE_WITHDRAWALS}?status=pending`),$=H&&(H.data||H.result||H.items)||H||[];h(Array.isArray($)?$.length:0)}catch{try{const H=await ce.get(ie.ADMIN_AFFILIATE_WITHDRAWALS),$=H&&(H.data||H.result||H.items)||H||[];h(Array.isArray($)?$.length:0)}catch{h(0)}}if(C&&T)try{const H=await ts.getVendorEarningsSummary(T);x(H.total_earned||0),y(H.net_balance||0)}catch(H){console.error("Failed to load vendor earnings:",H)}}catch(A){console.error("Dashboard load failed",A),!((U=A==null?void 0:A.message)!=null&&U.includes("permission"))&&!((P=A==null?void 0:A.message)!=null&&P.includes("403"))&&!((k=A==null?void 0:A.message)!=null&&k.includes("401"))&&N({msg:(A==null?void 0:A.message)||"Failed to load dashboard",type:"error"})}finally{r(!1)}})()},[C,T]),n?a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:a.jsx("div",{className:"py-16 flex items-center justify-center",children:a.jsx(Ie,{size:"lg",text:"Loading dashboard..."})})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Lr,{title:"Recent Orders (last 50)",value:i}),a.jsx(Lr,{title:"Low Stock Products (<10)",value:u}),C?a.jsxs(a.Fragment,{children:[a.jsx(Lr,{title:"Total Earned",value:`Rs. ${g.toLocaleString()}`}),a.jsx(Lr,{title:"Net Balance",value:`Rs. ${v.toLocaleString()}`})]}):a.jsx(Lr,{title:"Pending Withdrawals",value:m})]}),w&&a.jsx(zt,{message:w.msg,show:!!w,onClose:()=>N(null),type:w.type})]})},pN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),bN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Or={getAllFlags:async(n=!0)=>{let r=ie.PRODUCT_FLAGS_ADMIN;n&&(r+="?active_only=true");const i=await ce.get(r);return Ge(i)},createFlag:async n=>{const r=await ce.post(ie.PRODUCT_FLAGS_ADMIN,n);return ke(r)},updateFlag:async(n,r)=>{const i=await ce.put(ie.PRODUCT_FLAG_ADMIN_BY_ID(String(n)),r);return ke(i)},deleteFlag:async n=>{await ce.delete(ie.PRODUCT_FLAG_ADMIN_BY_ID(String(n)))}},yN=({product:n,onSave:r,onClose:i})=>{var D;const c=Te.getBackendUser(),f=(((D=c==null?void 0:c.role)==null?void 0:D.toLowerCase())||"customer")==="admin",[m,h]=p.useState({name:"",category:"",price:"",originalPrice:"",stock:0,description:"",image:"",public_id:"",vendor_id:"",brand_id:""}),[g,x]=p.useState([]),[v,y]=p.useState([]),[w,N]=p.useState([]),[C,_]=p.useState(!1),[T,L]=p.useState([]),[Y,U]=p.useState([]),[P,k]=p.useState([]),[A,O]=p.useState([]);p.useEffect(()=>{(async()=>{try{const M=(await On.getCategories()).filter(I=>I.is_active!==!1);x(M),!n&&M.length>0&&h(I=>I.category?I:{...I,category:M[0].name});const q=await ts.getAllVendors({active_only:!0});y(q);const F=await Hs.getAllBrands(!0);N(F);try{const I=await Or.getAllFlags(!0);k(I)}catch(I){console.warn("Failed to load product flags:",I)}}catch(W){console.error("Failed to load data:",W)}})()},[n]),p.useEffect(()=>{if(n){h({name:n.name,category:n.category||(g.length>0?g[0].name:""),price:n.price,originalPrice:n.originalPrice||"",stock:n.stock||0,description:n.description||"",image:n.image,public_id:n.public_id||"",vendor_id:n.vendor_id?String(n.vendor_id):"",brand_id:n.brand_id?String(n.brand_id):""}),n.images&&Array.isArray(n.images)?L(n.images.map(W=>({url:W,public_id:void 0}))):n.image&&L([{url:n.image,public_id:n.public_id}]);const E=n.flags;E&&Array.isArray(E)?O(E.map(W=>W.id)):O([])}else L([]),O([])},[n,g]),p.useEffect(()=>{const E=W=>{W.key==="Escape"&&i()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[i]);const ae=E=>{const{name:W,value:M}=E.target;h(q=>({...q,[W]:W==="stock"?parseInt(M):M}))},H=E=>{E.preventDefault();const W={...m,originalPrice:m.originalPrice||null,public_id:m.public_id||void 0,vendor_id:m.vendor_id?parseInt(m.vendor_id,10):void 0,brand_id:m.brand_id?parseInt(m.brand_id,10):void 0};if(f||(delete W.vendor_id,delete W.brand_id),n?T.length>0&&(W.images=T.map(M=>M.url)):T.length>0&&(W.images=T,!W.image&&T[0]&&(W.image=T[0].url,W.public_id=T[0].public_id)),A.length>0&&P.length>0){const M=P.filter(q=>A.includes(q.id));W.flags=M}else W.flags=[];r(n?{...n,...W}:W)},$=async E=>{const W=E.target.files;if(!W||W.length===0)return;const M=Array.from(W);_(!0);try{const q=M.map(async(I,G)=>{U(S=>[...S,G]);try{const S=await as(I,{folder:"products"});return{url:S.secure_url,public_id:S.public_id||void 0}}finally{U(S=>S.filter(Q=>Q!==G))}}),F=await Promise.all(q);L(I=>[...I,...F]),!m.image&&F.length>0&&h(I=>({...I,image:F[0].url,public_id:F[0].public_id||""}))}catch(q){alert((q==null?void 0:q.message)||"Image upload failed")}finally{_(!1),E.target.value=""}},ee=E=>{L(W=>{const M=W.filter((q,F)=>F!==E);return E===0&&M.length>0?h(q=>({...q,image:M[0].url,public_id:M[0].public_id||""})):M.length===0&&h(q=>({...q,image:"",public_id:""})),M})},J=E=>{T[E]&&(h(W=>({...W,image:T[E].url,public_id:T[E].public_id||""})),L(W=>{const M=[...W],[q]=M.splice(E,1);return[q,...M]}))};return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:i,children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",onClick:E=>E.stopPropagation(),children:a.jsxs("form",{onSubmit:H,children:[a.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n?"Edit Product":"Add New Product"}),a.jsx("button",{type:"button",onClick:i,className:"p-1 rounded-full hover:bg-gray-100",children:a.jsx(ko,{})})]}),a.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Name"}),a.jsx("input",{type:"text",name:"name",value:m.name,onChange:ae,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Category"}),a.jsx("select",{name:"category",value:m.category,onChange:ae,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",required:!0,children:g.length===0?a.jsx("option",{children:"Loading categories..."}):g.map(E=>a.jsx("option",{value:E.name,children:E.name},E.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Price"}),a.jsx("input",{type:"text",name:"price",value:m.price,onChange:ae,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Original Price"}),a.jsx("input",{type:"text",name:"originalPrice",value:m.originalPrice,onChange:ae,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Stock"}),a.jsx("input",{type:"number",name:"stock",value:m.stock,onChange:ae,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]})]}),f&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Vendor (Optional)"}),a.jsxs("select",{name:"vendor_id",value:m.vendor_id,onChange:ae,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Select Vendor"}),v.map(E=>a.jsxs("option",{value:E.user_id,children:[E.store_name," (",E.registration_type,")"]},E.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Brand (Optional)"}),a.jsxs("select",{name:"brand_id",value:m.brand_id,onChange:ae,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Select Brand"}),w.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Primary Image URL"}),a.jsx("input",{type:"text",name:"image",value:m.image,onChange:ae,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Primary image (auto-filled from first uploaded image)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Product Images"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:$,disabled:C,className:"w-full mt-1"}),(C||Y.length>0)&&a.jsx("div",{className:"mt-2",children:a.jsx(Ie,{size:"sm",text:`Uploading ${Y.length} image(s)...`})}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You can select multiple images. First image will be set as primary."})]}),T.length>0&&a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-gray-600 mb-2 block",children:["Uploaded Images (",T.length,")"]}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:T.map((E,W)=>a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:`relative aspect-square rounded-lg overflow-hidden border-2 ${m.image===E.url?"border-brand-dark":"border-gray-200"}`,children:[a.jsx("img",{src:E.url,alt:`Product image ${W+1}`,className:"w-full h-full object-cover"}),m.image===E.url&&a.jsx("div",{className:"absolute top-1 left-1 bg-brand-dark text-white text-xs px-2 py-1 rounded",children:"Primary"}),a.jsx("button",{type:"button",onClick:()=>ee(W),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),a.jsx("div",{className:"mt-1 flex gap-1",children:a.jsx("button",{type:"button",onClick:()=>J(W),className:`text-xs px-2 py-1 rounded ${m.image===E.url?"bg-brand-dark text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:m.image===E.url?"Primary":"Set Primary"})})]},W))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Product Flags"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Yahan se special badges select kar sakte hain (jaise hand-made, made on order)."}),P.length===0?a.jsx("p",{className:"text-xs text-gray-400",children:'Koi flags configured nahi hain. Admin panel me "ProductFlags" tab se naye flags bana sakte hain.'}):a.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(E=>{const W=A.includes(E.id);return a.jsx("button",{type:"button",onClick:()=>O(M=>M.includes(E.id)?M.filter(q=>q!==E.id):[...M,E.id]),title:E.description||"",className:`px-3 py-1 rounded-full border text-xs font-semibold transition ${W?"bg-amber-100 border-amber-400 text-amber-800":"bg-white border-gray-300 text-gray-700 hover:border-amber-300"}`,children:E.badge_text||E.name},E.id)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),a.jsx("textarea",{name:"description",value:m.description,onChange:ae,rows:4,className:"w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none resize-y"})]})]}),a.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:i,className:"py-2 px-4 border border-gray-300 rounded-md text-sm font-semibold text-gray-700 hover:bg-gray-100",children:"Cancel"}),a.jsx("button",{type:"submit",className:"py-2 px-4 bg-brand-dark text-white rounded-md text-sm font-semibold hover:bg-gray-700",children:n?"Save Changes":"Add Product"})]})]})})})},vN=({products:n,onAddProduct:r,onUpdateProduct:i,onDeleteProduct:c})=>{const[u,f]=p.useState(!1),[m,h]=p.useState(null),[g,x]=p.useState([]),[v,y]=p.useState(!0),[w,N]=p.useState(null),[C,_]=p.useState(1),[T]=p.useState(50),[L,Y]=p.useState(!1),[U,P]=p.useState(void 0),k=p.useMemo(()=>{if(typeof U=="number"&&U>0)return Math.max(1,Math.ceil(U/T))},[U,T]),[A,O]=p.useState("");p.useEffect(()=>{ae()},[C,T,A]);const ae=async()=>{y(!0);try{const D=await Fa.getProductsWithMeta({page:C,limit:T,search:A||void 0});x(D.items),Y(Array.isArray(D.items)?D.items.length===T:!1),P(D.total)}catch(D){N({msg:(D==null?void 0:D.message)||"Failed to load products",type:"error"}),x([])}finally{y(!1)}},H=()=>{h(null),f(!0)},$=D=>{h(D),f(!0)},ee=async D=>{if(window.confirm("Are you sure you want to delete this product?"))try{await c(D),await ae()}catch(E){N({msg:(E==null?void 0:E.message)||"Delete failed",type:"error"})}},J=async D=>{try{"id"in D?await i(D):await r(D),f(!1),await ae()}catch(E){N({msg:(E==null?void 0:E.message)||"Save failed",type:"error"})}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-[0_4px_8px_rgba(0,0,0,0.05)] p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Product Management"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Add, edit, and manage your products."})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:H,className:"bg-gray-800 text-white font-semibold py-2 px-4 rounded-md hover:bg-gray-700 transition-colors",children:"Add New Product"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search",value:A,onChange:D=>{O(D.target.value),_(1)},className:"w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400"}),a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:a.jsx(Nu,{})})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:v?a.jsx("div",{className:"py-12 flex justify-center",children:a.jsx(Ie,{size:"md",text:"Loading products..."})}):a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 text-sm font-semibold text-gray-600",children:[a.jsx("th",{className:"p-4 rounded-l-lg",children:"Name"}),a.jsx("th",{className:"p-4",children:"Stock"}),a.jsx("th",{className:"p-4",children:"Price"}),a.jsx("th",{className:"p-4 rounded-r-lg",children:"Actions"})]})}),a.jsx("tbody",{children:g.map(D=>a.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[a.jsx("td",{className:"p-4 text-sm font-medium text-gray-800",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[D.image?a.jsx("img",{src:D.image,alt:D.name,className:"w-10 h-10 object-cover rounded-md bg-gray-200"}):a.jsx("div",{className:"w-10 h-10 rounded-md bg-gray-200 flex items-center justify-center text-xs text-gray-500",children:"N/A"}),a.jsx("span",{children:D.name})]})}),a.jsx("td",{className:"p-4 text-sm text-gray-600",children:D.stock||0}),a.jsxs("td",{className:"p-4 text-sm text-gray-600",children:["Rs. ",D.price]}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-3 text-gray-500",children:[a.jsx("button",{onClick:()=>$(D),className:"hover:text-blue-600",children:a.jsx(pN,{})}),a.jsx("button",{onClick:()=>ee(D.id),className:"hover:text-red-500",children:a.jsx(bN,{})})]})})]},D.id))})]})}),a.jsxs("div",{className:"mt-6 flex justify-end items-center space-x-3 text-sm text-gray-600",children:[typeof U=="number"&&a.jsxs("span",{className:"text-xs text-gray-500",children:["Total: ",U.toLocaleString()]}),a.jsx("button",{onClick:()=>_(Math.max(1,C-1)),disabled:C<=1,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),a.jsxs("span",{children:["Page ",C,k?` of ${k}`:""]}),a.jsx("button",{onClick:()=>_(C+1),disabled:k?C>=k:!L,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]}),u&&a.jsx(yN,{product:m,onSave:J,onClose:()=>f(!1)}),w&&a.jsx(zt,{message:w.msg,show:!!w,onClose:()=>N(null),type:w.type})]})},jN=()=>{const[n,r]=p.useState([]),[i,c]=p.useState(!0),[u,f]=p.useState(null),[m,h]=p.useState({name:"",description:"",image_url:"",public_id:"",is_active:!0}),[g,x]=p.useState(null),[v,y]=p.useState(!1);p.useEffect(()=>{w()},[]);const w=async()=>{c(!0);try{const Y=await On.getCategories();r(Y)}catch(Y){x({msg:(Y==null?void 0:Y.message)||"Failed to load categories",type:"error"})}finally{c(!1)}},N=()=>{f(null),h({name:"",description:"",image_url:"",public_id:"",is_active:!0})},C=async Y=>{var U,P,k;Y.preventDefault();try{const A={name:m.name,description:((U=m.description)==null?void 0:U.trim())||void 0,image_url:((P=m.image_url)==null?void 0:P.trim())||void 0,public_id:((k=m.public_id)==null?void 0:k.trim())||void 0,is_active:m.is_active};if(u){const O=await On.updateCategory(String(u.id),A);r(ae=>ae.map(H=>H.id===O.id?O:H)),x({msg:"Category updated",type:"success"})}else{const O=await On.createCategory(A);r(ae=>[O,...ae]),x({msg:"Category created",type:"success"})}N()}catch(A){x({msg:(A==null?void 0:A.message)||"Save failed",type:"error"})}},_=async Y=>{var P;const U=(P=Y.target.files)==null?void 0:P[0];if(U){y(!0);try{const k=await as(U,{folder:"categories"});h(A=>({...A,image_url:k.secure_url,public_id:k.public_id||""}))}catch(k){x({msg:(k==null?void 0:k.message)||"Image upload failed",type:"error"})}finally{y(!1)}}},T=Y=>{f(Y),h({name:Y.name,description:Y.description,image_url:Y.image_url,is_active:Y.is_active!==!1})},L=async Y=>{if(confirm("Delete this category?"))try{await On.deleteCategory(String(Y)),r(U=>U.filter(P=>P.id!==Y)),x({msg:"Category deleted",type:"success"})}catch(U){x({msg:(U==null?void 0:U.message)||"Delete failed",type:"error"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:u?"Edit Category":"Create Category"}),a.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("input",{value:m.name,onChange:Y=>h({...m,name:Y.target.value}),placeholder:"Name",required:!0,className:"border rounded-lg px-3 py-2"}),a.jsx("input",{value:m.description||"",onChange:Y=>h({...m,description:Y.target.value}),placeholder:"Description",className:"border rounded-lg px-3 py-2"}),a.jsx("input",{value:m.image_url||"",onChange:Y=>h({...m,image_url:Y.target.value}),placeholder:"Image URL (optional)",className:"border rounded-lg px-3 py-2"}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:_,disabled:v,className:"w-full"}),v&&a.jsx("div",{className:"mt-2",children:a.jsx(Ie,{size:"sm",text:"Uploading..."})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-gray-700",children:"Active"}),a.jsx("input",{type:"checkbox",checked:m.is_active!==!1,onChange:Y=>h({...m,is_active:Y.target.checked})})]}),a.jsxs("div",{className:"md:col-span-4 flex gap-2",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-dark text-white rounded-lg",children:u?"Update":"Create"}),u&&a.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 border rounded-lg",children:"Cancel"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Categories"}),a.jsx("button",{onClick:w,className:"text-sm font-semibold text-brand-dark hover:text-gray-700 transition",children:"Refresh"})]}),i?a.jsx("div",{className:"py-12 flex items-center justify-center",children:a.jsx(Ie,{size:"md",text:"Loading categories..."})}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-4 py-3",children:"Name"}),a.jsx("th",{className:"px-4 py-3",children:"Description"}),a.jsx("th",{className:"px-4 py-3",children:"Active"}),a.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(Y=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-semibold",children:Y.name}),a.jsx("td",{className:"px-4 py-3",children:Y.description||"-"}),a.jsx("td",{className:"px-4 py-3",children:Y.is_active!==!1?"Yes":"No"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>T(Y),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Edit"}),a.jsx("button",{onClick:()=>L(Y.id),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Delete"})]})})]},Y.id))})]}),n.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-10",children:"No categories found"})]})]}),g&&a.jsx(zt,{message:g.msg,show:!!g,onClose:()=>x(null),type:g.type})]})},NN=()=>{const[n,r]=p.useState([]),[i,c]=p.useState(!0),[u,f]=p.useState(null),[m,h]=p.useState(null),[g,x]=p.useState("all"),[v,y]=p.useState(""),[w,N]=p.useState(null),[C,_]=p.useState(null),[T,L]=p.useState(!1),[Y,U]=p.useState(!1),[P,k]=p.useState(1),[A]=p.useState(50),[O,ae]=p.useState(!1),[H,$]=p.useState(void 0),ee=p.useMemo(()=>{if(typeof H=="number"&&H>0)return Math.max(1,Math.ceil(H/A))},[H,A]);p.useEffect(()=>{var Q;const G=Te.getBackendUser(),S=((Q=G==null?void 0:G.role)==null?void 0:Q.toLowerCase())||"customer";U(S==="vendor"||S==="brand")},[]),p.useEffect(()=>{J()},[P,g]);const J=async()=>{c(!0),f(null);try{const G={page:P,limit:A};g!=="all"&&(G.status=g);const S=await Sl.getOrdersWithMeta(G);r(S.items),ae(Array.isArray(S.items)?S.items.length===A:!1),$(S.total)}catch(G){console.error("Failed to load orders",G),f("Failed to load orders"),h({msg:(G==null?void 0:G.message)||"Failed to load orders",type:"error"}),r([])}finally{c(!1)}},D=p.useMemo(()=>Y?["all","pending","confirmed","shipped","cancelled"]:["all","pending","confirmed","shipped","delivered","delivered_cod_received","cod_review","cod_verified","cancelled"],[Y]),E=p.useMemo(()=>{const G=v.trim().toLowerCase();return n.filter(S=>{const Q=g==="all"?!0:(S.status||"").toLowerCase()===g,le=!G||S.order_id&&S.order_id.toLowerCase().includes(G)||String(S.id).includes(G)||S.customer_name&&S.customer_name.toLowerCase().includes(G)||S.customer_phone&&S.customer_phone.toLowerCase().includes(G);return Q&&le})},[n,g,v]),W=async(G,S)=>{N(`${G}:${S}`);try{await Sl.updateOrderStatus(String(G),S),r(Q=>Q.map(le=>le.id===G?{...le,status:S}:le)),h({msg:"Order status updated",type:"success"})}catch(Q){console.error("Failed to update status",Q),h({msg:(Q==null?void 0:Q.message)||"Failed to update status",type:"error"})}finally{N(null)}},M=async G=>{_(null),L(!0);try{const S=await Sl.getOrderById(String(G));_(S&&S)}catch(S){h({msg:(S==null?void 0:S.message)||"Failed to load order details",type:"error"})}finally{L(!1)}},q=G=>{const S=(G.items||[]).map(ge=>`<tr><td>${ge.product_name||ge.name||"-"}</td><td style="text-align:center;">${ge.quantity||1}</td><td style="text-align:right;">Rs. ${(ge.price||0).toLocaleString()}</td></tr>`).join(""),Q=(G.total_amount||0)-(G.delivery_charge||0),le=`
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Shauq  Invoice #${G.order_id||G.id}</title>
  <style>
    @media print { @page { size: A4; margin: 16mm; } }
    :root { --brand-dark:#111827; --muted:#6B7280; --border:#E5E7EB; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif; color: var(--brand-dark); }
    .wrap { max-width: 800px; margin: 0 auto; }
    .header { display:flex; align-items:center; justify-content:space-between; border-bottom: 2px solid var(--brand-dark); padding-bottom: 12px; margin-bottom: 16px; }
    .brand { display:flex; align-items:center; gap: 12px; }
    .logo { width: 40px; height: 40px; border-radius: 8px; background: var(--brand-dark); color: white; display:flex; align-items:center; justify-content:center; font-weight:700; }
    .brand-title { font-size: 22px; font-weight: 800; letter-spacing: .5px; }
    .brand-sub { font-size: 12px; color: var(--muted); }
    .muted { color: #6B7280; }
    table { width: 100%; border-collapse: collapse; margin-top: 16px; }
    th, td { padding: 8px; border-bottom: 1px solid var(--border); font-size: 12px; }
    th { text-align: left; color: #6B7280; }
    .totals { margin-top: 16px; width: 100%; }
    .totals td { padding: 6px 0; }
    .right { text-align: right; }
    .center { text-align: center; }
    .foot { margin-top: 24px; font-size: 11px; color: var(--muted); display:flex; justify-content:space-between; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div class="brand">
        <div class="logo">S</div>
        <div>
          <div class="brand-title">Shauq</div>
          <div class="brand-sub">Fashion & Lifestyle</div>
        </div>
      </div>
      <div style="text-align:right;">
        <div class="muted">Order</div>
        <div style="font-weight:700;">#${G.order_id||G.id}</div>
      </div>
    </div>
    <div style="display:flex; justify-content:space-between; gap:24px;">
      <div>
        <div class="muted">Billed To</div>
        <div style="font-weight:600;">${G.customer_name||"-"}</div>
        <div class="muted">${G.customer_phone||""}</div>
        ${G.customer_address?`<div class="muted">${G.customer_address}</div>`:""}
      </div>
      <div style="text-align:right;">
        <div class="muted">Placed</div>
        <div style="font-weight:600;">${G.created_at?new Date(G.created_at).toLocaleString():"-"}</div>
      </div>
    </div>
    <table>
    <thead>
      <tr><th>Product</th><th class="center">Qty</th><th class="right">Price</th></tr>
    </thead>
    <tbody>
      ${S}
    </tbody>
    </table>
    <table class="totals">
    <tr><td>Subtotal</td><td class="right">Rs. ${Q.toLocaleString()}</td></tr>
    <tr><td>Delivery</td><td class="right">Rs. ${(G.delivery_charge||0).toLocaleString()}</td></tr>
    <tr><td><strong>Total</strong></td><td class="right"><strong>Rs. ${(G.total_amount||0).toLocaleString()}</strong></td></tr>
    </table>
    <div class="foot">
      <div>Thanks for shopping with Shauq!</div>
      <div>www.shauqse.com</div>
    </div>
  </div>
  <script>window.onload = () => window.print();<\/script>
</body>
</html>`,be=window.open("","_blank");be&&(be.document.open(),be.document.write(le),be.document.close())},F=G=>{switch((G||"").toLowerCase()){case"pending":return"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 border border-yellow-300";case"confirmed":return"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 border border-blue-300";case"shipped":return"px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800 border border-purple-300";case"delivered":return"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 border border-green-300";case"delivered_cod_received":return"px-2 py-1 text-xs font-semibold rounded-full bg-emerald-100 text-emerald-800 border border-emerald-300";case"cod_review":return"px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800 border border-orange-300";case"cod_verified":return"px-2 py-1 text-xs font-semibold rounded-full bg-sky-100 text-sky-800 border border-sky-300";case"cancelled":return"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800 border border-red-300";default:return"px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800 border border-gray-300"}},I=(G,S)=>{if(!S||S.length===0)return;const Q=Object.keys(S[0]),le=[Q.join(","),...S.map(ue=>Q.map(ye=>{const Oe=ue[ye]!==void 0&&ue[ye]!==null?String(ue[ye]):"",me=Oe.includes(",")||Oe.includes('"')||Oe.includes(`
`),Me=Oe.replace(/"/g,'""');return me?`"${Me}"`:Me}).join(","))].join(`
`),be=new Blob([le],{type:"text/csv;charset=utf-8;"}),ge=document.createElement("a"),je=URL.createObjectURL(be);ge.href=je,ge.setAttribute("download",G),document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(je)};return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Management"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{value:g,onChange:G=>{x(G.target.value),k(1)},className:"border rounded-md px-3 py-2 text-sm",children:D.map(G=>a.jsx("option",{value:G,children:G==="all"?"All Statuses":G.charAt(0).toUpperCase()+G.slice(1).replace("_"," ")},G))}),a.jsx("input",{value:v,onChange:G=>y(G.target.value),placeholder:"Search by order id, name, phone",className:"border rounded-md px-3 py-2 text-sm w-64"}),a.jsx("button",{onClick:()=>I("orders.csv",E),className:"text-sm font-semibold border rounded-md px-3 py-2 hover:bg-gray-50",title:"Export CSV",children:"Export CSV"}),a.jsx("button",{onClick:J,className:"text-sm font-semibold text-brand-dark hover:text-gray-700 transition",children:"Refresh"})]})]}),i?a.jsx("div",{className:"py-16 flex items-center justify-center",children:a.jsx(Ie,{size:"lg",text:"Loading orders..."})}):u?a.jsx("div",{className:"py-16 text-center text-red-500",children:u}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-4 py-3",children:"Order"}),a.jsx("th",{className:"px-4 py-3",children:"Customer"}),a.jsx("th",{className:"px-4 py-3",children:"Total"}),a.jsx("th",{className:"px-4 py-3",children:"Status"}),a.jsx("th",{className:"px-4 py-3",children:"Placed"}),a.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),a.jsx("tbody",{children:E.map(G=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-semibold",children:G.order_id?`#${G.order_id}`:`#ORD${G.id}`}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-gray-800",children:G.customer_name||"-"}),a.jsx("span",{className:"text-gray-500",children:G.customer_phone||"-"})]})}),a.jsxs("td",{className:"px-4 py-3",children:["Rs. ",(G.total_amount||0).toLocaleString()]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:F(G.status||""),children:(G.status||"-").charAt(0).toUpperCase()+(G.status||"-").slice(1)})}),a.jsx("td",{className:"px-4 py-3",children:G.created_at?new Date(G.created_at).toLocaleString():"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>M(G.id),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",title:"View details",children:"View"}),(Y?["confirmed","shipped","cancelled"]:["confirmed","shipped","delivered","delivered_cod_received","cancelled"]).map(S=>a.jsx("button",{onClick:()=>W(G.id,S),disabled:w===`${G.id}:${S}`,className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100 disabled:opacity-50",title:`Mark ${S.replace("_"," ")}`,children:w===`${G.id}:${S}`?"...":S.replace("_"," ")},S))]})})]},G.id))})]}),E.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-10",children:"No orders found"})]}),m&&a.jsx(zt,{message:m.msg,show:!!m,onClose:()=>h(null),type:m.type}),!i&&a.jsxs("div",{className:"flex justify-end gap-3 items-center",children:[typeof H=="number"&&a.jsxs("span",{className:"text-xs text-gray-500",children:["Total: ",H.toLocaleString()]}),a.jsx("button",{onClick:()=>k(Math.max(1,P-1)),disabled:P<=1,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),a.jsxs("span",{className:"text-sm text-gray-500 px-2 py-1",children:["Page ",P,ee?` of ${ee}`:""]}),a.jsx("button",{onClick:()=>k(P+1),disabled:ee?P>=ee:!O,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]}),T||C?a.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Order Details"}),a.jsx("button",{onClick:()=>_(null),className:"px-3 py-1 border rounded-md",children:"Close"})]}),T?a.jsx("div",{className:"py-8 flex justify-center",children:a.jsx(Ie,{size:"md",text:"Loading details..."})}):C?a.jsxs("div",{className:"space-y-3 max-h-[70vh] overflow-auto",children:[a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>q(C),className:"px-3 py-1 border rounded-md text-sm",children:"Print Invoice"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Order"}),a.jsxs("p",{className:"font-semibold",children:["#",C.order_id||C.id]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Status"}),a.jsx("span",{className:F(C.status||""),children:(C.status||"-").charAt(0).toUpperCase()+(C.status||"-").slice(1)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Placed"}),a.jsx("p",{className:"font-semibold",children:C.created_at?new Date(C.created_at).toLocaleString():"-"})]})]}),a.jsxs("div",{className:"border-t pt-3",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Buyer Details"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Name"}),a.jsx("p",{className:"font-semibold",children:C.customer_name||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-semibold",children:C.customer_phone||"-"})]}),C.customer_address&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Address"}),a.jsx("p",{className:"font-semibold",children:C.customer_address})]})]})]}),a.jsxs("div",{className:"border-t pt-3",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"COD & Custom Details"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[C.payment_method&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Payment Method"}),a.jsx("p",{className:"font-semibold",children:C.payment_method})]}),C.cod_advance_amount&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"COD Advance (20%)"}),a.jsxs("p",{className:"font-semibold",children:["Rs. ",C.cod_advance_amount.toLocaleString()]})]}),C.cod_whatsapp_number&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"WhatsApp"}),a.jsx("p",{className:"font-semibold",children:C.cod_whatsapp_number})]}),C.cod_notes&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"COD Notes"}),a.jsx("p",{className:"font-semibold whitespace-pre-wrap",children:C.cod_notes})]}),C.cod_advance_screenshot_url&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 mb-1",children:"Advance Payment Screenshot"}),a.jsx("a",{href:C.cod_advance_screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block text-blue-600 underline text-xs",children:"View Screenshot"})]}),(C.custom_size||C.custom_print_instructions||C.custom_print_image_url)&&a.jsxs(a.Fragment,{children:[C.custom_size&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Custom Size"}),a.jsx("p",{className:"font-semibold",children:C.custom_size})]}),C.custom_print_instructions&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Custom Print Instructions"}),a.jsx("p",{className:"font-semibold whitespace-pre-wrap",children:C.custom_print_instructions})]}),C.custom_print_image_url&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 mb-1",children:"Custom Design"}),a.jsx("a",{href:C.custom_print_image_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block text-blue-600 underline text-xs",children:"View Design"})]})]})]})]}),a.jsxs("div",{className:"border-t pt-3",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Items"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-2 py-2",children:"Product"}),a.jsx("th",{className:"px-2 py-2",children:"Product ID"}),a.jsx("th",{className:"px-2 py-2",children:"Vendor IDs"}),a.jsx("th",{className:"px-2 py-2",children:"Brand"}),a.jsx("th",{className:"px-2 py-2",children:"Qty"}),a.jsx("th",{className:"px-2 py-2",children:"Price"})]})}),a.jsx("tbody",{children:(C.items||[]).map((G,S)=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"px-2 py-2",children:G.product_name||G.name||"-"}),a.jsx("td",{className:"px-2 py-2 text-gray-600",children:G.product_id||"-"}),a.jsx("td",{className:"px-2 py-2 text-gray-600",children:G.original_vendor_id||G.selling_vendor_id?`${G.original_vendor_id||""}${G.original_vendor_id&&G.selling_vendor_id&&G.original_vendor_id!==G.selling_vendor_id?" / ":""}${G.selling_vendor_id&&G.selling_vendor_id!==G.original_vendor_id?G.selling_vendor_id:""}`:"-"}),a.jsx("td",{className:"px-2 py-2 text-gray-600",children:G.brand_name||"-"}),a.jsx("td",{className:"px-2 py-2",children:G.quantity||1}),a.jsxs("td",{className:"px-2 py-2",children:["Rs. ",(G.price||0).toLocaleString()]})]},S))})]})})]}),a.jsxs("div",{className:"border-t pt-3 grid grid-cols-3 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Subtotal"}),a.jsxs("p",{className:"font-semibold",children:["Rs. ",((C.total_amount||0)-(C.delivery_charge||0)).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Delivery"}),a.jsxs("p",{className:"font-semibold",children:["Rs. ",(C.delivery_charge||0).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Total"}),a.jsxs("p",{className:"font-semibold",children:["Rs. ",(C.total_amount||0).toLocaleString()]})]})]})]}):null]})}):null]})},SN=()=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Management"}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Coming soon..."})]}),wN=()=>{const[n,r]=p.useState("users"),[i,c]=p.useState(!0),[u,f]=p.useState(null),[m,h]=p.useState([]),[g,x]=p.useState([]),[v,y]=p.useState([]),[w,N]=p.useState("all"),[C,_]=p.useState(""),[T,L]=p.useState(1),[Y]=p.useState(50),[U,P]=p.useState(null),[k,A]=p.useState([]),[O,ae]=p.useState([]),[H,$]=p.useState(!1);p.useEffect(()=>{n==="users"&&ee(),n==="commissions"&&J(),n==="withdrawals"&&D()},[n,T,w]);const ee=async()=>{c(!0);try{const I=await Is.getAdminAffiliateUsers({limit:Y,page:T});h(I)}catch(I){f({msg:(I==null?void 0:I.message)||"Failed to load affiliate users",type:"error"})}finally{c(!1)}},J=async()=>{c(!0);try{const I=await Is.getAdminCommissions({limit:Y,page:T,status:w==="all"?void 0:w});x(I)}catch(I){f({msg:(I==null?void 0:I.message)||"Failed to load commissions",type:"error"})}finally{c(!1)}},D=async()=>{c(!0);try{const I=await Is.getAdminWithdrawals({limit:Y,page:T,status:w==="all"?void 0:w});y(I)}catch(I){f({msg:(I==null?void 0:I.message)||"Failed to load withdrawals",type:"error"})}finally{c(!1)}},E=async I=>{try{await Is.updateWithdrawalStatus(I,"approved"),f({msg:"Withdrawal approved",type:"success"}),await D()}catch(G){f({msg:(G==null?void 0:G.message)||"Approve failed",type:"error"})}},W=async I=>{try{await Is.updateWithdrawalStatus(I,"rejected"),f({msg:"Withdrawal rejected",type:"success"}),await D()}catch(G){f({msg:(G==null?void 0:G.message)||"Reject failed",type:"error"})}},M=p.useMemo(()=>{const I=C.trim().toLowerCase();return m.filter(G=>!I||G.name&&G.name.toLowerCase().includes(I)||G.email&&G.email.toLowerCase().includes(I)||G.phone&&G.phone.toLowerCase().includes(I))},[m,C]),q=async I=>{P(I),A([]),ae([]),$(!0);try{const[G,S]=await Promise.all([Is.getAdminAffiliateUserCustomers(String(I.id)),Is.getAdminAffiliateUserOrders(String(I.id))]);A(G),ae(S)}catch(G){f({msg:(G==null?void 0:G.message)||"Failed to load user details",type:"error"})}finally{$(!1)}},F=()=>{P(null),A([]),ae([])};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Affiliate Admin"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{value:w,onChange:I=>N(I.target.value),className:"border rounded-md px-3 py-2 text-sm",children:["all","pending","settled","approved","rejected"].map(I=>a.jsx("option",{value:I,children:I},I))}),a.jsx("input",{value:C,onChange:I=>_(I.target.value),placeholder:"Search users...",className:"border rounded-md px-3 py-2 text-sm"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{r("users"),L(1)},className:`px-4 py-2 rounded-full ${n==="users"?"bg-brand-dark text-white":"border"}`,children:"Users"}),a.jsx("button",{onClick:()=>{r("commissions"),L(1)},className:`px-4 py-2 rounded-full ${n==="commissions"?"bg-brand-dark text-white":"border"}`,children:"Commissions"}),a.jsx("button",{onClick:()=>{r("withdrawals"),L(1)},className:`px-4 py-2 rounded-full ${n==="withdrawals"?"bg-brand-dark text-white":"border"}`,children:"Withdrawals"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>{const I=n==="users"?M:n==="commissions"?g:v;if(!I||I.length===0)return;const G=Object.keys(I[0]),S=[G.join(","),...I.map(ge=>G.map(je=>{const ue=ge[je]!==void 0&&ge[je]!==null?String(ge[je]):"",ye=ue.includes(",")||ue.includes('"')||ue.includes(`
`),Oe=ue.replace(/"/g,'""');return ye?`"${Oe}"`:Oe}).join(","))].join(`
`),Q=new Blob([S],{type:"text/csv;charset=utf-8;"}),le=document.createElement("a"),be=URL.createObjectURL(Q);le.href=be,le.setAttribute("download",`${n}.csv`),document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(be)},className:"text-sm font-semibold border rounded-md px-3 py-2 hover:bg-gray-50",children:"Export CSV"})}),i?a.jsx("div",{className:"py-12 flex items-center justify-center",children:a.jsx(Ie,{size:"lg",text:"Loading..."})}):n==="users"?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[U?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Affiliate: ",U.name||U.email||U.id]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[U.email," ",U.phone?` ${U.phone}`:""]})]}),a.jsx("button",{onClick:F,className:"px-4 py-2 border rounded-lg",children:"Back"})]}),H?a.jsx("div",{className:"py-8 flex justify-center",children:a.jsx(Ie,{size:"md",text:"Loading user details..."})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Customers"}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-4 py-3",children:"Name/Phone"}),a.jsx("th",{className:"px-4 py-3",children:"Joined"})]})}),a.jsx("tbody",{children:k.map(I=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"px-4 py-3",children:I.name||I.phone||"-"}),a.jsx("td",{className:"px-4 py-3",children:I.created_at?new Date(I.created_at).toLocaleString():"-"})]},I.id||I.customer_id))})]}),k.length===0&&a.jsx("div",{className:"text-gray-500 text-center py-6",children:"No customers"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Orders"}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-4 py-3",children:"Order"}),a.jsx("th",{className:"px-4 py-3",children:"Amount"}),a.jsx("th",{className:"px-4 py-3",children:"Status"}),a.jsx("th",{className:"px-4 py-3",children:"Date"})]})}),a.jsx("tbody",{children:O.map(I=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"px-4 py-3",children:I.order_id?`#ORD${I.order_id}`:`#${I.id}`}),a.jsxs("td",{className:"px-4 py-3",children:["Rs. ",(I.total_amount||0).toLocaleString()]}),a.jsx("td",{className:"px-4 py-3 capitalize",children:I.status||"-"}),a.jsx("td",{className:"px-4 py-3",children:I.created_at?new Date(I.created_at).toLocaleString():"-"})]},I.id))})]}),O.length===0&&a.jsx("div",{className:"text-gray-500 text-center py-6",children:"No orders"})]})]})]})]}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-4 py-3",children:"User"}),a.jsx("th",{className:"px-4 py-3",children:"Email"}),a.jsx("th",{className:"px-4 py-3",children:"Phone"}),a.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),a.jsx("tbody",{children:M.map(I=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-semibold",children:I.name||"-"}),a.jsx("td",{className:"px-4 py-3",children:I.email||"-"}),a.jsx("td",{className:"px-4 py-3",children:I.phone||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{onClick:()=>q(I),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"View Details"})})]},I.id))})]}),M.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-10",children:"No users found"})]}),!U&&a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:()=>L(Math.max(1,T-1)),className:"px-3 py-1 border rounded disabled:opacity-50",disabled:T<=1,children:"Prev"}),a.jsxs("span",{className:"text-sm text-gray-500 px-2 py-1",children:["Page ",T]}),a.jsx("button",{onClick:()=>L(T+1),className:"px-3 py-1 border rounded",children:"Next"})]})]}):n==="commissions"?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-4 py-3",children:"Order"}),a.jsx("th",{className:"px-4 py-3",children:"Affiliate"}),a.jsx("th",{className:"px-4 py-3",children:"Amount"}),a.jsx("th",{className:"px-4 py-3",children:"Status"}),a.jsx("th",{className:"px-4 py-3",children:"Date"})]})}),a.jsx("tbody",{children:g.map(I=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:I.order_id?`#ORD${I.order_id}`:"-"}),a.jsx("td",{className:"px-4 py-3",children:I.affiliate_name||I.affiliate_email||I.affiliate_id||"-"}),a.jsxs("td",{className:"px-4 py-3",children:["Rs. ",(I.amount||0).toLocaleString()]}),a.jsx("td",{className:"px-4 py-3 capitalize",children:I.status||"-"}),a.jsx("td",{className:"px-4 py-3",children:I.created_at?new Date(I.created_at).toLocaleString():"-"})]},I.id))})]}),g.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-10",children:"No commissions found"})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:()=>L(Math.max(1,T-1)),className:"px-3 py-1 border rounded disabled:opacity-50",disabled:T<=1,children:"Prev"}),a.jsxs("span",{className:"text-sm text-gray-500 px-2 py-1",children:["Page ",T]}),a.jsx("button",{onClick:()=>L(T+1),className:"px-3 py-1 border rounded",children:"Next"})]})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-4 py-3",children:"ID"}),a.jsx("th",{className:"px-4 py-3",children:"User"}),a.jsx("th",{className:"px-4 py-3",children:"Amount"}),a.jsx("th",{className:"px-4 py-3",children:"Status"}),a.jsx("th",{className:"px-4 py-3",children:"Requested"}),a.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),a.jsx("tbody",{children:v.map(I=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:I.id}),a.jsx("td",{className:"px-4 py-3",children:I.user_name||I.user_email||I.user_id||"-"}),a.jsxs("td",{className:"px-4 py-3",children:["Rs. ",(I.amount||0).toLocaleString()]}),a.jsx("td",{className:"px-4 py-3 capitalize",children:I.status||"-"}),a.jsx("td",{className:"px-4 py-3",children:I.created_at?new Date(I.created_at).toLocaleString():"-"}),a.jsx("td",{className:"px-4 py-3",children:I.status==="pending"?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>E(String(I.id)),className:"px-2 py-1 text-xs rounded-md border border-green-500 text-green-700 hover:bg-green-50",children:"Approve"}),a.jsx("button",{onClick:()=>W(String(I.id)),className:"px-2 py-1 text-xs rounded-md border border-red-500 text-red-700 hover:bg-red-50",children:"Reject"})]}):a.jsx("span",{className:"text-gray-400",children:""})})]},I.id))})]}),v.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-10",children:"No withdrawals found"})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:()=>L(Math.max(1,T-1)),className:"px-3 py-1 border rounded disabled:opacity-50",disabled:T<=1,children:"Prev"}),a.jsxs("span",{className:"text-sm text-gray-500 px-2 py-1",children:["Page ",T]}),a.jsx("button",{onClick:()=>L(T+1),className:"px-3 py-1 border rounded",children:"Next"})]})]}),u&&a.jsx(zt,{message:u.msg,show:!!u,onClose:()=>f(null),type:u.type})]})},pn={getAllStakeholders:async()=>{const n=await ce.get(ie.ADMIN_STAKEHOLDERS);return Ge(n)},getStakeholderById:async n=>{const r=await ce.get(ie.ADMIN_STAKEHOLDER_BY_ID(String(n)));return ke(r)},updateAllocationPercentage:async(n,r)=>{const i=await ce.put(ie.ADMIN_STAKEHOLDER_ALLOCATION(String(n)),{allocation_percentage:r});return ke(i)},createSettlement:async(n,r)=>{const i=await ce.post(ie.ADMIN_STAKEHOLDER_SETTLE(String(n)),r);return ke(i)},processSettlement:async(n,r)=>{const i=await ce.put(ie.ADMIN_PROCESS_SETTLEMENT(String(n)),r);return ke(i)},getStakeholderSettlements:async(n,r)=>{let i=ie.ADMIN_STAKEHOLDER_SETTLEMENTS(String(n));if(r){const u=new URLSearchParams;r.status&&u.append("status",r.status),r.page&&u.append("page",String(r.page)),r.limit&&u.append("limit",String(r.limit));const f=u.toString();f&&(i+=`?${f}`)}const c=await ce.get(i);return Ge(c)},getAllSettlements:async n=>{let r=ie.ADMIN_ALL_SETTLEMENTS;if(n){const c=new URLSearchParams;n.status&&c.append("status",n.status),n.page&&c.append("page",String(n.page)),n.limit&&c.append("limit",String(n.limit));const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},createStakeholder:async n=>{const r=await ce.post(ie.ADMIN_STAKEHOLDERS,n);return ke(r)},updateStakeholder:async(n,r)=>{const i=await ce.put(ie.ADMIN_STAKEHOLDER_BY_ID(String(n)),r);return ke(i)},deleteStakeholder:async n=>{await ce.delete(ie.ADMIN_STAKEHOLDER_BY_ID(String(n)))}},Ya=({title:n,message:r,icon:i,action:c})=>a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[i||a.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-2",children:n}),a.jsx("p",{className:"text-brand-secondary mb-4",children:r}),c&&a.jsx("button",{onClick:c.onClick,className:"bg-brand-dark text-white font-semibold py-2 px-6 rounded-full hover:bg-gray-700 transition",children:c.label})]}),_N=()=>{const[n,r]=p.useState("overview"),[i,c]=p.useState([]),[u,f]=p.useState([]),[m,h]=p.useState(!1),[g,x]=p.useState(""),[v,y]=p.useState("success");p.useEffect(()=>{w()},[]),p.useEffect(()=>{n==="settlements"&&N()},[n]);const w=async()=>{h(!0);try{const A=await pn.getAllStakeholders();c(A)}catch(A){x("Failed to load stakeholders"),y("error"),console.error("Error loading stakeholders:",A)}finally{h(!1)}},N=async()=>{h(!0);try{const A=await pn.getAllSettlements();f(A)}catch(A){x("Failed to load settlements"),y("error"),console.error("Error loading settlements:",A)}finally{h(!1)}},C=async(A,O)=>{if(O<0||O>100){x("Percentage must be between 0 and 100"),y("error");return}h(!0);try{await pn.updateAllocationPercentage(A,O),x("Allocation updated successfully"),y("success"),await w()}catch(ae){x(ae.message||"Failed to update allocation"),y("error")}finally{h(!1)}},_=async(A,O,ae,H,$)=>{if(!O||O<=0){x("Settlement amount must be greater than 0"),y("error");return}h(!0);try{await pn.createSettlement(A,{amount:O,payment_method:ae||void 0,transaction_id:H||void 0,notes:$||void 0}),x("Settlement request created successfully"),y("success"),await w(),await N()}catch(ee){x(ee.message||"Failed to create settlement"),y("error")}finally{h(!1)}},T=async(A,O,ae)=>{h(!0);try{await pn.processSettlement(A,{status:O,transaction_id:ae||void 0}),x(`Settlement ${O==="processed"?"approved":"rejected"} successfully`),y("success"),await N(),await w()}catch(H){x(H.message||`Failed to ${O} settlement`),y("error")}finally{h(!1)}},L=async A=>{if(A.allocation_percentage<0||A.allocation_percentage>100){x("Allocation percentage must be between 0 and 100"),y("error");return}h(!0);try{await pn.createStakeholder(A),x("Stakeholder created successfully"),y("success"),await w()}catch(O){x(O.message||"Failed to create stakeholder"),y("error")}finally{h(!1)}},Y=async(A,O)=>{h(!0);try{await pn.updateStakeholder(A,O),x("Stakeholder updated successfully"),y("success"),await w()}catch(ae){x(ae.message||"Failed to update stakeholder"),y("error")}finally{h(!1)}},U=async A=>{if(confirm("Are you sure you want to deactivate this stakeholder?")){h(!0);try{await pn.deleteStakeholder(A),x("Stakeholder deactivated successfully"),y("success"),await w()}catch(O){x(O.message||"Failed to delete stakeholder"),y("error")}finally{h(!1)}}},P=()=>m&&i.length===0?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(Ie,{size:"lg",text:"Loading stakeholders..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Stakeholder Allocation Management"}),a.jsx(EN,{onCreate:L,isLoading:m})]}),i.length===0?a.jsx(Ya,{title:"No Stakeholders Found",message:"There are no stakeholders configured yet. Create one to get started."}):i.map(A=>a.jsx(kN,{stakeholder:A,onUpdateAllocation:C,onUpdateStakeholder:Y,onDeleteStakeholder:U,onCreateSettlement:_,isLoading:m},A.id))]}),k=()=>m&&u.length===0?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(Ie,{size:"lg",text:"Loading settlements..."})}):u.length===0?a.jsx(Ya,{title:"No Settlements Found",message:"There are no settlement records yet."}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Settlement History"}),u.map(A=>a.jsx(CN,{settlement:A,onProcessSettlement:T,isLoading:m},A.id))]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>r("overview"),className:`px-6 py-2 rounded-full font-semibold transition ${n==="overview"?"bg-brand-dark text-white":"bg-white text-brand-dark border border-gray-300 hover:bg-gray-50"}`,children:"Overview"}),a.jsx("button",{onClick:()=>r("settlements"),className:`px-6 py-2 rounded-full font-semibold transition ${n==="settlements"?"bg-brand-dark text-white":"bg-white text-brand-dark border border-gray-300 hover:bg-gray-50"}`,children:"Settlements"}),a.jsx("div",{className:"ml-auto flex gap-2",children:n==="overview"?a.jsx("button",{onClick:()=>{if(i.length===0)return;const A=Object.keys(i[0]),O=[A.join(","),...i.map(ee=>A.map(J=>{const D=ee[J]!==void 0&&ee[J]!==null?String(ee[J]):"",E=D.includes(",")||D.includes('"')||D.includes(`
`),W=D.replace(/"/g,'""');return E?`"${W}"`:W}).join(","))].join(`
`),ae=new Blob([O],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a"),$=URL.createObjectURL(ae);H.href=$,H.setAttribute("download","stakeholders.csv"),document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL($)},className:"px-4 py-2 border rounded-lg",children:"Export CSV"}):a.jsx("button",{onClick:()=>{if(u.length===0)return;const A=Object.keys(u[0]),O=[A.join(","),...u.map(ee=>A.map(J=>{const D=ee[J]!==void 0&&ee[J]!==null?String(ee[J]):"",E=D.includes(",")||D.includes('"')||D.includes(`
`),W=D.replace(/"/g,'""');return E?`"${W}"`:W}).join(","))].join(`
`),ae=new Blob([O],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a"),$=URL.createObjectURL(ae);H.href=$,H.setAttribute("download","settlements.csv"),document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL($)},className:"px-4 py-2 border rounded-lg",children:"Export CSV"})})]}),n==="overview"?P():k(),a.jsx(zt,{message:g,show:!!g,onClose:()=>x(""),type:v})]})},kN=({stakeholder:n,onUpdateAllocation:r,onUpdateStakeholder:i,onDeleteStakeholder:c,onCreateSettlement:u,isLoading:f})=>{const[m,h]=p.useState(!1),[g,x]=p.useState(String(n.allocation_percentage)),[v,y]=p.useState(String(n.share_percentage||0)),[w,N]=p.useState(n.name),[C,_]=p.useState(n.description||""),[T,L]=p.useState(""),[Y,U]=p.useState(""),[P,k]=p.useState(""),[A,O]=p.useState("");return p.useEffect(()=>{x(String(n.allocation_percentage)),y(String(n.share_percentage||0)),N(n.name),_(n.description||"")},[n]),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"flex-1",children:m?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",value:w,onChange:ae=>N(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark text-xl font-bold",placeholder:"Stakeholder Name"}),a.jsx("textarea",{value:C,onChange:ae=>_(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark text-sm",placeholder:"Description (Optional)",rows:2})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-xl font-bold text-brand-dark",children:n.name}),n.description&&a.jsx("p",{className:"text-sm text-brand-secondary mt-1",children:n.description})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${n.is_active?"bg-green-100 text-green-800":"bg-gray-200 text-gray-700"}`,children:n.is_active?"Active":"Inactive"}),m?a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{i(n.id,{name:w,description:C||void 0,allocation_percentage:parseFloat(g)||n.allocation_percentage,share_percentage:parseFloat(v)||void 0}),h(!1)},disabled:f,className:"px-3 py-1 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:"Save"}),a.jsx("button",{onClick:()=>{h(!1),N(n.name),_(n.description||"")},className:"px-3 py-1 text-sm bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancel"})]}):a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>h(!0),className:"px-3 py-1 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Edit"}),a.jsx("button",{onClick:()=>c(n.id),disabled:f,className:"px-3 py-1 text-sm bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50",children:"Delete"})]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsx(eu,{label:"Total Allocated",value:`Rs ${(n.total_allocated||0).toFixed(2)}`,color:"blue"}),a.jsx(eu,{label:"Total Settled",value:`Rs ${(n.total_settled||0).toFixed(2)}`,color:"green"}),a.jsx(eu,{label:"Available",value:`Rs ${(n.available_balance||0).toFixed(2)}`,color:"orange"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Allocation Percentage"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:g,onChange:ae=>x(ae.target.value),disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark disabled:bg-gray-100"}),!m&&a.jsx("button",{onClick:()=>{const ae=parseFloat(g);isNaN(ae)||r(n.id,ae)},disabled:f,className:"px-6 py-2 bg-brand-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition disabled:opacity-50",children:"Update"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Share Percentage (Future Use)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:v,onChange:ae=>y(ae.target.value),disabled:!m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark disabled:bg-gray-100"})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-dark mb-4",children:"Create Settlement"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"number",step:"0.01",min:"0",max:n.available_balance,value:T,onChange:ae=>L(ae.target.value),placeholder:"Amount (Rs)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),a.jsx("input",{type:"text",value:Y,onChange:ae=>U(ae.target.value),placeholder:"Payment Method (Optional)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),a.jsx("input",{type:"text",value:P,onChange:ae=>k(ae.target.value),placeholder:"Transaction ID (Optional)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),a.jsx("textarea",{value:A,onChange:ae=>O(ae.target.value),placeholder:"Notes (Optional)",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),a.jsx("button",{onClick:()=>{u(n.id,parseFloat(T)||0,Y,P,A),L(""),U(""),k(""),O("")},disabled:f||!T,className:"w-full px-6 py-3 bg-brand-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating...":"Create Settlement Request"})]})]})]})]})},eu=({label:n,value:r,color:i})=>{const c={blue:"bg-blue-50 border-blue-200 text-blue-700",green:"bg-green-50 border-green-200 text-green-700",orange:"bg-orange-50 border-orange-200 text-orange-700"};return a.jsxs("div",{className:`p-3 rounded-lg border ${c[i]}`,children:[a.jsx("p",{className:"text-xs font-semibold mb-1",children:n}),a.jsx("p",{className:"text-base font-bold",children:r})]})},CN=({settlement:n,onProcessSettlement:r,isLoading:i})=>{const c=n.status==="processed"?"bg-green-100 text-green-800":n.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";return a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-2xl font-bold text-brand-dark mb-2",children:["Rs ",n.amount.toFixed(2)]}),n.payment_method&&a.jsxs("p",{className:"text-sm text-brand-secondary",children:["Payment: ",n.payment_method]}),n.transaction_id&&a.jsxs("p",{className:"text-sm text-brand-secondary",children:["Transaction ID: ",n.transaction_id]}),n.notes&&a.jsxs("p",{className:"text-sm text-brand-secondary mt-1",children:["Notes: ",n.notes]}),n.processed_at&&a.jsxs("p",{className:"text-xs text-brand-secondary mt-1",children:["Processed: ",new Date(n.processed_at).toLocaleString()]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${c}`,children:n.status.toUpperCase()})]}),n.status==="pending"&&a.jsxs("div",{className:"flex space-x-3 mt-4",children:[a.jsx("button",{onClick:()=>r(n.id,"processed",n.transaction_id),disabled:i,className:"flex-1 px-4 py-2 border-2 border-green-500 text-green-700 font-semibold rounded-lg hover:bg-green-50 transition disabled:opacity-50",children:"Approve"}),a.jsx("button",{onClick:()=>r(n.id,"rejected"),disabled:i,className:"flex-1 px-4 py-2 border-2 border-red-500 text-red-700 font-semibold rounded-lg hover:bg-red-50 transition disabled:opacity-50",children:"Reject"})]})]})},EN=({onCreate:n,isLoading:r})=>{const[i,c]=p.useState(!1),[u,f]=p.useState(""),[m,h]=p.useState(""),[g,x]=p.useState(""),[v,y]=p.useState(""),w=()=>{!u||!g||(n({name:u,description:m||void 0,allocation_percentage:parseFloat(g),share_percentage:v?parseFloat(v):void 0}),c(!1),f(""),h(""),x(""),y(""))};return a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-brand-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition",children:"+ Add Stakeholder"}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-xl font-bold text-brand-dark mb-4",children:"Create New Stakeholder"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Name *"}),a.jsx("input",{type:"text",value:u,onChange:N=>f(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",placeholder:"Stakeholder Name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Description"}),a.jsx("textarea",{value:m,onChange:N=>h(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",placeholder:"Description (Optional)",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Allocation Percentage *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:g,onChange:N=>x(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Share Percentage (Future Use)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:v,onChange:N=>y(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",placeholder:"0.00 (Optional)"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:w,disabled:r||!u||!g,className:"flex-1 px-4 py-2 bg-brand-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition disabled:opacity-50",children:"Create"}),a.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition",children:"Cancel"})]})]})})]})},co={getCommissionSettings:async()=>{const n=await ce.get(ie.ADMIN_COMMISSION_SETTINGS);return Ge(n).map(i=>({key:i.setting_key||i.key,setting_key:i.setting_key||i.key,value:i.setting_value!==void 0?i.setting_value:i.value,setting_value:i.setting_value!==void 0?i.setting_value:typeof i.value=="number"?i.value:parseFloat(String(i.value))||0,description:i.description,min_value:i.min_value,max_value:i.max_value,updated_at:i.updated_at,updated_by:i.updated_by}))},getCommissionSetting:async n=>{const r=await ce.get(ie.ADMIN_COMMISSION_SETTING_BY_KEY(n));return ke(r)},updateCommissionSetting:async(n,r,i)=>{const u={value:typeof r=="number"?r:parseFloat(String(r))};i&&(u.reason=i);const f=await ce.put(ie.ADMIN_COMMISSION_SETTING_BY_KEY(n),u),m=ke(f);return{key:m.setting_key||m.key,setting_key:m.setting_key||m.key,value:m.setting_value!==void 0?m.setting_value:m.value,setting_value:m.setting_value!==void 0?m.setting_value:typeof m.value=="number"?m.value:parseFloat(String(m.value))||0,description:m.description,min_value:m.min_value,max_value:m.max_value,updated_at:m.updated_at,updated_by:m.updated_by}},getCommissionSettingsHistory:async n=>{let r=ie.ADMIN_COMMISSION_SETTINGS_HISTORY;if(n){const c=new URLSearchParams;n.setting_key&&c.append("setting_key",n.setting_key),n.limit&&c.append("limit",String(n.limit)),n.offset&&c.append("offset",String(n.offset));const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)}},AN=()=>{const[n,r]=p.useState([]),[i,c]=p.useState([]),[u,f]=p.useState(!1),[m,h]=p.useState(!1),[g,x]=p.useState(""),[v,y]=p.useState("success"),[w,N]=p.useState(null),[C,_]=p.useState(""),[T,L]=p.useState("");p.useEffect(()=>{Y(),U()},[]);const Y=async(J=!1)=>{J?h(!0):f(!0);try{const D=await co.getCommissionSettings();r(D)}catch(D){x("Failed to load commission settings"),y("error"),console.error("Error loading settings:",D)}finally{f(!1),h(!1)}},U=async()=>{try{const J=await co.getCommissionSettingsHistory({limit:50});c(J)}catch(J){console.error("Error loading history:",J)}},P=J=>{const D=ee(J);N(D),_(String($(J))),L("")},k=()=>{N(null),_(""),L("")},A=async J=>{const D=parseFloat(C);if(!D||D<=0){x("Value must be greater than 0"),y("error");return}f(!0);try{await co.updateCommissionSetting(J,D,T.trim()||void 0),x("Commission setting updated successfully"),y("success"),k(),await Y(!0),await U()}catch(E){x(E.message||"Failed to update setting"),y("error")}finally{f(!1)}},O=async J=>{f(!0);try{await co.updateCommissionSetting("mlm_commission_type",J?1:0),x(`Referral commission type updated to ${J?"fixed amount":"percentage-based"}`),y("success"),await Y(!0)}catch(D){x(D.message||"Failed to update commission type"),y("error")}finally{f(!1)}},ae=()=>{const J=n.find(E=>E.key==="mlm_commission_type"||E.setting_key==="mlm_commission_type");return J?$(J)>=1:!1},H=J=>n.find(D=>D.key===J||D.setting_key===J),$=J=>typeof J.value=="number"?J.value:J.setting_value!==void 0?J.setting_value:parseFloat(String(J.value))||0,ee=J=>J.setting_key||J.key;return u&&n.length===0?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(Ie,{size:"lg",text:"Loading commission settings..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Commission Settings"}),a.jsxs("button",{onClick:()=>Y(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Refresh"})]})]}),a.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("svg",{className:"w-6 h-6 text-purple-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Stakeholder Distribution Limit"})]}),a.jsx("p",{className:"text-sm text-brand-secondary mb-4",children:"Set the maximum percentage of platform fees that can be distributed to stakeholders. Total allocation percentage of all active stakeholders cannot exceed this limit."}),(()=>{const J=H("stakeholder_distribution_limit");if(!J)return null;const D=ee(J);return a.jsx("div",{className:"bg-white rounded-lg p-4",children:a.jsx(tu,{setting:J,isSelected:w===D,onSelectForEdit:P,onCancelEdit:k,onUpdate:A,editValue:C,editReason:T,onEditValueChange:_,onEditReasonChange:L,isLoading:u,isFixedAmount:!1})})})()]}),a.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("svg",{className:"w-6 h-6 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),a.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Referral Fixed Commissions"})]}),a.jsx("p",{className:"text-sm text-brand-secondary mb-4",children:"Configure whether Referral commissions use percentage-based or fixed amounts."}),a.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-semibold text-brand-dark",children:"Commission Type"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ae(),onChange:J=>O(J.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsx("p",{className:`text-sm font-medium ${ae()?"text-green-700":"text-blue-700"}`,children:ae()?"Using Fixed Amount Commissions":"Using Percentage-Based Commissions"})]}),ae()&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-bold text-brand-dark",children:"Fixed Commission Amounts"}),["mlm_direct_fixed_amount","mlm_indirect_fixed_amount","mlm_root_fixed_amount"].map(J=>{const D=H(J);if(!D)return null;const E=ee(D);return a.jsx(tu,{setting:D,isSelected:w===E,onSelectForEdit:P,onCancelEdit:k,onUpdate:A,editValue:C,editReason:T,onEditValueChange:_,onEditReasonChange:L,isLoading:u,isFixedAmount:!0},E)})]})]}),n.length===0?a.jsx(Ya,{title:"No Commission Settings",message:"No commission settings are configured yet."}):a.jsx("div",{className:"space-y-4",children:n.filter(J=>{const D=J.setting_key||J.key;return D!=="mlm_commission_type"&&!D.includes("fixed_amount")&&D!=="stakeholder_distribution_limit"}).map(J=>{const D=ee(J),E=D==="delivery_charge_default";return a.jsx(tu,{setting:J,isSelected:w===D,onSelectForEdit:P,onCancelEdit:k,onUpdate:A,editValue:C,editReason:T,onEditValueChange:_,onEditReasonChange:L,isLoading:u,isFixedAmount:E},D)})}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-brand-dark",children:"Change History"}),a.jsxs("button",{onClick:U,className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Refresh"})]})]}),i.length===0?a.jsx(Ya,{title:"No Change History",message:"No commission setting changes have been made yet."}):a.jsx("div",{className:"space-y-3",children:i.slice(0,10).map(J=>a.jsx(TN,{entry:J},J.id))})]}),a.jsx(zt,{message:g,show:!!g,onClose:()=>x(""),type:v})]})},tu=({setting:n,isSelected:r,onSelectForEdit:i,onCancelEdit:c,onUpdate:u,editValue:f,editReason:m,onEditValueChange:h,onEditReasonChange:g,isLoading:x,isFixedAmount:v})=>{const y=n.setting_key||n.key,w=n.setting_value!==void 0?n.setting_value:typeof n.value=="number"?n.value:parseFloat(String(n.value))||0,N=v?`Rs ${w.toFixed(2)}`:`${w.toFixed(2)}%`,C=y.replace(/_/g," ").toUpperCase();return a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-bold text-brand-dark",children:C}),n.description&&a.jsx("p",{className:"text-sm text-brand-secondary mt-1",children:n.description})]}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"text-2xl font-bold text-brand-dark",children:N})})]}),r?a.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:["New Value ",v?"(Rs)":"(%)"]}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:f,onChange:_=>h(_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Reason (Optional)"}),a.jsx("textarea",{value:m,onChange:_=>g(_.target.value),placeholder:"Enter reason for change",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),n.min_value!==void 0||n.max_value!==void 0?a.jsxs("p",{className:"text-xs text-brand-secondary mb-2",children:["Range: ",n.min_value!==void 0?`${v?"Rs ":""}${n.min_value.toFixed(2)}${v?"":"%"}`:"N/A"," - ",n.max_value!==void 0?`${v?"Rs ":""}${n.max_value.toFixed(2)}${v?"":"%"}`:"N/A"]}):null,a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{onClick:()=>u(y),disabled:x,className:"px-4 py-2 bg-brand-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition disabled:opacity-50",children:x?"Saving...":"Save"})]})]}):a.jsxs("button",{onClick:()=>i(n),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center justify-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),a.jsx("span",{children:"Edit"})]})]})},TN=({entry:n})=>{const r=n.setting_key.replace(/_/g," ").toUpperCase(),i=typeof n.old_value=="number"?n.old_value:parseFloat(String(n.old_value)),c=typeof n.new_value=="number"?n.new_value:parseFloat(String(n.new_value)),u=n.setting_key.includes("fixed_amount")||n.setting_key==="delivery_charge_default";return a.jsx("div",{className:"bg-white rounded-xl shadow-md p-4",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-brand-dark",children:r}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[!isNaN(i)&&a.jsx("span",{className:"text-red-600 font-semibold",children:u?`Rs ${i.toFixed(2)}`:`${i.toFixed(2)}%`}),!isNaN(i)&&!isNaN(c)&&a.jsx("svg",{className:"w-4 h-4 text-brand-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),!isNaN(c)&&a.jsx("span",{className:"text-green-600 font-semibold",children:u?`Rs ${c.toFixed(2)}`:`${c.toFixed(2)}%`})]}),n.reason&&a.jsx("p",{className:"text-xs text-brand-secondary italic mt-1",children:n.reason}),a.jsx("p",{className:"text-xs text-brand-secondary mt-2",children:new Date(n.created_at).toLocaleString()})]})})})},qs={getAllCollections:async(n=!0)=>{let r=ie.COLLECTIONS;n&&(r+="?active_only=true");const i=await ce.get(r);return Ge(i)},getCollectionById:async n=>{const r=await ce.get(ie.COLLECTION_BY_ID(String(n)));return ke(r)},getStoreCollections:async n=>{const r=await ce.get(ie.STORE_COLLECTIONS(n));return Ge(r)},createCollection:async n=>{const r={...n};r.products&&!r.product_ids&&(r.product_ids=r.products,delete r.products);const i=await ce.post(ie.ADMIN_COLLECTIONS,r);return ke(i)},updateCollection:async(n,r)=>{const i={...r};i.products&&!i.product_ids&&(i.product_ids=i.products,delete i.products);const c=await ce.put(ie.ADMIN_COLLECTION_BY_ID(String(n)),i);return ke(c)},deleteCollection:async n=>{await ce.delete(ie.ADMIN_COLLECTION_BY_ID(String(n)))}},RN=()=>{const[n,r]=p.useState([]),[i,c]=p.useState(!0),[u,f]=p.useState(null),[m,h]=p.useState(null),[g,x]=p.useState({name:"",description:"",image_url:"",public_id:"",is_active:!0,products_csv:""}),[v,y]=p.useState(!1),[w,N]=p.useState([]),[C,_]=p.useState([]),[T,L]=p.useState(""),[Y,U]=p.useState(!1);p.useEffect(()=>{k(),P()},[]);const P=async()=>{U(!0);try{const E=await Fa.getProducts({limit:1e3});N(E)}catch(E){console.error("Failed to load products:",E)}finally{U(!1)}},k=async()=>{c(!0);try{const E=await qs.getAllCollections(!1);r(E)}catch(E){f({msg:(E==null?void 0:E.message)||"Failed to load collections",type:"error"}),r([])}finally{c(!1)}},A=()=>{h(null),x({name:"",description:"",image_url:"",public_id:"",is_active:!0,products_csv:""}),_([]),L("")},O=async E=>{E.preventDefault();try{const W={name:g.name,description:g.description||void 0,image_url:g.image_url||void 0,public_id:g.public_id||void 0,is_active:g.is_active!==!1},M=C.length>0?C:(g.products_csv||"").split(",").map(q=>parseInt(q.trim(),10)).filter(q=>!isNaN(q));if(M.length>0&&(W.product_ids=M),m){const q=await qs.updateCollection(m.id,W);r(F=>F.map(I=>I.id===q.id?q:I)),f({msg:"Collection updated",type:"success"})}else{const q=await qs.createCollection(W);r(F=>[q,...F]),f({msg:"Collection created",type:"success"})}A()}catch(W){f({msg:(W==null?void 0:W.message)||"Save failed",type:"error"})}},ae=async E=>{h(E),x({name:E.name,description:E.description||"",image_url:E.image_url||"",public_id:E.public_id||"",is_active:E.is_active!==!1,products_csv:""});try{const W=await qs.getCollectionById(E.id);W.products&&W.products.length>0?_(W.products.map(M=>M.id)):_([])}catch(W){console.error("Failed to load collection products:",W),_([])}},H=async E=>{if(confirm("Delete this collection?"))try{await qs.deleteCollection(E),r(W=>W.filter(M=>M.id!==E)),f({msg:"Collection deleted",type:"success"})}catch(W){f({msg:(W==null?void 0:W.message)||"Delete failed",type:"error"})}},$=async E=>{var M;const W=(M=E.target.files)==null?void 0:M[0];if(W){y(!0);try{const q=await as(W,{folder:"collections"});x(F=>({...F,image_url:q.secure_url,public_id:q.public_id||""}))}catch(q){f({msg:(q==null?void 0:q.message)||"Image upload failed",type:"error"})}finally{y(!1)}}},ee=E=>{_(W=>W.includes(E)?W.filter(M=>M!==E):[...W,E])},J=w.filter(E=>E.name.toLowerCase().includes(T.toLowerCase())||E.id.toString().includes(T)),D=w.filter(E=>C.includes(E.id));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:m?"Edit Collection":"Create Collection"}),a.jsxs("form",{onSubmit:O,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Name"}),a.jsx("input",{value:g.name,onChange:E=>x({...g,name:E.target.value}),placeholder:"Collection Name",required:!0,className:"w-full border rounded-lg px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Active"}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("input",{type:"checkbox",checked:g.is_active!==!1,onChange:E=>x({...g,is_active:E.target.checked})}),a.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Description"}),a.jsx("textarea",{value:g.description||"",onChange:E=>x({...g,description:E.target.value}),placeholder:"Description (optional)",rows:3,className:"w-full border rounded-lg px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Featured Image (Optional)"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"This image will be shown first on the collection page. If not provided, product images will be used."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("input",{value:g.image_url||"",onChange:E=>x({...g,image_url:E.target.value}),placeholder:"Image URL",className:"border rounded-lg px-3 py-2"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:$,disabled:v,className:"w-full"}),v&&a.jsx("div",{className:"mt-2",children:a.jsx(Ie,{size:"sm",text:"Uploading..."})})]})]}),g.image_url&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:g.image_url,alt:"Featured",className:"w-32 h-32 object-cover rounded-lg border"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Select Products"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Search and select products to include in this collection"}),a.jsx("input",{type:"text",value:T,onChange:E=>L(E.target.value),placeholder:"Search products by name or ID...",className:"w-full border rounded-lg px-3 py-2 mb-3"}),Y?a.jsx("div",{className:"py-4",children:a.jsx(Ie,{size:"sm",text:"Loading products..."})}):a.jsxs("div",{className:"border rounded-lg p-4 max-h-64 overflow-y-auto",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:J.map(E=>a.jsxs("div",{onClick:()=>ee(E.id),className:`border rounded-lg p-2 cursor-pointer transition-colors ${C.includes(E.id)?"border-brand-dark bg-brand-dark/10":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"relative aspect-square mb-2 rounded overflow-hidden",children:[a.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover",onError:W=>{W.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'}}),C.includes(E.id)&&a.jsx("div",{className:"absolute top-1 right-1 bg-brand-dark text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:""})]}),a.jsx("p",{className:"text-xs font-semibold text-gray-800 truncate",children:E.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Rs. ",E.price]})]},E.id))}),J.length===0&&a.jsx("p",{className:"text-center text-gray-500 py-4",children:"No products found"})]})]}),D.length>0&&a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:["Selected Products (",D.length,")"]}),a.jsx("div",{className:"border rounded-lg p-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(E=>a.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-2 bg-gray-50",children:[a.jsx("img",{src:E.image,alt:E.name,className:"w-12 h-12 object-cover rounded",onError:W=>{W.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-800 truncate",children:E.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",E.id]})]}),a.jsx("button",{type:"button",onClick:()=>ee(E.id),className:"text-red-500 hover:text-red-700 text-xs",children:""})]},E.id))})})]}),a.jsx("div",{className:"hidden",children:a.jsx("input",{value:g.products_csv||"",onChange:E=>x({...g,products_csv:E.target.value}),placeholder:"Product IDs (comma-separated)",className:"border rounded-lg px-3 py-2"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-dark text-white rounded-lg",children:m?"Update Collection":"Create Collection"}),m&&a.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 border rounded-lg",children:"Cancel"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Collections"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{if(n.length===0)return;const E=Object.keys(n[0]),W=[E.join(","),...n.map(I=>E.map(G=>{const S=I[G]!==void 0&&I[G]!==null?String(I[G]):"",Q=S.includes(",")||S.includes('"')||S.includes(`
`),le=S.replace(/"/g,'""');return Q?`"${le}"`:le}).join(","))].join(`
`),M=new Blob([W],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a"),F=URL.createObjectURL(M);q.href=F,q.setAttribute("download","collections.csv"),document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(F)},className:"text-sm font-semibold border rounded-md px-3 py-2 hover:bg-gray-50",children:"Export CSV"}),a.jsx("button",{onClick:k,className:"text-sm font-semibold text-brand-dark hover:text-gray-700 transition",children:"Refresh"})]})]}),i?a.jsx("div",{className:"py-12 flex items-center justify-center",children:a.jsx(Ie,{size:"md",text:"Loading collections..."})}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-4 py-3",children:"Name"}),a.jsx("th",{className:"px-4 py-3",children:"Active"}),a.jsx("th",{className:"px-4 py-3",children:"Created"}),a.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(E=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-semibold",children:E.name}),a.jsx("td",{className:"px-4 py-3",children:E.is_active!==!1?"Yes":"No"}),a.jsx("td",{className:"px-4 py-3",children:E.created_at?new Date(E.created_at).toLocaleString():"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>ae(E),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Edit"}),a.jsx("button",{onClick:()=>H(E.id),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Delete"})]})})]},E.id))})]}),n.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-10",children:"No collections found"})]})]}),u&&a.jsx(zt,{message:u.msg,show:!!u,onClose:()=>f(null),type:u.type})]})},LN=()=>{const[n,r]=p.useState([]),[i,c]=p.useState(!0),[u,f]=p.useState(null),[m,h]=p.useState({name:"",badge_text:"",description:"",is_active:!0}),[g,x]=p.useState(null),v=async()=>{c(!0);try{const _=await Or.getAllFlags(!1);r(_)}catch(_){x({msg:(_==null?void 0:_.message)||"Failed to load product flags",type:"error"}),r([])}finally{c(!1)}};p.useEffect(()=>{v()},[]);const y=()=>{f(null),h({name:"",badge_text:"",description:"",is_active:!0})},w=async _=>{_.preventDefault();try{const T={name:m.name,badge_text:m.badge_text||void 0,description:m.description||void 0,is_active:m.is_active};if(u){const L=await Or.updateFlag(u.id,T);r(Y=>Y.map(U=>U.id===L.id?L:U)),x({msg:"Flag updated",type:"success"})}else{const L=await Or.createFlag(T);r(Y=>[L,...Y]),x({msg:"Flag created",type:"success"})}y()}catch(T){x({msg:(T==null?void 0:T.message)||"Save failed",type:"error"})}},N=_=>{f(_),h({name:_.name,badge_text:_.badge_text||"",description:_.description||"",is_active:_.is_active!==!1})},C=async _=>{if(window.confirm("Delete this flag? (It will be marked inactive)"))try{await Or.deleteFlag(_),r(T=>T.map(L=>L.id===_?{...L,is_active:!1}:L)),x({msg:"Flag deleted (inactivated)",type:"success"})}catch(T){x({msg:(T==null?void 0:T.message)||"Delete failed",type:"error"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:u?"Edit Product Flag":"Create Product Flag"}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Name"}),a.jsx("input",{value:m.name,onChange:_=>h({...m,name:_.target.value}),placeholder:"e.g. Hand-made (7-10 days)",required:!0,className:"w-full border rounded-lg px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Badge Text (short)"}),a.jsx("input",{value:m.badge_text,onChange:_=>h({...m,badge_text:_.target.value}),placeholder:"e.g. Made on order",className:"w-full border rounded-lg px-3 py-2"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Agar khali ho to UI me name use hoga."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Description"}),a.jsx("textarea",{value:m.description,onChange:_=>h({...m,description:_.target.value}),placeholder:"Tooltip text, e.g. 'Hand-knitted, ships in 7-10 days'",rows:3,className:"w-full border rounded-lg px-3 py-2"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:m.is_active,onChange:_=>h({...m,is_active:_.target.checked})}),a.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-dark text-white rounded-lg",children:u?"Update Flag":"Create Flag"}),u&&a.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 border rounded-lg",children:"Cancel"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Product Flags"}),a.jsx("button",{onClick:v,className:"text-sm font-semibold text-brand-dark hover:text-gray-700",children:"Refresh"})]}),i?a.jsx("div",{className:"py-8 flex justify-center",children:a.jsx(Ie,{size:"md",text:"Loading flags..."})}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"px-4 py-3",children:"Name"}),a.jsx("th",{className:"px-4 py-3",children:"Badge"}),a.jsx("th",{className:"px-4 py-3",children:"Active"}),a.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(_=>a.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-semibold",children:_.name}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full text-xs bg-amber-50 text-amber-700 border border-amber-200",children:_.badge_text||_.name})}),a.jsx("td",{className:"px-4 py-3",children:_.is_active!==!1?"Yes":"No"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>N(_),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Edit"}),a.jsx("button",{onClick:()=>C(_.id),className:"px-2 py-1 text-xs rounded-md border hover:bg-gray-100",children:"Delete"})]})})]},_.id))})]}),n.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No flags found"})]})]}),g&&a.jsx(zt,{message:g.msg,show:!!g,onClose:()=>x(null),type:g.type})]})},zr={getReasons:async n=>{let r=ie.FINANCIAL_REASONS;n&&(r+=`?type=${n}`);const i=await ce.get(r);return Ge(i)},getBalance:async n=>{let r=ie.FINANCIAL_BALANCE;if(n){const c=new URLSearchParams;n.user_id&&c.append("user_id",String(n.user_id)),n.vendor_id&&c.append("vendor_id",String(n.vendor_id)),n.brand_id&&c.append("brand_id",String(n.brand_id));const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return ke(i)},getTransactions:async n=>{let r=ie.FINANCIAL_TRANSACTIONS;if(n){const c=new URLSearchParams;n.user_id&&c.append("user_id",String(n.user_id)),n.vendor_id&&c.append("vendor_id",String(n.vendor_id)),n.brand_id&&c.append("brand_id",String(n.brand_id)),n.limit&&c.append("limit",String(n.limit)),n.offset&&c.append("offset",String(n.offset));const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return Ge(i)},createTransaction:async n=>{const r=await ce.post(ie.FINANCIAL_TRANSACTIONS,n);return ke(r)},getMoneyTrail:async n=>{let r=ie.FINANCIAL_MONEY_TRAIL;if(n){const c=new URLSearchParams;n.start_date&&c.append("start_date",n.start_date),n.end_date&&c.append("end_date",n.end_date),n.order_id&&c.append("order_id",String(n.order_id)),n.user_id&&c.append("user_id",String(n.user_id)),n.vendor_id&&c.append("vendor_id",String(n.vendor_id)),n.brand_id&&c.append("brand_id",String(n.brand_id)),n.reason_code&&c.append("reason_code",n.reason_code),n.limit&&c.append("limit",String(n.limit)),n.offset&&c.append("offset",String(n.offset));const u=c.toString();u&&(r+=`?${u}`)}const i=await ce.get(r);return ke(i)}},DN=()=>{const[n,r]=p.useState(null),[i,c]=p.useState([]),[u,f]=p.useState([]),[m,h]=p.useState(!0),[g,x]=p.useState(!1),[v,y]=p.useState(""),[w,N]=p.useState(""),[C,_]=p.useState(!1),[T,L]=p.useState("all"),[Y,U]=p.useState(1),P=20,[k,A]=p.useState({user_id:void 0,vendor_id:void 0,brand_id:void 0,amount:0,type:"credit",reason_code:"",description:"",reference_id:void 0,reference_type:void 0});p.useEffect(()=>{O()},[T,Y]);const O=async()=>{h(!0),y("");try{const D=await zr.getBalance();r(D);const E=await zr.getTransactions({limit:P,offset:(Y-1)*P});if(c(E),u.length===0){const W=await zr.getReasons();f(W)}}catch(D){y((D==null?void 0:D.message)||"Failed to load financial data"),console.error("Error loading financial data:",D)}finally{h(!1)}},ae=async D=>{D.preventDefault(),x(!0),y(""),N("");try{await zr.createTransaction(k),N("Transaction created successfully"),_(!1),A({user_id:void 0,vendor_id:void 0,brand_id:void 0,amount:0,type:"credit",reason_code:"",description:"",reference_id:void 0,reference_type:void 0}),O()}catch(E){y((E==null?void 0:E.message)||"Failed to create transaction")}finally{x(!1)}},H=T==="all"?i:i.filter(D=>D.type===T),$=k.type?u.filter(D=>D.type===k.type||D.type==="both"):u,ee=D=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(D),J=D=>new Date(D).toLocaleString("en-PK",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return m&&!n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ie,{size:"md",text:"Loading financial data..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Financial Transactions"}),a.jsx("button",{onClick:()=>_(!C),className:"px-4 py-2 bg-brand-dark text-white rounded-lg hover:bg-gray-700 transition",children:C?"Cancel":"Create Transaction"})]}),n&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Current Balance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Available Balance"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:ee(n.balance)})]}),n.pending_balance!==void 0&&n.pending_balance>0&&a.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pending Balance"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:ee(n.pending_balance)})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Balance"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ee(n.balance+(n.pending_balance||0))})]})]})]}),C&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Create New Transaction"}),a.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Transaction Type"}),a.jsxs("select",{value:k.type,onChange:D=>A({...k,type:D.target.value,reason_code:""}),className:"w-full mt-1 px-3 py-2 border rounded-lg",required:!0,children:[a.jsx("option",{value:"credit",children:"Credit"}),a.jsx("option",{value:"debit",children:"Debit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Amount"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:k.amount,onChange:D=>A({...k,amount:parseFloat(D.target.value)||0}),className:"w-full mt-1 px-3 py-2 border rounded-lg",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Reason"}),a.jsxs("select",{value:k.reason_code,onChange:D=>A({...k,reason_code:D.target.value}),className:"w-full mt-1 px-3 py-2 border rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select Reason"}),$.map(D=>a.jsxs("option",{value:D.code,children:[D.name," ",D.description&&`- ${D.description}`]},D.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description (Optional)"}),a.jsx("textarea",{value:k.description,onChange:D=>A({...k,description:D.target.value}),className:"w-full mt-1 px-3 py-2 border rounded-lg",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Reference Type (Optional)"}),a.jsx("input",{type:"text",value:k.reference_type||"",onChange:D=>A({...k,reference_type:D.target.value||void 0}),className:"w-full mt-1 px-3 py-2 border rounded-lg",placeholder:"e.g., order, withdrawal, commission"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Reference ID (Optional)"}),a.jsx("input",{type:"number",value:k.reference_id||"",onChange:D=>A({...k,reference_id:D.target.value?parseInt(D.target.value):void 0}),className:"w-full mt-1 px-3 py-2 border rounded-lg",placeholder:"Reference ID"})]})]}),v&&a.jsx("p",{className:"text-red-500 text-sm",children:v}),w&&a.jsx("p",{className:"text-green-500 text-sm",children:w}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-brand-dark text-white rounded-lg hover:bg-gray-700 transition disabled:opacity-50",children:g?"Creating...":"Create Transaction"}),a.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50 transition",children:"Cancel"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Transaction History"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>L("all"),className:`px-3 py-1 rounded-lg text-sm ${T==="all"?"bg-brand-dark text-white":"bg-gray-100 text-gray-700"}`,children:"All"}),a.jsx("button",{onClick:()=>L("credit"),className:`px-3 py-1 rounded-lg text-sm ${T==="credit"?"bg-green-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Credits"}),a.jsx("button",{onClick:()=>L("debit"),className:`px-3 py-1 rounded-lg text-sm ${T==="debit"?"bg-red-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Debits"})]})]}),m?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Ie,{size:"sm",text:"Loading transactions..."})}):H.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No transactions found"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Reason"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Description"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Amount"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Balance After"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Reference"})]})}),a.jsx("tbody",{children:H.map(D=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:J(D.created_at)}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${D.type==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:D.type.toUpperCase()})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:D.reason_name||D.reason_code||"N/A"}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:D.description||"-"}),a.jsxs("td",{className:`py-3 px-4 text-sm font-semibold text-right ${D.type==="credit"?"text-green-600":"text-red-600"}`,children:[D.type==="credit"?"+":"-",ee(D.amount)]}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 text-right",children:D.balance_after!==void 0?ee(D.balance_after):"-"}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:D.reference_type&&D.reference_id?`${D.reference_type} #${D.reference_id}`:"-"})]},D.id))})]})}),i.length>=P&&a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx("button",{onClick:()=>U(D=>Math.max(1,D-1)),disabled:Y===1,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",Y]}),a.jsx("button",{onClick:()=>U(D=>D+1),disabled:i.length<P,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})},MN=()=>{const[n,r]=p.useState(null),[i,c]=p.useState(!0),[u,f]=p.useState(""),[m,h]=p.useState(1),g=50,[x,v]=p.useState(""),[y,w]=p.useState(""),[N,C]=p.useState(""),[_,T]=p.useState(""),[L,Y]=p.useState(""),[U,P]=p.useState("");p.useEffect(()=>{k()},[m,x,y,N,_,L,U]);const k=async()=>{c(!0),f("");try{const H={limit:g,offset:(m-1)*g};x&&(H.start_date=x),y&&(H.end_date=y),N&&(H.order_id=parseInt(N)),_&&(H.user_id=parseInt(_)),L&&(H.vendor_id=parseInt(L)),U&&(H.reason_code=U);const $=await zr.getMoneyTrail(H);r($)}catch(H){f((H==null?void 0:H.message)||"Failed to load money trail"),console.error("Error loading money trail:",H)}finally{c(!1)}},A=H=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(H),O=H=>new Date(H).toLocaleString("en-PK",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ae=()=>{alert("Export functionality coming soon!")};return i&&!n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ie,{size:"md",text:"Loading money trail..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Complete Money Trail"}),a.jsx("button",{onClick:ae,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Export to CSV"})]}),(n==null?void 0:n.summary)&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-green-50 rounded-xl shadow-sm p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Credits"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:A(n.summary.total_credits)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.summary.by_type.credit_count," transactions"]})]}),a.jsxs("div",{className:"bg-red-50 rounded-xl shadow-sm p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Debits"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:A(n.summary.total_debits)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.summary.by_type.debit_count," transactions"]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-xl shadow-sm p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Net Amount"}),a.jsx("p",{className:`text-2xl font-bold ${n.summary.net_amount>=0?"text-blue-600":"text-red-600"}`,children:A(n.summary.net_amount)})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl shadow-sm p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Transactions"}),a.jsx("p",{className:"text-2xl font-bold text-gray-700",children:n.total_count})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Filters"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:x,onChange:H=>v(H.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:y,onChange:H=>w(H.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Order ID"}),a.jsx("input",{type:"number",value:N,onChange:H=>C(H.target.value),placeholder:"Order ID",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"User ID"}),a.jsx("input",{type:"number",value:_,onChange:H=>T(H.target.value),placeholder:"User ID",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Vendor ID"}),a.jsx("input",{type:"number",value:L,onChange:H=>Y(H.target.value),placeholder:"Vendor ID",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Reason Code"}),a.jsx("input",{type:"text",value:U,onChange:H=>P(H.target.value),placeholder:"Reason Code",className:"w-full px-3 py-2 border rounded-lg text-sm"})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>{v(""),w(""),C(""),T(""),Y(""),P(""),h(1)},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 transition text-sm",children:"Clear Filters"})})]}),(n==null?void 0:n.summary.by_reason)&&n.summary.by_reason.length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Summary by Reason"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Reason"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Total Amount"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Count"})]})}),a.jsx("tbody",{children:n.summary.by_reason.map((H,$)=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsxs("td",{className:"py-3 px-4 text-sm text-gray-700",children:[H.reason_name," (",H.reason_code,")"]}),a.jsx("td",{className:"py-3 px-4 text-sm font-semibold text-right",children:A(H.total_amount)}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 text-right",children:H.transaction_count})]},$))})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Transaction History"}),u&&a.jsx("p",{className:"text-red-500 text-sm",children:u})]}),i?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Ie,{size:"sm",text:"Loading transactions..."})}):!n||n.transactions.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No transactions found"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"User/Vendor"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Reason"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Description"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Reference"})]})}),a.jsx("tbody",{children:n.transactions.map(H=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:O(H.created_at)}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${H.type==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:H.type.toUpperCase()})}),a.jsxs("td",{className:"py-3 px-4 text-sm text-gray-700",children:[H.user_name&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"User:"})," ",H.user_name," (ID: ",H.user_id,")"]}),H.vendor_name&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Vendor:"})," ",H.vendor_name," (ID: ",H.vendor_id,")"]}),H.brand_name&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Brand:"})," ",H.brand_name," (ID: ",H.brand_id,")"]}),!H.user_name&&!H.vendor_name&&!H.brand_name&&a.jsx("span",{className:"text-gray-400",children:"Platform"})]}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:H.reason_name||H.reason_code||"N/A"}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 max-w-xs truncate",children:H.description||"-"}),a.jsxs("td",{className:`py-3 px-4 text-sm font-semibold text-right ${H.type==="credit"?"text-green-600":"text-red-600"}`,children:[H.type==="credit"?"+":"-",A(H.amount)]}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:H.order_id?a.jsxs("span",{className:"font-medium text-blue-600",children:["Order ",H.order_id]}):H.reference_type&&H.reference_id?`${H.reference_type} #${H.reference_id}`:"-"})]},H.id))})]})}),n&&n.transactions.length>=g&&a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx("button",{onClick:()=>h(H=>Math.max(1,H-1)),disabled:m===1,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",m]}),a.jsx("button",{onClick:()=>h(H=>H+1),disabled:n.transactions.length<g,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})},ON=()=>{const[n,r]=p.useState(null),[i,c]=p.useState([]),[u,f]=p.useState(!1),[m,h]=p.useState(!1),[g,x]=p.useState(""),[v,y]=p.useState("success"),[w,N]=p.useState(1),[C,_]=p.useState(!0),T=()=>{const k=Te.getBackendUser();if(k!=null&&k.id){const A=parseInt(k.id,10);return isNaN(A)?null:A}return null};p.useEffect(()=>{T()&&(L(),Y())},[]);const L=async(k=!1)=>{const A=T();if(A){k?h(!0):f(!0);try{const O=await ts.getVendorEarningsSummary(A);r(O)}catch(O){x("Failed to load earnings summary"),y("error"),console.error("Error loading summary:",O)}finally{f(!1),h(!1)}}},Y=async(k=1)=>{const A=T();if(A){f(!0);try{const O=await ts.getVendorEarningsHistory(A,{page:k,limit:50});c(k===1?O:ae=>[...ae,...O]),_(O.length===50)}catch(O){x("Failed to load earnings history"),y("error"),console.error("Error loading history:",O)}finally{f(!1)}}},U=()=>{if(!u&&C){const k=w+1;N(k),Y(k)}};return T()?u&&!n&&i.length===0?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(Ie,{size:"lg",text:"Loading earnings..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Vendor Earnings"}),a.jsxs("button",{onClick:()=>{L(!0),N(1),Y(1)},className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Refresh"})]})]}),n&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(uo,{label:"Total Earned",value:n.total_earned,color:"blue",description:"All earnings (payouts + commissions)"}),a.jsx(uo,{label:"Total Received",value:n.total_received,color:"green",description:"Amount received by vendor"}),a.jsx(uo,{label:"Pending Balance",value:n.pending_balance,color:"orange",description:"Amount pending at platform"}),a.jsx(uo,{label:"Net Balance",value:n.net_balance,color:"purple",description:"Total earned - Total received"})]}),n&&a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Earnings Breakdown"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Vendor Payouts (Own Products)"}),a.jsxs("p",{className:"text-2xl font-bold text-brand-dark",children:["Rs ",n.vendor_payouts_total.toFixed(2)]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"From your own product sales"})]}),a.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Cross-Sell Commissions (Total)"}),a.jsxs("p",{className:"text-2xl font-bold text-brand-dark",children:["Rs ",n.cross_sell_commissions_total.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Received: Rs ",n.cross_sell_commissions_received.toFixed(2)," | Pending: Rs ",n.cross_sell_commissions_pending.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Earnings History"}),i.length===0?a.jsx(Ya,{title:"No Earnings History",message:"You don't have any earnings yet."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Order"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Description"})]})}),a.jsx("tbody",{children:i.map(k=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:new Date(k.created_at).toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),a.jsx("td",{className:"py-3 px-4 text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${k.transaction_type==="payout"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:k.transaction_type==="payout"?"Payout":"Cross-Sell Commission"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:k.order_id?`#${k.order_id}`:"-"}),a.jsxs("td",{className:"py-3 px-4 text-sm font-semibold text-brand-dark",children:["Rs ",k.amount.toFixed(2)]}),a.jsx("td",{className:"py-3 px-4 text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${k.status==="received"||k.status==="settled"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:k.status==="received"?"Received":k.status==="settled"?"Settled":"Pending"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:k.description||"-"})]},k.id))})]})}),C&&a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{onClick:U,disabled:u,className:"px-6 py-2 bg-brand-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition disabled:opacity-50",children:u?"Loading...":"Load More"})})]})]}),a.jsx(zt,{message:g,show:!!g,onClose:()=>x(""),type:v})]}):a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(Ya,{title:"Vendor Account Required",message:"You must be logged in as a vendor to view earnings."})})},uo=({label:n,value:r,color:i,description:c})=>{const u={blue:"bg-blue-50 border-blue-200 text-blue-700",green:"bg-green-50 border-green-200 text-green-700",orange:"bg-orange-50 border-orange-200 text-orange-700",purple:"bg-purple-50 border-purple-200 text-purple-700"};return a.jsxs("div",{className:`p-4 rounded-lg border ${u[i]}`,children:[a.jsx("p",{className:"text-xs font-semibold mb-1",children:n}),a.jsxs("p",{className:"text-2xl font-bold",children:["Rs ",r.toFixed(2)]}),c&&a.jsx("p",{className:"text-xs mt-1 opacity-75",children:c})]})},zN=()=>{const[n,r]=p.useState(null),[i,c]=p.useState([]),[u,f]=p.useState(!0),[m,h]=p.useState(!1),[g,x]=p.useState(!1),[v,y]=p.useState(""),[w,N]=p.useState("success"),[C,_]=p.useState(""),[T,L]=p.useState(""),[Y,U]=p.useState(""),[P,k]=p.useState(""),[A,O]=p.useState("");p.useEffect(()=>{ae()},[]);const ae=async()=>{try{f(!0);const J=Te.getBackendUser();if(!(J!=null&&J.id)){y("Backend user not found. Please re-login."),N("error"),r(null);return}const D=parseInt(J.id,10);if(Number.isNaN(D)){y("Invalid user id"),N("error"),r(null);return}const E=await ts.getVendorByUserId(D);if(r(E),_(E.store_name),L(E.store_slug||""),U(E.store_description||""),k(E.store_banner_url||""),O(E.store_banner_url||""),E.registration_type==="brand")try{const W=await Hs.getAllBrands(!0);c(W)}catch(W){console.error("Failed to load brands for vendor settings:",W)}}catch(J){console.error("Failed to load vendor registration:",J),y((J==null?void 0:J.message)||"Failed to load store settings"),N("error"),r(null)}finally{f(!1)}},H=async J=>{const D=J.target.files;if(!D||D.length===0)return;const E=D[0],W=new FileReader;W.onloadend=()=>{O(W.result)},W.readAsDataURL(E),x(!0);try{const M=await as(E,{folder:"store-banners"});k(M.secure_url)}catch(M){console.error("Banner upload failed:",M),y((M==null?void 0:M.message)||"Banner upload failed. Please try again."),N("error"),O((n==null?void 0:n.store_banner_url)||""),k((n==null?void 0:n.store_banner_url)||"")}finally{x(!1),J.target.value=""}},$=async J=>{if(J.preventDefault(),!C.trim()){y("Store name is required"),N("error");return}h(!0);try{await ts.updateVendorRegistration({store_name:C.trim(),store_slug:T.trim()||void 0,store_description:Y.trim()||void 0,store_banner_url:P.trim()}),y("Store settings updated successfully"),N("success"),await ae()}catch(D){console.error("Failed to update vendor registration:",D),y((D==null?void 0:D.message)||"Failed to update store settings"),N("error")}finally{h(!1)}};if(u)return a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:a.jsx("div",{className:"py-16 flex items-center justify-center",children:a.jsx(Ie,{size:"lg",text:"Loading store settings..."})})});if(!n)return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx(Ya,{title:"Vendor/Brand registration required",message:"Please register as vendor or brand first from the public app."}),a.jsx(zt,{message:v,show:!!v,onClose:()=>y(""),type:w})]});const ee=n.registration_type==="brand"?i.find(J=>J.id===n.brand_id):void 0;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"My Store Settings"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Update your store name, slug, description and banner."})]})}),a.jsxs("form",{onSubmit:$,className:"bg-white rounded-xl shadow-md p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-brand-dark uppercase mb-1",children:"Registration Type"}),a.jsx("p",{className:"text-sm font-medium text-gray-800 capitalize",children:n.registration_type})]}),n.registration_type==="brand"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-brand-dark uppercase mb-1",children:"Brand"}),a.jsx("p",{className:"text-sm font-medium text-gray-800",children:(ee==null?void 0:ee.name)||(n.brand_id!=null?`Brand ID: ${n.brand_id}`:"-")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Name *"}),a.jsx("input",{type:"text",value:C,onChange:J=>_(J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Slug (Optional)"}),a.jsx("input",{type:"text",value:T,onChange:J=>L(J.target.value),placeholder:"e.g., my-store-name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),a.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:"Auto-generated from store name if left empty"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Description (Optional)"}),a.jsx("textarea",{value:Y,onChange:J=>U(J.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",placeholder:"Short description about your store"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Banner (Optional)"}),a.jsx("input",{type:"file",accept:"image/*",onChange:H,disabled:g||m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark disabled:opacity-50 disabled:cursor-not-allowed"}),g&&a.jsx("div",{className:"mt-2",children:a.jsx(Ie,{size:"sm",text:"Uploading banner..."})}),A&&a.jsxs("div",{className:"mt-4 relative",children:[a.jsx("img",{src:A,alt:"Store banner preview",className:"w-full max-h-64 object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{O(""),k("")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition text-lg font-bold","aria-label":"Remove banner",children:""})]}),a.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:"Recommended: wide landscape image for best fit."})]}),a.jsx("div",{className:"pt-4 flex justify-end",children:a.jsx("button",{type:"submit",disabled:m||g,className:"px-6 py-3 rounded-full bg-brand-dark text-white font-semibold hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":"Save Changes"})})]}),a.jsx(zt,{message:v,show:!!v,onClose:()=>y(""),type:w})]})},rg=()=>({name:"",description:"",logo_url:"",banner_url:"",primaryColor:"",secondaryColor:"",brand_tagline:"",is_active:!0}),UN=()=>{const[n,r]=p.useState([]),[i,c]=p.useState(!1),[u,f]=p.useState(!1),[m,h]=p.useState(rg),[g,x]=p.useState(null),[v,y]=p.useState(""),[w,N]=p.useState("success"),[C,_]=p.useState(!1),[T,L]=p.useState(!1);p.useEffect(()=>{Y()},[]);const Y=async()=>{c(!0);try{const $=await Hs.getAllBrands(!1);r($)}catch($){console.error("Failed to load brands:",$),y(($==null?void 0:$.message)||"Failed to load brands"),N("error")}finally{c(!1)}},U=()=>{h(rg()),x(null)},P=$=>{var ee,J;x($.id),h({name:$.name,description:$.description||"",logo_url:$.logo_url||"",banner_url:$.banner_url||"",primaryColor:((ee=$.theme_colors)==null?void 0:ee.primary)||"",secondaryColor:((J=$.theme_colors)==null?void 0:J.secondary)||"",brand_tagline:$.brand_tagline||"",is_active:$.is_active})},k=async $=>{const ee=$.target.files;if(!ee||ee.length===0)return;const J=ee[0];_(!0);try{const D=await as(J,{folder:"brand-logos"});h(E=>({...E,logo_url:D.secure_url}))}catch(D){console.error("Logo upload failed:",D),y((D==null?void 0:D.message)||"Logo upload failed"),N("error")}finally{_(!1),$.target.value=""}},A=async $=>{const ee=$.target.files;if(!ee||ee.length===0)return;const J=ee[0];L(!0);try{const D=await as(J,{folder:"brand-banners"});h(E=>({...E,banner_url:D.secure_url}))}catch(D){console.error("Banner upload failed:",D),y((D==null?void 0:D.message)||"Banner upload failed"),N("error")}finally{L(!1),$.target.value=""}},O=async $=>{if($.preventDefault(),!m.name.trim()){y("Brand name is required"),N("error");return}f(!0);try{if(g){const ee=await Hs.updateBrand(g,{name:m.name.trim(),logo_url:m.logo_url||void 0,banner_url:m.banner_url||void 0,description:m.description.trim()||void 0,theme_colors:{primary:m.primaryColor.trim()||void 0,secondary:m.secondaryColor.trim()||void 0},brand_tagline:m.brand_tagline.trim()||void 0,is_active:m.is_active});r(J=>J.map(D=>D.id===ee.id?ee:D)),y("Brand updated successfully"),N("success")}else{const ee=await Hs.createBrand({name:m.name.trim(),logo_url:m.logo_url||void 0,banner_url:m.banner_url||void 0,description:m.description.trim()||void 0,theme_colors:{primary:m.primaryColor.trim()||void 0,secondary:m.secondaryColor.trim()||void 0},brand_tagline:m.brand_tagline.trim()||void 0});r(J=>[ee,...J]),y("Brand created successfully"),N("success")}U()}catch(ee){console.error("Failed to save brand:",ee),y((ee==null?void 0:ee.message)||"Failed to save brand"),N("error")}finally{f(!1)}},ae=async $=>{try{const ee=await Hs.updateBrand($.id,{is_active:!$.is_active});r(J=>J.map(D=>D.id===ee.id?ee:D)),y(`Brand ${ee.is_active?"activated":"deactivated"} successfully`),N("success")}catch(ee){console.error("Failed to toggle brand active flag:",ee),y((ee==null?void 0:ee.message)||"Failed to update brand status"),N("error")}},H=async $=>{if(window.confirm(`Are you sure you want to delete brand "${$.name}"?`))try{await Hs.deleteBrand($.id),r(ee=>ee.filter(J=>J.id!==$.id)),y("Brand deleted successfully"),N("success")}catch(ee){console.error("Failed to delete brand:",ee),y((ee==null?void 0:ee.message)||"Failed to delete brand"),N("error")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Brands"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create and manage brands used by vendors."})]}),g&&a.jsx("button",{type:"button",onClick:U,className:"px-3 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel edit"})]}),a.jsxs("form",{onSubmit:O,className:"bg-white rounded-xl shadow-md p-6 space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-brand-dark mb-2",children:g?"Edit Brand":"Add New Brand"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:m.name,onChange:$=>h(ee=>({...ee,name:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Tagline (Optional)"}),a.jsx("input",{type:"text",value:m.brand_tagline,onChange:$=>h(ee=>({...ee,brand_tagline:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Description (Optional)"}),a.jsx("textarea",{value:m.description,onChange:$=>h(ee=>({...ee,description:$.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Primary Color (Optional)"}),a.jsx("input",{type:"text",placeholder:"#1F2937",value:m.primaryColor,onChange:$=>h(ee=>({...ee,primaryColor:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Secondary Color (Optional)"}),a.jsx("input",{type:"text",placeholder:"#6B7280",value:m.secondaryColor,onChange:$=>h(ee=>({...ee,secondaryColor:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Logo (Optional)"}),a.jsx("input",{type:"file",accept:"image/*",onChange:k,disabled:C||u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark disabled:opacity-50 disabled:cursor-not-allowed"}),m.logo_url&&a.jsx("img",{src:m.logo_url,alt:"Brand logo",className:"mt-2 h-12 w-12 rounded-md object-cover border border-gray-200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Banner (Optional)"}),a.jsx("input",{type:"file",accept:"image/*",onChange:A,disabled:T||u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark disabled:opacity-50 disabled:cursor-not-allowed"}),m.banner_url&&a.jsx("img",{src:m.banner_url,alt:"Brand banner",className:"mt-2 w-full max-h-32 object-cover rounded-md border border-gray-200"})]})]}),g!==null&&a.jsx("div",{children:a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:m.is_active,onChange:$=>h(ee=>({...ee,is_active:$.target.checked})),className:"rounded border-gray-300 text-brand-dark focus:ring-brand-dark"}),a.jsx("span",{children:"Active"})]})}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{type:"submit",disabled:u||C||T,className:"px-6 py-3 rounded-full bg-brand-dark text-white font-semibold hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":g?"Save Changes":"Create Brand"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-brand-dark mb-4",children:"Existing Brands"}),i?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Ie,{size:"md",text:"Loading brands..."})}):n.length===0?a.jsx(Ya,{title:"No brands",message:"No brands have been created yet."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"Name"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"Active"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"Created"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{children:n.map($=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"px-3 py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[$.logo_url&&a.jsx("img",{src:$.logo_url,alt:$.name,className:"h-8 w-8 rounded object-cover border border-gray-200"}),a.jsx("span",{className:"font-medium text-gray-900",children:$.name})]})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${$.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:$.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-3 py-2 text-gray-600",children:$.created_at?new Date($.created_at).toLocaleDateString("en-GB"):"-"}),a.jsxs("td",{className:"px-3 py-2 space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>P($),className:"px-2 py-1 text-xs rounded border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Edit"}),a.jsx("button",{type:"button",onClick:()=>ae($),className:"px-2 py-1 text-xs rounded border border-gray-300 text-gray-700 hover:bg-gray-50",children:$.is_active?"Deactivate":"Activate"}),a.jsx("button",{type:"button",onClick:()=>H($),className:"px-2 py-1 text-xs rounded border border-red-300 text-red-700 hover:bg-red-50",children:"Delete"})]})]},$.id))})]})})]}),a.jsx(zt,{message:v,show:!!v,onClose:()=>y(""),type:w})]})},ig=()=>({user_id:"",registration_type:"vendor",brand_id:"",store_name:"",store_slug:"",store_description:"",store_banner_url:"",is_active:!0}),BN=()=>{const[n,r]=p.useState([]),[i,c]=p.useState(!1),[u,f]=p.useState(!1),[m,h]=p.useState(ig),[g,x]=p.useState(null),[v,y]=p.useState(""),[w,N]=p.useState("success"),[C,_]=p.useState(!1);p.useEffect(()=>{T()},[]);const T=async()=>{c(!0);try{const k=await ts.getAllVendors({active_only:!1});r(k)}catch(k){console.error("Failed to load stores:",k),y((k==null?void 0:k.message)||"Failed to load stores"),N("error")}finally{c(!1)}},L=()=>{h(ig()),x(null)},Y=k=>{x(k.id),h({user_id:String(k.user_id),registration_type:k.registration_type,brand_id:k.brand_id?String(k.brand_id):"",store_name:k.store_name,store_slug:k.store_slug||"",store_description:k.store_description||"",store_banner_url:k.store_banner_url||"",is_active:k.is_active})},U=async k=>{const A=k.target.files;if(!A||A.length===0)return;const O=A[0];_(!0);try{const ae=await as(O,{folder:"store-banners"});h(H=>({...H,store_banner_url:ae.secure_url}))}catch(ae){console.error("Banner upload failed:",ae),y((ae==null?void 0:ae.message)||"Banner upload failed"),N("error")}finally{_(!1),k.target.value=""}},P=async k=>{if(k.preventDefault(),!m.store_name.trim()){y("Store name is required"),N("error");return}if(!g&&!m.user_id.trim()){y("User ID is required to create a store"),N("error");return}f(!0);try{if(g){const A=await ts.updateVendorRegistrationAdmin(g,{store_name:m.store_name.trim(),store_slug:m.store_slug.trim()||void 0,store_description:m.store_description.trim()||void 0,store_banner_url:m.store_banner_url.trim(),is_active:m.is_active});r(O=>O.map(ae=>ae.id===A.id?A:ae)),y("Store updated successfully"),N("success")}else{const A=await ts.registerVendorAdmin({user_id:parseInt(m.user_id,10),registration_type:m.registration_type,brand_id:m.brand_id?parseInt(m.brand_id,10):void 0,store_name:m.store_name.trim(),store_slug:m.store_slug.trim()||void 0,store_description:m.store_description.trim()||void 0,store_banner_url:m.store_banner_url.trim()||void 0});r(O=>[A,...O]),y("Store created successfully"),N("success")}L()}catch(A){console.error("Failed to save store:",A),y((A==null?void 0:A.message)||"Failed to save store"),N("error")}finally{f(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Stores"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"View and manage all vendor/brand stores."})]}),g&&a.jsx("button",{type:"button",onClick:L,className:"px-3 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel edit"})]}),a.jsxs("form",{onSubmit:P,className:"bg-white rounded-xl shadow-md p-6 space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-brand-dark mb-2",children:g?"Edit Store":"Add New Store"}),!g&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"User ID *"}),a.jsx("input",{type:"number",value:m.user_id,onChange:k=>h(A=>({...A,user_id:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),a.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:"ID of the user who owns this store."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Registration Type"}),a.jsxs("select",{value:m.registration_type,onChange:k=>h(A=>({...A,registration_type:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",children:[a.jsx("option",{value:"vendor",children:"Vendor"}),a.jsx("option",{value:"brand",children:"Brand"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Brand ID (optional)"}),a.jsx("input",{type:"number",value:m.brand_id,onChange:k=>h(A=>({...A,brand_id:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Store Name *"}),a.jsx("input",{type:"text",value:m.store_name,onChange:k=>h(A=>({...A,store_name:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Store Slug (optional)"}),a.jsx("input",{type:"text",value:m.store_slug,onChange:k=>h(A=>({...A,store_slug:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),a.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:"Auto-generated from name if left empty."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Store Description (optional)"}),a.jsx("textarea",{value:m.store_description,onChange:k=>h(A=>({...A,store_description:k.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-1",children:"Store Banner (optional)"}),a.jsx("input",{type:"file",accept:"image/*",onChange:U,disabled:C||u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark disabled:opacity-50 disabled:cursor-not-allowed"}),C&&a.jsx("div",{className:"mt-2",children:a.jsx(Ie,{size:"sm",text:"Uploading banner..."})})]}),a.jsx("div",{children:m.store_banner_url&&a.jsxs("div",{className:"mt-6 relative",children:[a.jsx("img",{src:m.store_banner_url,alt:"Store banner preview",className:"w-full max-h-40 object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>h(k=>({...k,store_banner_url:""})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition text-lg font-bold","aria-label":"Remove banner",children:""})]})})]}),g!==null&&a.jsx("div",{children:a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:m.is_active,onChange:k=>h(A=>({...A,is_active:k.target.checked})),className:"rounded border-gray-300 text-brand-dark focus:ring-brand-dark"}),a.jsx("span",{children:"Active"})]})}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{type:"submit",disabled:u||C,className:"px-6 py-3 rounded-full bg-brand-dark text-white font-semibold hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":g?"Save Changes":"Create Store"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-brand-dark mb-4",children:"Existing Stores"}),i?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Ie,{size:"md",text:"Loading stores..."})}):n.length===0?a.jsx(Ya,{title:"No stores",message:"No vendor/brand stores have been created yet."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"ID"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"User"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"Type"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"Store"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"Active"}),a.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(k=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"px-3 py-2 text-gray-700",children:k.id}),a.jsxs("td",{className:"px-3 py-2 text-gray-700",children:["User #",k.user_id]}),a.jsx("td",{className:"px-3 py-2 text-gray-700 capitalize",children:k.registration_type}),a.jsx("td",{className:"px-3 py-2 text-gray-900",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:k.store_name}),k.store_slug&&a.jsxs("span",{className:"text-xs text-gray-500",children:["/stores/",k.store_slug]})]})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${k.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:k.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-3 py-2 space-x-2",children:a.jsx("button",{type:"button",onClick:()=>Y(k),className:"px-2 py-1 text-xs rounded border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Edit"})})]},k.id))})]})})]}),a.jsx(zt,{message:v,show:!!v,onClose:()=>y(""),type:w})]})},IN=({onLogout:n,products:r,onAddProduct:i,onUpdateProduct:c,onDeleteProduct:u,onNavigateToPublicView:f})=>{const[m,h]=p.useState("Products"),g=()=>{switch(m){case"Dashboard":return a.jsx(lg,{});case"Products":return a.jsx(vN,{products:r,onAddProduct:i,onUpdateProduct:c,onDeleteProduct:u});case"Categories":return a.jsx(jN,{});case"Orders":return a.jsx(NN,{});case"Users":return a.jsx(SN,{});case"Commission":return a.jsx(wN,{});case"Stakeholders":return a.jsx(_N,{});case"CommissionSettings":return a.jsx(AN,{});case"Collections":return a.jsx(RN,{});case"ProductFlags":return a.jsx(LN,{});case"Financial":return a.jsx(DN,{});case"MoneyTrail":return a.jsx(MN,{});case"VendorEarnings":return a.jsx(ON,{});case"MyStore":return a.jsx(zN,{});case"Brands":return a.jsx(UN,{});case"Stores":return a.jsx(BN,{});default:return a.jsx(lg,{})}};return a.jsxs("div",{className:"bg-brand-bg min-h-screen",children:[a.jsx(iN,{onLogout:n,onNavigateToPublicView:f}),a.jsxs("div",{className:"flex",children:[a.jsx(gN,{activeTab:m,setActiveTab:h}),a.jsx("main",{className:"flex-1 p-6",children:g()})]})]})},HN=({onNavigate:n})=>{const r=p.useRef(null),[i,c]=p.useState({x:30,y:window.innerHeight-100}),[u,f]=p.useState(!1),m=p.useRef({x:0,y:0});p.useEffect(()=>{const y=()=>{c(w=>({x:Math.min(w.x,window.innerWidth-60),y:Math.min(w.y,window.innerHeight-60)}))};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const h=y=>{if(!r.current)return;const w=r.current.getBoundingClientRect();m.current={x:y.clientX-w.left,y:y.clientY-w.top},f(!0),y.preventDefault()},g=y=>{if(!u)return;let w=y.clientX-m.current.x,N=y.clientY-m.current.y;w=Math.max(10,Math.min(w,window.innerWidth-60)),N=Math.max(10,Math.min(N,window.innerHeight-60)),c({x:w,y:N})},x=()=>{u&&(f(!1),setTimeout(()=>{r.current&&(r.current.dataset.dragging="false")},0))};p.useEffect(()=>(u&&(r.current&&(r.current.dataset.dragging="true"),window.addEventListener("mousemove",g),window.addEventListener("mouseup",x)),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",x)}),[u]);const v=()=>{var y;((y=r.current)==null?void 0:y.dataset.dragging)!=="true"&&n()};return a.jsx("button",{ref:r,onClick:v,onMouseDown:h,className:"fixed z-50 w-14 h-14 bg-brand-dark text-white rounded-full flex items-center justify-center shadow-2xl cursor-grab active:cursor-grabbing transition-transform duration-200 hover:scale-110",style:{left:`${i.x}px`,top:`${i.y}px`,transform:u?"scale(1.1)":"scale(1)"},title:"Go to Admin Panel",children:a.jsx(ep,{})})},tp=({collection:n,onCollectionSelect:r,primaryColor:i})=>{const c=n.products||[],u=typeof n.products_count=="number"?n.products_count:c.length,f=i||"#1F2937";return a.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[n.image_url&&a.jsx("div",{className:"relative h-32 w-full",children:a.jsx("img",{src:n.image_url,alt:n.name,className:"w-full h-full object-cover",onError:m=>{m.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:f},children:n.name}),n.description&&a.jsx("p",{className:"text-sm text-brand-secondary",children:n.description}),a.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:u>0?`${u} ${u===1?"product":"products"}`:"No products in this collection yet"})]}),c.length>0?a.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:c.slice(0,5).map((m,h)=>a.jsxs("div",{className:"flex-shrink-0 w-32 cursor-pointer",onClick:()=>r(n),children:[a.jsx("div",{className:"relative aspect-square mb-2 rounded-lg overflow-hidden",children:a.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover",onError:g=>{g.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'}})}),a.jsx("p",{className:"text-xs font-semibold text-brand-dark truncate",children:m.name}),a.jsxs("p",{className:"text-xs font-bold text-brand-dark",children:["Rs. ",m.price]})]},m.id))}):null,a.jsx("button",{onClick:()=>r(n),className:"w-full mt-3 py-2 px-4 rounded-full font-semibold text-white transition-colors",style:{backgroundColor:f},onMouseEnter:m=>{m.currentTarget.style.opacity="0.9"},onMouseLeave:m=>{m.currentTarget.style.opacity="1"},children:"View Collection"})]})]})},Uu=({message:n,onRetry:r,retryText:i="Retry"})=>a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("p",{className:"text-brand-secondary mb-4",children:n}),r&&a.jsx("button",{onClick:r,className:"bg-brand-dark text-white font-semibold py-2 px-6 rounded-full hover:bg-gray-700 transition",children:i})]}),qN=({onCollectionSelect:n,onGoBack:r})=>{const[i,c]=p.useState([]),[u,f]=p.useState(!0),[m,h]=p.useState(null),[g,x]=p.useState(""),[v,y]=p.useState("success"),w=p.useRef(!1);p.useEffect(()=>{w.current||(w.current=!0,N())},[]);const N=async()=>{f(!0),h(null);try{const C=await qs.getAllCollections(!0);c(C)}catch(C){h("Failed to load collections. Please try again."),y("error"),x("Failed to load collections"),console.error("Error loading collections:",C)}finally{f(!1)}};return u?a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:r}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Recommended Collections"})]}),a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Ie,{size:"lg",text:"Loading collections..."})})]})}):m&&i.length===0?a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:r}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Recommended Collections"})]}),a.jsx(Uu,{message:m,onRetry:N})]})}):a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Xt,{onClick:r}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Recommended Collections"})]}),a.jsx("button",{onClick:N,className:"text-brand-dark hover:text-gray-700 transition",title:"Refresh",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),i.length===0?a.jsx(Ya,{title:"No Collections Available",message:"There are no collections available at the moment.",action:{label:"Refresh",onClick:N}}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-brand-secondary",children:"Discover curated collections"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(C=>a.jsx(tp,{collection:C,onCollectionSelect:n},C.id))})]}),a.jsx(zt,{message:g,show:!!g,onClose:()=>x(""),type:v})]})})},PN=({collection:n,wishlist:r,onToggleWishlist:i,onProductSelect:c,onAddToCart:u,onOpenQuickView:f,onGoBack:m})=>{const[h,g]=p.useState(n),[x,v]=p.useState(!n.products||n.products.length===0),[y,w]=p.useState(null),[N,C]=p.useState(""),[_,T]=p.useState("success"),[L,Y]=p.useState({categories:[],sizes:[],genders:[],priceRange:null,brands:[],ratings:[]}),U=p.useRef(!1);p.useEffect(()=>{U.current||(U.current=!0,(!h.products||h.products.length===0)&&P())},[h.id]);const P=async()=>{v(!0),w(null);try{const O=await qs.getCollectionById(h.id);g(O)}catch(O){w("Failed to load collection details. Please try again."),T("error"),C("Failed to load collection"),console.error("Error loading collection:",O)}finally{v(!1)}},k=h.products||[],A=p.useMemo(()=>k.filter(O=>{const ae=L.categories.length===0||O.category&&L.categories.includes(O.category),H=L.sizes.length===0||O.sizes&&O.sizes.some(W=>L.sizes.includes(W)),$=L.genders.length===0||L.genders.some(W=>{var q,F;const M=W.toLowerCase().replace("'s","");return((q=O.category)==null?void 0:q.toLowerCase().includes(M))||((F=O.name)==null?void 0:F.toLowerCase().includes(M))}),ee=parseFloat(O.price||"0"),J=!L.priceRange||ee>=L.priceRange.min&&ee<=L.priceRange.max,D=L.brands.length===0||L.brands.some(W=>{var M,q;return((M=O.name)==null?void 0:M.toLowerCase().includes(W.toLowerCase()))||((q=O.category)==null?void 0:q.toLowerCase().includes(W.toLowerCase()))}),E=L.ratings.length===0||L.ratings.some(W=>(O.rating||0)>=W);return ae&&H&&$&&J&&D&&E}),[k,L]);return a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:m}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:h.name})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[h.image_url&&a.jsx("div",{className:"mb-4",children:a.jsx("img",{src:h.image_url,alt:h.name,className:"w-full h-48 object-cover rounded-lg",onError:O=>{O.currentTarget.style.display="none"}})}),h.description&&a.jsx("p",{className:"text-brand-secondary text-lg",children:h.description})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("div",{className:"lg:hidden mb-6",children:a.jsx(wl,{activeFilters:L,onFilterChange:Y})}),a.jsx("div",{className:"hidden lg:block",children:a.jsx(wl,{activeFilters:L,onFilterChange:Y})})]}),a.jsx("div",{className:"lg:col-span-3",children:x?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Ie,{size:"lg",text:"Loading products..."})}):y&&A.length===0?a.jsx(Uu,{message:y,onRetry:P}):A.length===0?a.jsx(Ya,{title:"No Products in Collection",message:"This collection doesn't have any products yet."}):a.jsxs(a.Fragment,{children:[a.jsxs("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:["Products (",A.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:A.map((O,ae)=>a.jsx(Hr,{product:O,index:ae,onProductSelect:c,isWishlisted:r.includes(O.id),onToggleWishlist:i,onAddToCart:u,onOpenQuickView:f},O.id))})]})})]}),a.jsx(zt,{message:N,show:!!N,onClose:()=>C(""),type:_})]})})},FN=({onGoBack:n,onSuccess:r})=>{const[i,c]=p.useState("vendor"),[u,f]=p.useState(null),[m,h]=p.useState([]),[g,x]=p.useState(!1),[v,y]=p.useState(!1),[w,N]=p.useState(""),[C,_]=p.useState("success"),[T,L]=p.useState(""),[Y,U]=p.useState(""),[P,k]=p.useState(""),[A,O]=p.useState(""),[ae,H]=p.useState(null),[$,ee]=p.useState(!1),[J,D]=p.useState("");p.useEffect(()=>{i==="brand"&&E()},[i]);const E=async()=>{x(!0);try{const F=await Hs.getAllBrands(!0);h(F)}catch(F){console.error("Error loading brands:",F)}finally{x(!1)}},W=async F=>{const I=F.target.files;if(!I||I.length===0)return;const G=I[0];H(G);const S=new FileReader;S.onloadend=()=>{D(S.result)},S.readAsDataURL(G),ee(!0);try{const Q=await as(G,{folder:"store-banners"});O(Q.secure_url)}catch(Q){N((Q==null?void 0:Q.message)||"Banner upload failed. Please try again."),_("error"),H(null),D(""),O("")}finally{ee(!1),F.target.value=""}},M=()=>{H(null),D(""),O("")},q=async F=>{if(F.preventDefault(),!T.trim()){N("Store name is required"),_("error");return}if(i==="brand"&&!u){N("Please select a brand"),_("error");return}if(ae&&!A){ee(!0);try{const I=await as(ae,{folder:"store-banners"});O(I.secure_url)}catch(I){N((I==null?void 0:I.message)||"Banner upload failed. Please try again."),_("error"),ee(!1);return}finally{ee(!1)}}y(!0);try{await ts.registerVendor({registration_type:i,brand_id:u||void 0,store_name:T.trim(),store_slug:Y.trim()||void 0,store_description:P.trim()||void 0,store_banner_url:A.trim()||void 0}),N("Vendor registration successful!"),_("success"),L(""),U(""),k(""),O(""),H(null),D(""),f(null),r&&setTimeout(()=>{r()},1500)}catch(I){N(I.message||"Registration failed. Please try again."),_("error")}finally{y(!1)}};return a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[800px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:n}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Register as Vendor/Brand"})]}),a.jsxs("form",{onSubmit:q,className:"bg-white rounded-xl shadow-md p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-lg font-bold text-brand-dark mb-4",children:"Registration Type"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"registrationType",value:"vendor",checked:i==="vendor",onChange:F=>{c("vendor"),f(null)},className:"sr-only"}),a.jsx("div",{className:`p-4 rounded-lg border-2 text-center transition ${i==="vendor"?"border-brand-dark bg-brand-dark text-white":"border-gray-300 bg-white text-brand-dark hover:border-gray-400"}`,children:"Vendor"})]}),a.jsxs("label",{className:"flex-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"registrationType",value:"brand",checked:i==="brand",onChange:F=>c("brand"),className:"sr-only"}),a.jsx("div",{className:`p-4 rounded-lg border-2 text-center transition ${i==="brand"?"border-brand-dark bg-brand-dark text-white":"border-gray-300 bg-white text-brand-dark hover:border-gray-400"}`,children:"Brand"})]})]})]}),i==="brand"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Select Brand *"}),g?a.jsx("div",{className:"text-brand-secondary",children:"Loading brands..."}):a.jsxs("select",{value:u||"",onChange:F=>f(Number(F.target.value)||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0,children:[a.jsx("option",{value:"",children:"Select a brand"}),m.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]}),m.length===0&&!g&&a.jsx("p",{className:"text-sm text-brand-secondary mt-1",children:"No active brands available. Please contact admin."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Name *"}),a.jsx("input",{type:"text",value:T,onChange:F=>L(F.target.value),placeholder:"Enter your store name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Slug (Optional)"}),a.jsx("input",{type:"text",value:Y,onChange:F=>U(F.target.value),placeholder:"e.g., my-store-name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"}),a.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:"Auto-generated if left empty"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Description (Optional)"}),a.jsx("textarea",{value:P,onChange:F=>k(F.target.value),placeholder:"Describe your store",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Store Banner (Optional)"}),a.jsx("input",{type:"file",accept:"image/*",onChange:W,disabled:$||v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark disabled:opacity-50 disabled:cursor-not-allowed"}),$&&a.jsx("div",{className:"mt-2",children:a.jsx(Ie,{size:"sm",text:"Uploading banner..."})}),J&&a.jsxs("div",{className:"mt-4 relative",children:[a.jsx("img",{src:J,alt:"Store banner preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:M,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition text-lg font-bold",children:""})]}),a.jsx("p",{className:"text-xs text-brand-secondary mt-1",children:"Upload a banner image for your store"})]}),a.jsx("button",{type:"submit",disabled:v||$,className:"w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-full hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Registering...":"Register"})]}),a.jsx(zt,{message:w,show:!!w,onClose:()=>N(""),type:C})]})})},VN={getStorePage:async n=>{const r=await ce.get(ie.STORE_BY_SLUG(n));return ke(r)},getStoreCollections:async n=>{const r=await ce.get(ie.STORE_COLLECTIONS(n));return ke(r)||[]}},YN=({primaryColor:n,secondaryColor:r,brandLogo:i,brandBanner:c,children:u})=>{const f=n||"#1F2937",m=r||"#6B7280";return a.jsx("div",{style:{"--brand-primary":f,"--brand-secondary":m},children:u})},$N=({storeSlug:n,wishlist:r,onToggleWishlist:i,onProductSelect:c,onAddToCart:u,onOpenQuickView:f,onCollectionSelect:m,onGoBack:h,onNavigateHome:g})=>{const[x,v]=p.useState(null),[y,w]=p.useState([]),[N,C]=p.useState(!0),[_,T]=p.useState(null),[L,Y]=p.useState(""),[U,P]=p.useState({categories:[],sizes:[],genders:[],priceRange:null,brands:[],ratings:[]});p.useEffect(()=>{k()},[n]);const k=async()=>{C(!0),T(null);try{const F=await VN.getStorePage(n);v(F);try{const I=await qs.getStoreCollections(n);w(I)}catch(I){console.error("Error loading collections:",I)}}catch(F){T("Failed to load store. Please try again."),Y("Failed to load store"),console.error("Error loading store:",F)}finally{C(!1)}},A=F=>{var I;return(I=x==null?void 0:x.brand)!=null&&I.theme_colors&&x.brand.theme_colors[F]||(F==="primary"?"#1F2937":"#6B7280")},O=A("primary"),ae=A("secondary"),H=x==null?void 0:x.store,$=x==null?void 0:x.brand,ee=(x==null?void 0:x.products)||[],J=(x==null?void 0:x.vendor_products)||[],D=p.useMemo(()=>J.map(F=>({id:F.id||0,name:F.name||"",price:String(F.price||0),originalPrice:F.original_price?String(F.original_price):null,image:F.image_url||"",category:F.category_name||"",stock:F.stock||0})),[J]),E=p.useMemo(()=>ee.map(F=>({id:F.id||0,name:F.name||"",price:String(F.price||0),originalPrice:F.original_price?String(F.original_price):null,image:F.image_url||"",category:F.category_name||"",stock:F.stock||0})),[ee]),W=p.useMemo(()=>E.filter(F=>{const I=U.categories.length===0||F.category&&U.categories.includes(F.category),G=U.sizes.length===0||F.sizes&&F.sizes.some(je=>U.sizes.includes(je)),S=U.genders.length===0||U.genders.some(je=>{var ye,Oe;const ue=je.toLowerCase().replace("'s","");return((ye=F.category)==null?void 0:ye.toLowerCase().includes(ue))||((Oe=F.name)==null?void 0:Oe.toLowerCase().includes(ue))}),Q=parseFloat(F.price||"0"),le=!U.priceRange||Q>=U.priceRange.min&&Q<=U.priceRange.max,be=U.brands.length===0||U.brands.some(je=>{var ue,ye;return((ue=F.name)==null?void 0:ue.toLowerCase().includes(je.toLowerCase()))||((ye=F.category)==null?void 0:ye.toLowerCase().includes(je.toLowerCase()))}),ge=U.ratings.length===0||U.ratings.some(je=>(F.rating||0)>=je);return I&&G&&S&&le&&be&&ge}),[E,U]),M=p.useMemo(()=>{if(!D.length)return[];const F=new Set(D.map(I=>I.id));return W.filter(I=>F.has(I.id))},[W,D]),q=p.useMemo(()=>{if(!D.length)return W;const F=new Set(D.map(I=>I.id));return W.filter(I=>!F.has(I.id))},[W,D]);return N?a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:h}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Loading Store..."})]}),a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Ie,{size:"lg",text:"Loading store..."})})]})}):_||!x||!H?a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:h}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Store Not Found"})]}),a.jsx(Uu,{message:_||"Store not found",onRetry:k})]})}):a.jsx(YN,{primaryColor:O,secondaryColor:ae,brandLogo:$==null?void 0:$.logo_url,brandBanner:H.store_banner_url||($==null?void 0:$.banner_url),children:a.jsxs("div",{className:"bg-brand-bg min-h-screen",children:[(H.store_banner_url||($==null?void 0:$.banner_url))&&a.jsx("div",{className:"w-full bg-black/5 flex items-center justify-center",children:a.jsx("div",{className:"w-full max-h-72 md:max-h-96 overflow-hidden flex items-center justify-center",children:a.jsx("img",{src:H.store_banner_url||($==null?void 0:$.banner_url),alt:H.store_name,className:"w-full h-auto object-contain",onError:F=>{F.currentTarget.style.display="none"}})})}),a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:h}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[($==null?void 0:$.logo_url)&&a.jsx("img",{src:$.logo_url,alt:$.name,className:"w-16 h-16 rounded-lg object-cover",onError:F=>{F.currentTarget.style.display="none"}}),a.jsx("h1",{className:"text-4xl font-bold",style:{color:O},children:H.store_name})]}),H.store_description&&a.jsx("p",{className:"text-brand-secondary text-lg",children:H.store_description}),($==null?void 0:$.brand_tagline)&&a.jsx("p",{className:"text-sm italic mt-2",style:{color:O},children:$.brand_tagline})]}),a.jsx("button",{onClick:g,className:"px-4 py-2 rounded-full font-semibold text-white transition",style:{backgroundColor:O},onMouseEnter:F=>{F.currentTarget.style.opacity="0.9"},onMouseLeave:F=>{F.currentTarget.style.opacity="1"},children:"Main Catalog"})]}),y.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:O},children:"Collections"}),a.jsx("div",{className:"space-y-6",children:y.map(F=>a.jsx(tp,{collection:F,onCollectionSelect:m,primaryColor:O},F.id))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:O},children:"Products"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("div",{className:"lg:hidden mb-6",children:a.jsx(wl,{activeFilters:U,onFilterChange:P})}),a.jsx("div",{className:"hidden lg:block",children:a.jsx(wl,{activeFilters:U,onFilterChange:P})})]}),a.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[M.length>0&&a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:O},children:"Products from this store"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:M.map((F,I)=>a.jsx(Hr,{product:F,index:I,onProductSelect:c,isWishlisted:r.includes(F.id),onToggleWishlist:i,onAddToCart:u,onOpenQuickView:f},F.id))})]}),q.length>0&&a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:O},children:"Other vendors on this brand"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:q.map((F,I)=>a.jsx(Hr,{product:F,index:I,onProductSelect:c,isWishlisted:r.includes(F.id),onToggleWishlist:i,onAddToCart:u,onOpenQuickView:f},F.id))})]}),M.length===0&&q.length===0&&a.jsx(Ya,{title:"No Products Available",message:"This store doesn't have any products yet."})]})]})]})]}),a.jsx(zt,{message:L,show:!!L,onClose:()=>Y("")})]})})},GN=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),QN=({onGoBack:n})=>{const[r,i]=p.useState("balance"),[c,u]=p.useState(!0),[f,m]=p.useState(!1),[h,g]=p.useState(null),[x,v]=p.useState(""),[y,w]=p.useState(null),[N,C]=p.useState([]),[_,T]=p.useState(""),[L,Y]=p.useState(""),[U,P]=p.useState(""),[k,A]=p.useState(""),[O,ae]=p.useState(""),[H,$]=p.useState(""),[ee,J]=p.useState(""),[D,E]=p.useState(""),[W,M]=p.useState("success"),q=(()=>{const ue=Te.getBackendUser();if(ue!=null&&ue.id){const ye=parseInt(ue.id,10);return isNaN(ye)?null:ye}return null})();p.useEffect(()=>{q&&(F(),I())},[q]),p.useEffect(()=>{r==="balance"&&q?F():r==="tree"&&q?G():r==="withdrawals"&&S()},[r,q]);const F=async(ue=!1)=>{if(q){ue?m(!0):u(!0);try{const ye=await zu.getUserBalance(q);g(ye)}catch(ye){E("Failed to load balance"),M("error"),console.error("Error loading balance:",ye)}finally{u(!1),m(!1)}}},I=async()=>{try{const ue=await zn.getReferralCode();v(ue)}catch(ue){console.error("Error loading referral code:",ue)}},G=async(ue=!1)=>{if(q){ue?m(!0):u(!0);try{const ye=await zn.getReferralTree(q);w(ye)}catch(ye){E("Failed to load referral tree"),M("error"),console.error("Error loading referral tree:",ye)}finally{u(!1),m(!1)}}},S=async(ue=!1)=>{ue?m(!0):u(!0);try{const ye=await zn.listWithdrawalRequests();C(ye)}catch(ye){E("Failed to load withdrawals"),M("error"),console.error("Error loading withdrawals:",ye)}finally{u(!1),m(!1)}},Q=()=>{x&&(navigator.clipboard.writeText(x),E("Referral code copied to clipboard!"),M("success"))},le=async ue=>{ue.preventDefault();const ye=parseFloat(_);if(!ye||ye<=0){E("Amount must be greater than 0"),M("error");return}if(h&&ye>h.available_balance){E("Amount exceeds available balance"),M("error");return}u(!0);try{await zn.createWithdrawalRequest({amount:ye,payment_method:L||void 0,bank_name:U||void 0,bank_account_number:k||void 0,account_holder_name:O||void 0,easypaisa_number:H||void 0,jazzcash_number:ee||void 0}),E("Withdrawal request created successfully!"),M("success"),T(""),Y(""),P(""),A(""),ae(""),$(""),J(""),q&&await F(!0),await S(!0)}catch(Oe){E(Oe.message||"Failed to create withdrawal request"),M("error")}finally{u(!1)}},be=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-brand-dark",children:"Reward Balance"}),a.jsx("button",{onClick:()=>F(!0),className:"text-brand-dark hover:text-gray-700 transition",title:"Refresh",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),h?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-brand-secondary",children:"Available Balance:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["Rs ",h.available_balance.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-brand-secondary",children:"Total Purchases:"}),a.jsx("span",{className:"text-lg font-semibold text-brand-dark",children:h.statistics.total_purchases})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-brand-secondary",children:"Total Purchase Amount:"}),a.jsxs("span",{className:"text-lg font-semibold text-brand-dark",children:["Rs ",h.statistics.total_purchase_amount.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-brand-secondary",children:"Balance Used in Purchases:"}),a.jsxs("span",{className:"text-lg font-semibold text-brand-dark",children:["Rs ",h.statistics.total_balance_used_in_purchases.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-brand-secondary",children:"Total Cash Paid:"}),a.jsxs("span",{className:"text-lg font-semibold text-brand-dark",children:["Rs ",h.statistics.total_cash_paid.toFixed(2)]})]})]}):a.jsx("div",{className:"text-brand-secondary",children:"Loading balance..."})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-brand-dark mb-4",children:"Your Referral Code"}),x?a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border-2 border-gray-200",children:[a.jsx("div",{className:"flex-1 font-mono text-xl font-bold tracking-wider text-brand-dark",children:x}),a.jsx("button",{onClick:Q,className:"p-2 bg-brand-dark text-white rounded-lg hover:bg-gray-700 transition",title:"Copy to clipboard",children:a.jsx(GN,{})})]}):a.jsx("div",{className:"text-brand-secondary",children:"Loading referral code..."})]})]}),ge=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-bold text-brand-dark",children:"Referral Tree"}),a.jsxs("button",{onClick:()=>G(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Refresh"})]})]}),c&&!y?a.jsx("div",{className:"text-center py-8 text-brand-secondary",children:"Loading referral tree..."}):y?a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"font-bold text-brand-dark",children:["User #",y.user_id]}),a.jsxs("div",{className:"text-sm text-brand-secondary",children:["Direct: ",y.direct_children_count," | Total: ",y.total_descendants_count]})]})]})}),y.children&&y.children.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-brand-dark mb-3",children:"Direct Referrals:"}),a.jsx("div",{className:"space-y-3",children:y.children.map((ue,ye)=>a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 ml-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-400 flex items-center justify-center text-white font-bold text-sm",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"font-semibold text-brand-dark",children:["User #",ue.user_id]}),a.jsxs("div",{className:"text-sm text-brand-secondary",children:["Direct: ",ue.direct_children_count," | Total: ",ue.total_descendants_count]})]})]})},ye))})]})]}):a.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:a.jsx("p",{className:"text-brand-secondary",children:"No referral tree available"})})]}),je=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-bold text-brand-dark",children:"Withdrawal Requests"}),a.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 border border-gray-300 rounded-lg text-brand-dark hover:bg-gray-50 transition flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Refresh"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("h4",{className:"text-lg font-bold text-brand-dark mb-4",children:"Request Withdrawal"}),a.jsxs("form",{onSubmit:le,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Amount (Rs) *"}),a.jsx("input",{type:"number",step:"0.01",min:"500",value:_,onChange:ue=>T(ue.target.value),placeholder:"Minimum Rs 500",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0}),h&&a.jsxs("p",{className:"text-xs text-brand-secondary mt-1",children:["Max: Rs ",h.available_balance.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Payment Method *"}),a.jsxs("select",{value:L,onChange:ue=>Y(ue.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0,children:[a.jsx("option",{value:"",children:"Select payment method"}),a.jsx("option",{value:"bank",children:"Bank Transfer"}),a.jsx("option",{value:"easypaisa",children:"Easypaisa"}),a.jsx("option",{value:"jazzcash",children:"JazzCash"})]})]}),L==="bank"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Bank Name *"}),a.jsx("input",{type:"text",value:U,onChange:ue=>P(ue.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Account Number *"}),a.jsx("input",{type:"text",value:k,onChange:ue=>A(ue.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Account Holder Name *"}),a.jsx("input",{type:"text",value:O,onChange:ue=>ae(ue.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]})]}),L==="easypaisa"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"Easypaisa Number *"}),a.jsx("input",{type:"text",value:H,onChange:ue=>$(ue.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),L==="jazzcash"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-brand-dark mb-2",children:"JazzCash Number *"}),a.jsx("input",{type:"text",value:ee,onChange:ue=>J(ue.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",required:!0})]}),a.jsx("button",{type:"submit",disabled:c,className:"w-full bg-brand-dark text-white font-semibold py-3 px-6 rounded-full hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Submitting...":"Submit Withdrawal Request"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold text-brand-dark mb-4",children:"Withdrawal History"}),N.length===0?a.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:a.jsx("p",{className:"text-brand-secondary",children:"No withdrawal requests yet"})}):a.jsx("div",{className:"space-y-3",children:N.map(ue=>{const ye=ue.status==="processed"?"bg-green-100 text-green-800":ue.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";return a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-bold text-lg text-brand-dark",children:["Rs ",ue.amount.toFixed(2)]}),a.jsx("div",{className:"text-sm text-brand-secondary mt-1",children:new Date(ue.created_at).toLocaleDateString()})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye}`,children:ue.status.toUpperCase()})]}),ue.payment_method&&a.jsxs("div",{className:"text-sm text-brand-secondary",children:["Payment: ",ue.payment_method]}),ue.transaction_id&&a.jsxs("div",{className:"text-sm text-brand-secondary",children:["Transaction ID: ",ue.transaction_id]})]},ue.id)})})]})]});return q?a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:n}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Referral Dashboard"})]}),a.jsx("div",{className:"flex space-x-4 mb-6",children:["balance","tree","withdrawals"].map(ue=>a.jsx("button",{onClick:()=>i(ue),className:`px-6 py-2 rounded-full font-semibold transition ${r===ue?"bg-brand-dark text-white":"bg-white text-brand-dark border border-gray-300 hover:bg-gray-50"}`,children:ue.charAt(0).toUpperCase()+ue.slice(1)},ue))}),c&&!h&&!y&&N.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Ie,{size:"lg",text:"Loading Referral data..."})}):a.jsxs(a.Fragment,{children:[r==="balance"&&be(),r==="tree"&&ge(),r==="withdrawals"&&je()]}),a.jsx(zt,{message:D,show:!!D,onClose:()=>E(""),type:W})]})}):a.jsx("div",{className:"bg-brand-bg min-h-screen",children:a.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx(Xt,{onClick:n}),a.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Referral Dashboard"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:a.jsx("p",{className:"text-brand-secondary",children:"Please log in to access Referral dashboard"})})]})})},XN=({onDeactivateClick:n,onPrivacyClick:r,onTermsClick:i})=>a.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:a.jsx("div",{className:"max-w-[1200px] mx-auto px-6 py-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[" ",new Date().getFullYear()," Shauqse. All rights reserved."]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm",children:[a.jsx("button",{onClick:r,className:"text-gray-600 hover:text-brand-dark transition-colors",children:"Privacy Policy"}),a.jsx("button",{onClick:i,className:"text-gray-600 hover:text-brand-dark transition-colors",children:"Terms & Conditions"}),a.jsx("button",{onClick:n,className:"text-gray-600 hover:text-red-600 transition-colors",children:"Deactivate Account"})]})]})})}),mo=n=>{var r;return!n||typeof n!="object"?null:(r=n.data)!=null&&r.user?n.data.user:n.user?n.user:n.data&&typeof n.data=="object"&&"id"in n.data&&"email"in n.data?n.data:"id"in n&&"email"in n?n:null},fo=n=>{var r,i,c;return(r=n.data)!=null&&r.access_token?n.data.access_token:n.access_token?n.access_token:(i=n.data)!=null&&i.token?n.data.token:n.token?n.token:(c=n.result)!=null&&c.token?n.result.token:null},ZN=n=>{var r;return(r=n.data)!=null&&r.user?n.data.user:n.user?n.user:null},Nl={login:async n=>{const r={"Content-Type":"application/json; charset=utf-8","app-iss":Vs.DEFAULT_HEADERS["app-iss"]};let i=null,c=null;try{i=await ce.postRaw(ie.LOGIN,n,r)}catch(m){if(c=m,((m==null?void 0:m.status)||(m==null?void 0:m.statusCode)||(m instanceof NotFoundError?404:null))===404){console.warn(`Login endpoint not found at ${ie.LOGIN}, trying with trailing slash...`);try{i=await ce.postRaw(`${ie.LOGIN}/`,n,r)}catch{throw c}}else throw m}if(!i)throw new ia("Login failed: No response received.");const u=fo(i),f=mo(i);if(u&&f)return Te.saveToken(u),Te.saveBackendUser(f),{user:f,token:u};throw new ru("Login failed: Token or user data not found in response.")},register:async n=>{try{const r=await ce.post(ie.REGISTER,n);let i=fo(r)||"",c=mo(r);if(c)return i&&Te.saveToken(i),Te.saveBackendUser(c),{user:c,token:i};throw new ia("Registration response was invalid (no user found).")}catch(r){if(r instanceof lu){console.warn(`Registration with JSON failed on ${ie.REGISTER}, trying form-encoded...`,r);const i={"Content-Type":"application/x-www-form-urlencoded; charset=utf-8","app-iss":Vs.DEFAULT_HEADERS["app-iss"]},c=new URLSearchParams(n).toString();try{const u=await ce.postRaw(ie.REGISTER,c,i);let f=fo(u)||"",m=mo(u);if(m)return f&&Te.saveToken(f),Te.saveBackendUser(m),{user:m,token:f};throw new ia("Registration response was invalid (no user found).")}catch(u){if(u instanceof lu){console.warn("Registration with form-encoded failed, trying trailing slash...",u);const f=await ce.postRaw(`${ie.REGISTER}/`,c,i);let m=fo(f)||"",h=mo(f);if(h)return m&&Te.saveToken(m),Te.saveBackendUser(h),{user:h,token:m};throw new ia("Registration response was invalid (no user found).")}throw u}}throw r}},getProfile:async()=>{const n=await ce.get(ie.PROFILE),r=ZN(n);if(r)return r;if(typeof n=="object"&&n!==null&&"id"in n&&"email"in n)return n;throw new ia("Failed to parse user profile from response.")},verifyToken:async()=>{try{return await ce.post(ie.VERIFY,{}),!0}catch(n){return n instanceof ru||console.error("Token verification failed with an unexpected error:",n),!1}},logout:async()=>{const n=Te.getToken();if(Te.clearAll(),n)try{await ce.post(ie.LOGOUT,{})}catch(r){console.warn("Backend logout call failed, but user is logged out locally.",r)}},deactivateAccount:async()=>{const n=await ce.post(ie.DEACTIVATE,{});if(!n.success)throw new Error(n.message||"Failed to deactivate account")}},WN=({onGoBack:n,onDeactivateSuccess:r,setToastMessage:i,setToastType:c})=>{const[u,f]=p.useState(!1),[m,h]=p.useState(""),g=async()=>{if(m.toLowerCase()!=="deactivate"){c("error"),i('Please type "DEACTIVATE" to confirm');return}f(!0);try{await Nl.deactivateAccount(),c("success"),i("Account deactivated successfully"),Te.clearAll(),setTimeout(()=>{r()},1500)}catch(x){c("error"),i(x.message||"Failed to deactivate account")}finally{f(!1)}};return a.jsx("div",{className:"min-h-screen bg-brand-bg py-8 px-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("button",{onClick:n,className:"mb-6 text-brand-dark hover:text-brand-secondary transition-colors flex items-center gap-2",children:[a.jsx("span",{children:""})," Back"]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-brand-dark mb-4",children:"Deactivate Account"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry to see you go. Deactivating your account will:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-600 mb-6 space-y-2",children:[a.jsx("li",{children:"Prevent you from logging in to your account"}),a.jsx("li",{children:"Keep your account data for future reactivation"}),a.jsx("li",{children:"Not delete your order history or other data"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"If you change your mind, you can contact support to reactivate your account."}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",a.jsx("span",{className:"font-bold",children:"DEACTIVATE"})," to confirm:"]}),a.jsx("input",{type:"text",value:m,onChange:x=>h(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-dark",placeholder:"Type DEACTIVATE here"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:n,className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",disabled:u,children:"Cancel"}),a.jsx("button",{onClick:g,disabled:u||m.toLowerCase()!=="deactivate",className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Deactivating...":"Deactivate Account"})]})]})]})})},KN=({onGoBack:n})=>a.jsx("div",{className:"min-h-screen bg-brand-bg py-8 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:n,className:"mb-6 text-brand-dark hover:text-brand-secondary transition-colors flex items-center gap-2",children:[a.jsx("span",{children:""})," Back"]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-brand-dark mb-6",children:"Privacy Policy"}),a.jsxs("div",{className:"prose max-w-none space-y-6 text-gray-700",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"1. Introduction"}),a.jsx("p",{children:"Welcome to Shauqse. We are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our platform."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"2. Information We Collect"}),a.jsx("p",{children:"We collect information that you provide directly to us, including:"}),a.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[a.jsx("li",{children:"Name, email address, phone number"}),a.jsx("li",{children:"Shipping and billing addresses"}),a.jsx("li",{children:"Payment information"}),a.jsx("li",{children:"Order history and preferences"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"3. How We Use Your Information"}),a.jsx("p",{children:"We use the information we collect to:"}),a.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[a.jsx("li",{children:"Process and fulfill your orders"}),a.jsx("li",{children:"Send you order confirmations and updates"}),a.jsx("li",{children:"Improve our services and user experience"}),a.jsx("li",{children:"Send promotional communications (with your consent)"}),a.jsx("li",{children:"Comply with legal obligations"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"4. Data Security"}),a.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"5. Your Rights"}),a.jsx("p",{children:"You have the right to:"}),a.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[a.jsx("li",{children:"Access your personal information"}),a.jsx("li",{children:"Correct inaccurate information"}),a.jsx("li",{children:"Request deletion of your information"}),a.jsx("li",{children:"Opt-out of marketing communications"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"6. Contact Us"}),a.jsx("p",{children:"If you have questions about this Privacy Policy, please contact us at support@shauqse.com"})]}),a.jsx("section",{children:a.jsxs("p",{className:"text-sm text-gray-500 mt-8",children:["Last updated: ",new Date().toLocaleDateString()]})})]})]})]})}),JN=({onGoBack:n})=>a.jsx("div",{className:"min-h-screen bg-brand-bg py-8 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:n,className:"mb-6 text-brand-dark hover:text-brand-secondary transition-colors flex items-center gap-2",children:[a.jsx("span",{children:""})," Back"]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-brand-dark mb-6",children:"Terms & Conditions"}),a.jsxs("div",{className:"prose max-w-none space-y-6 text-gray-700",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"1. Acceptance of Terms"}),a.jsx("p",{children:"By accessing and using Shauqse, you accept and agree to be bound by the terms and provision of this agreement."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"2. Use License"}),a.jsx("p",{children:"Permission is granted to temporarily use Shauqse for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"3. Account Registration"}),a.jsx("p",{children:"When you create an account with us, you must:"}),a.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[a.jsx("li",{children:"Provide accurate and complete information"}),a.jsx("li",{children:"Maintain the security of your account"}),a.jsx("li",{children:"Notify us immediately of any unauthorized use"}),a.jsx("li",{children:"Be responsible for all activities under your account"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"4. Products and Pricing"}),a.jsx("p",{children:"We strive to provide accurate product information and pricing. However, we reserve the right to correct any errors, inaccuracies, or omissions and to change or update information at any time without prior notice."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"5. Payment Terms"}),a.jsx("p",{children:"All payments are processed securely. By placing an order, you agree to pay the full amount including taxes and shipping fees."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"6. Returns and Refunds"}),a.jsx("p",{children:"Please review our return policy. Returns must be made within the specified time frame and in accordance with our return guidelines."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"7. Limitation of Liability"}),a.jsx("p",{children:"Shauqse shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the service."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"8. Changes to Terms"}),a.jsx("p",{children:"We reserve the right to modify these terms at any time. Your continued use of the service after changes constitutes acceptance of the new terms."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-dark mb-3",children:"9. Contact Information"}),a.jsx("p",{children:"For questions about these Terms & Conditions, please contact us at support@shauqse.com"})]}),a.jsx("section",{children:a.jsxs("p",{className:"text-sm text-gray-500 mt-8",children:["Last updated: ",new Date().toLocaleDateString()]})})]})]})]})}),og={getWishlist:async()=>{const n=await ce.get(ie.WISHLIST);return Ge(n)},addToWishlist:async n=>{const r=Pa.getBackendId(n),i=await ce.post(ie.WISHLIST,{product_id:parseInt(r)});return ke(i)},removeFromWishlist:async n=>{const r=Pa.getBackendId(n);await ce.delete(ie.WISHLIST_ITEM(r))}},ho={getCart:async()=>{const n=await ce.get(ie.CART);return Ge(n)},addToCart:async(n,r)=>{const i=Pa.getBackendId(n),c=await ce.post(ie.CART,{product_id:parseInt(i),quantity:r});return ke(c)},removeFromCart:async n=>{await ce.delete(ie.CART_ITEM(n))},updateCartQuantity:async(n,r)=>{const i=await ce.put(ie.CART_ITEM(n),{quantity:r});return ke(i)},clearCart:async()=>{await ce.delete(ie.CART_CLEAR)},getCartSummary:async()=>{const n=await ce.get(ie.CART_SUMMARY);return ke(n)}},cg=n=>{var h,g,x,v,y;const r=n.balance_breakdown?{available_balance_before:n.balance_breakdown.available_balance_before||0,mlm_balance_used:n.balance_breakdown.mlm_balance_used||0,account_balance_used:n.balance_breakdown.account_balance_used||0,total_balance_used:n.balance_breakdown.total_balance_used||0,cash_paid:n.balance_breakdown.cash_paid||0,remaining_balance:n.balance_breakdown.remaining_balance||0,breakdown:{mlm_balance:((h=n.balance_breakdown.breakdown)==null?void 0:h.mlm_balance)||0,platform_rewards:((g=n.balance_breakdown.breakdown)==null?void 0:g.platform_rewards)||0,advance_credit:((x=n.balance_breakdown.breakdown)==null?void 0:x.advance_credit)||0}}:void 0,c={delivered:"Delivered",delivered_cod_received:"Delivered",pending:"Processing",confirmed:"Processing",shipped:"Processing",cod_review:"COD Review",cod_verified:"Verified",cancelled:"Cancelled"}[(v=n.status)==null?void 0:v.toLowerCase()]||"Processing",u=(n.items||[]).map(w=>({id:w.product_id,backendId:String(w.product_id),name:w.product_name||"Unknown Product",category:"",price:String(w.price||0),originalPrice:null,image:w.product_image_url||"",images:[],stock:0,cartItemId:`ci_${w.id||w.product_id}`,quantity:w.quantity||1})),f=n.date||(n.created_at?new Date(n.created_at).toLocaleDateString("en-GB"):new Date().toLocaleDateString("en-GB")),m=n.updated_at?new Date(n.updated_at).toLocaleDateString("en-GB"):void 0;return{orderId:n.order_id||`#ORD${n.id}`,orderDate:f,updatedAt:m,orderType:((y=n.order_type)==null?void 0:y.toLowerCase())==="customer"?"customer":"self",paymentMethod:n.payment_method||"Cash on Delivery",status:c,customerInfo:n.customer_phone&&n.customer_address?{name:n.customer_name,phone:n.customer_phone,address:n.customer_address,whatsapp:n.cod_whatsapp_number}:void 0,items:u,subtotal:(n.total_amount||0)-(n.delivery_charge||0),deliveryFee:n.delivery_charge||0,commission:n.commission||0,mlmBalanceUsed:n.mlm_balance_used||void 0,accountBalanceUsed:n.account_balance_used||void 0,cashPaid:n.cash_paid||void 0,balanceBreakdown:r,total:n.total_amount||0,codAdvanceAmount:n.cod_advance_amount||void 0,codAdvanceScreenshotUrl:n.cod_advance_screenshot_url||void 0,codWhatsappNumber:n.cod_whatsapp_number||void 0,codNotes:n.cod_notes||void 0,customSize:n.custom_size||void 0,customPrintInstructions:n.custom_print_instructions||void 0,customPrintImageUrl:n.custom_print_image_url||void 0,customPrintPrice:n.custom_print_price||void 0}},e2=()=>{const{pathname:n}=Ga();return p.useEffect(()=>{window.scrollTo(0,0)},[n]),null},Al=n=>{p.useEffect(()=>{const r=document.title;return document.title=n?`${n} | Shauq`:"Shauq",()=>{document.title=r}},[n])},zs=({children:n,user:r,isLoading:i,requiredRoles:c})=>{const u=Ga();return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Ie,{size:"lg",text:"Loading..."})}):r?c&&c.length>0&&!c.includes(r.role)?a.jsx(jo,{to:"/",replace:!0}):a.jsx(a.Fragment,{children:n}):a.jsx(jo,{to:"/auth",state:{from:u},replace:!0})},Bu=()=>{const n=cs();return Al("Page Not Found"),a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-brand-bg px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-9xl font-bold text-brand-primary opacity-20",children:"404"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 mt-2 max-w-md",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),a.jsx("button",{onClick:()=>n("/"),className:"mt-6 px-6 py-3 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-colors",children:"Go to Homepage"})]})})},t2=n=>{const{productId:r}=Eo(),i=cs(),[c,u]=p.useState(null),[f,m]=p.useState(!0),[h,g]=p.useState(!1);if(Al((c==null?void 0:c.name)||"Product"),p.useEffect(()=>{(async()=>{if(!r){g(!0),m(!1);return}m(!0),g(!1);try{const y=await Fa.getProductById(Number(r));u(y)}catch(y){console.error("Failed to load product:",y),g(!0)}finally{m(!1)}})()},[r]),f)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Ie,{size:"lg",text:"Loading product..."})});if(h||!c)return a.jsx(Bu,{});const x=n.wishlist.includes(c.id);return a.jsx(Mj,{product:c,isWishlisted:x,onToggleWishlist:n.onToggleWishlist,onAddToCart:n.onAddToCart,onProductSelect:n.onProductSelect,onOpenQuickView:n.onOpenQuickView,wishlist:n.wishlist,onGoBack:()=>i(-1),onNavigateToStore:n.onNavigateToStore})},a2=({ordersHistory:n,user:r,isLoading:i})=>{const{orderId:c}=Eo(),u=cs(),[f,m]=p.useState(!1);Al("Order Details");const h=p.useMemo(()=>c?n.find(g=>g.orderId===c||g.orderId===`#${c}`||g.orderId===`#ORD${c}`):null,[c,n]);return p.useEffect(()=>{!i&&!h&&n.length>0&&m(!0)},[h,n,i]),i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Ie,{size:"lg",text:"Loading order..."})}):f?a.jsx(jo,{to:"/profile",replace:!0}):h?a.jsx(Gj,{order:h,onGoBack:()=>u("/profile")}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Ie,{size:"lg",text:"Loading order..."})})},s2=n=>{const{collectionId:r}=Eo(),i=cs(),[c,u]=p.useState(null),[f,m]=p.useState(!0),[h,g]=p.useState(!1);return Al((c==null?void 0:c.name)||"Collection"),p.useEffect(()=>{(async()=>{if(!r){g(!0),m(!1);return}m(!0),g(!1);try{const v=await qs.getCollectionById(Number(r));u(v)}catch(v){console.error("Failed to load collection:",v),g(!0)}finally{m(!1)}})()},[r]),f?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Ie,{size:"lg",text:"Loading collection..."})}):h||!c?a.jsx(Bu,{}):a.jsx(PN,{collection:c,wishlist:n.wishlist,onToggleWishlist:n.onToggleWishlist,onProductSelect:n.onProductSelect,onAddToCart:n.onAddToCart,onOpenQuickView:n.onOpenQuickView,onGoBack:()=>i(-1)})},n2=n=>{const{storeSlug:r}=Eo(),i=cs();return Al(r?`${r} Store`:"Store"),r?a.jsx($N,{storeSlug:r,wishlist:n.wishlist,onToggleWishlist:n.onToggleWishlist,onProductSelect:n.onProductSelect,onAddToCart:n.onAddToCart,onOpenQuickView:n.onOpenQuickView,onCollectionSelect:n.onCollectionSelect,onGoBack:()=>i(-1),onNavigateHome:n.onNavigateHome}):a.jsx(jo,{to:"/",replace:!0})},l2=n=>{const r=cs(),[i]=Vy(),c=i.get("q")||"";return Al(c?`Search: ${c}`:"Search"),p.useEffect(()=>{n.onSearchQueryChange(c)},[c]),a.jsx(Lj,{query:c,products:n.products,onProductSelect:n.onProductSelect,wishlist:n.wishlist,onToggleWishlist:n.onToggleWishlist,onAddToCart:n.onAddToCart,onOpenQuickView:n.onOpenQuickView,onGoBack:()=>r(-1),activeFilters:n.activeFilters,onFilterChange:n.onFilterChange})},r2=()=>{const n=cs(),r=Ga(),[i,c]=p.useState(null),[u,f]=p.useState([]),[m,h]=p.useState(""),[g,x]=p.useState(null),[v,y]=p.useState([]),[w,N]=p.useState([]),[C,_]=p.useState(""),[T,L]=p.useState("success"),[Y,U]=p.useState(null),[P,k]=p.useState([]),[A,O]=p.useState("Personal Information"),[ae,H]=p.useState({categories:[],sizes:[],genders:[],priceRange:null,brands:[],ratings:[]}),[$,ee]=p.useState(!0),[J,D]=p.useState(!1),[E,W]=p.useState(0),[M,q]=p.useState(!1),[F,I]=p.useState("login"),[G,S]=p.useState(void 0),[Q,le]=p.useState(void 0),[be,ge]=p.useState(void 0);p.useEffect(()=>{(async()=>{const pe=Te.getBackendUser(),Se=Te.getToken();if(!pe||!Se){k([]);return}D(!0);try{const De=(await Sl.getOrders()).map(cg);k(De)}catch(Re){console.error("Failed to load orders:",Re),_("Failed to load orders. Please try again later."),k([])}finally{D(!1)}})()},[i]),p.useEffect(()=>{const re=Ir.subscribe(pe=>{W(pe)});return()=>{re()}},[]),p.useEffect(()=>{(async()=>{const pe=Te.getBackendUser(),Se=Te.getToken();if(!pe||!Se){N([]);return}try{const De=(await ho.getCart()).map(Ee=>({id:Ee.product_id,backendId:String(Ee.product_id),name:Ee.product_name||Ee.name||"Unknown Product",category:"",description:"",price:String(Ee.product_price??Ee.price??0),originalPrice:null,image:Ee.product_image_url||Ee.image_url||"",images:[],sizes:[],stock:void 0,cartItemId:`ci_${Ee.product_id}`,quantity:Ee.quantity}));N(De)}catch(Re){console.error("Failed to load cart:",Re),N([])}})()},[i]),p.useEffect(()=>{(async()=>{if(r.pathname==="/"&&u.length===0)try{const pe=await Fa.getProducts({limit:8});f(pe)}catch(pe){console.error("Failed to load homepage products:",pe)}})()},[r.pathname,u.length]),p.useEffect(()=>{(async()=>{if(r.pathname.startsWith("/admin")&&u.length===0)try{const pe=await Fa.getProducts({limit:200});f(pe)}catch(pe){console.error("Failed to load products for admin:",pe)}})()},[r.pathname,u.length]),p.useEffect(()=>{const pe=new URLSearchParams(window.location.search).get("ref");if(pe)if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){const Re=/iPad|iPhone|iPod/.test(navigator.userAgent),De=/Android/.test(navigator.userAgent),Ee=`https://shauqse.com/register?ref=${pe}`,ut=`shauqse://register?ref=${pe}`;Re?window.location.href=Ee:De&&(window.location.href=ut,setTimeout(()=>{window.location.href="https://play.google.com/store/apps/details?id=com.shauq.app.shauq_flutter"},1500))}else I("signup"),r.pathname!=="/auth"&&n("/auth",{replace:!0})},[]),p.useEffect(()=>{(async()=>{ee(!0);try{const pe=Te.getToken(),Se=Te.getBackendUser();if(pe&&Se)try{if(await Nl.verifyToken()){const ut=(Se.role||"customer").toLowerCase();c({name:Se.name,email:Se.email,role:ut});const mt=Te.getUiState("initialProfileSection"),Ct=Te.getUiState("activeFilters"),ma=Te.getUiState("searchQuery");mt&&O(mt),Ct&&H(Ct),ma&&h(ma),r.pathname==="/auth"&&(ut==="admin"||ut==="vendor"||ut==="brand"?n("/admin",{replace:!0}):n("/",{replace:!0})),ee(!1);return}}catch(Ee){console.warn("Stored token is invalid, clearing session:",Ee),Te.clearAll(),Te.clearUiState("initialProfileSection"),Te.clearUiState("activeFilters"),Te.clearUiState("searchQuery")}["/","/auth","/search","/product","/collections","/collection","/store","/privacy-policy","/terms"].some(Ee=>r.pathname===Ee||r.pathname.startsWith("/product/")||r.pathname.startsWith("/collection/")||r.pathname.startsWith("/store/"))||n("/auth",{replace:!0})}catch(pe){console.error("Error during auth check:",pe)}finally{ee(!1)}})()},[]),p.useEffect(()=>{if(C){const re=setTimeout(()=>_(""),3e3);return()=>clearTimeout(re)}},[C]),p.useEffect(()=>{(async()=>{if(!i){S(void 0);return}try{const pe=Te.getBackendUser();if(pe!=null&&pe.id){const Se=parseInt(pe.id,10);if(isNaN(Se))S(void 0);else{const Re=await zu.getUserBalance(Se);S(Re.available_balance)}}else S(void 0)}catch(pe){console.error("[App] Error loading user reward:",pe),S(void 0)}})()},[i]),p.useEffect(()=>{(async()=>{if(!i){le(void 0),ge(void 0);return}try{const pe=await zn.getReferralCode();pe?(le(pe),ge(`https://shauqse.com/register?ref=${pe}`)):(le(void 0),ge(void 0))}catch(pe){console.error("[App] Error loading referral code:",pe),le(void 0),ge(void 0)}})()},[i]);const je=async re=>{var pe;try{const{user:Se}=await Nl.login({email:re.email,password:re.password}),Re=(Se.role||"customer").toLowerCase();c({name:Se.name,email:Se.email,role:Re}),k([]);const De=r.state,Ee=((pe=De==null?void 0:De.from)==null?void 0:pe.pathname)||(Re==="admin"||Re==="vendor"||Re==="brand"?"/admin":"/");n(Ee,{replace:!0}),L("success"),_("Logged in successfully")}catch(Se){L("error"),_(Se.message||"Login failed")}},ue=async re=>{var pe;try{const Se=await Nl.register({name:re.name,email:re.email,phone:re.phone||"",password:re.password,referralCode:re.referralCode,role:re.role||"customer"});if(re.referralCode&&((pe=Se.user)!=null&&pe.id))try{const ut=typeof Se.user.id=="string"?parseInt(Se.user.id,10):Se.user.id;if(!isNaN(ut)){const{MlmService:mt}=await kg(async()=>{const{MlmService:Ct}=await Promise.resolve().then(()=>tN);return{MlmService:Ct}},void 0);await mt.createReferral(ut,re.referralCode)}}catch(ut){console.warn("Referral code could not be applied:",ut)}const Re=Se.user,De=re.role||"customer",Ee=(Re.role||De||"customer").toLowerCase();if(Ee==="vendor"||Ee==="brand")try{const mt=(await Nl.login({email:re.email,password:re.password})).user,Ct=(mt.role||De||"vendor").toLowerCase();c({name:mt.name,email:mt.email,role:Ct}),k([]),L("success"),_("Account created! Please complete your store details."),n("/vendor-registration",{replace:!0});return}catch(ut){console.error("Auto login after vendor signup failed:",ut),c(null),k([]),I("login"),L("error"),_("Account created, but auto login failed. Please log in and complete your store details."),r.pathname!=="/auth"&&n("/auth",{replace:!0});return}c(null),k([]),I("login"),L("success"),_("Account created successfully! Please log in to continue."),r.pathname!=="/auth"&&n("/auth",{replace:!0})}catch(Se){L("error"),_(Se.message||"Sign up failed")}},ye=async()=>{try{await Nl.logout()}catch{}Te.clearUiState("initialProfileSection"),Te.clearUiState("activeFilters"),Te.clearUiState("searchQuery"),c(null),y([]),N([]),k([]),n("/auth",{replace:!0})},Oe=()=>{ye()},me=re=>{h(re),Te.saveUiState("searchQuery",re),n(`/search${re?`?q=${encodeURIComponent(re)}`:""}`)},Me=()=>n("/"),kt=re=>n(`/product/${re.id}`),yt=re=>x(re),ot=()=>x(null),Ut=()=>n("/wishlist"),ea=()=>n("/cart"),Qa=()=>{O("My Orders"),n("/profile")},Ht=re=>{n(`/order/${re.orderId.replace("#","")}`)},Zt=()=>{i?(O("Personal Information"),n("/profile")):n("/auth",{replace:!0})},qt=()=>n("/checkout"),Ft=()=>n("/collections"),ds=re=>n(`/collection/${re.id}`),Ys=()=>{I("login"),n("/auth",{replace:!0})},dt=re=>n(`/store/${re}`),ua=()=>n("/mlm-dashboard"),ta=async(re,pe)=>{try{const Se=await Fa.getProducts({category_id:re,limit:40});f(Se);const Re={categories:[pe],sizes:[],genders:[],priceRange:null,brands:[],ratings:[]};H(Re),Te.saveUiState("activeFilters",Re),h(""),n("/search")}catch(Se){console.error("Failed to load products for category:",re,Se),L("error"),_("Failed to load products. Please try again.")}},aa=async()=>{try{const re=await Fa.getProducts({limit:40});f(re);const pe={categories:[],sizes:[],genders:[],priceRange:null,brands:[],ratings:[]};H(pe),Te.saveUiState("activeFilters",pe),h(""),n("/search")}catch(re){console.error("Failed to load all products:",re),L("error"),_("Failed to load products. Please try again.")}},va=async re=>{var pe,Se,Re,De;try{const Ee={order_type:re.orderType,payment_method:re.paymentMethod.toLowerCase().replace(/\s+/g,"_"),customer_name:((pe=re.customerInfo)==null?void 0:pe.name)||void 0,customer_phone:(Se=re.customerInfo)==null?void 0:Se.phone,customer_address:((Re=re.customerInfo)==null?void 0:Re.address)||void 0,commission:re.commission>0?re.commission:void 0,mlm_balance_used:re.mlmBalanceUsed,account_balance_used:re.accountBalanceUsed,cod_advance_screenshot_url:re.codAdvanceScreenshotUrl,cod_whatsapp_number:((De=re.customerInfo)==null?void 0:De.whatsapp)||re.codWhatsappNumber,cod_notes:re.codNotes,custom_size:re.customSize,custom_print_instructions:re.customPrintInstructions,custom_print_image_url:re.customPrintImageUrl,custom_print_price:re.customPrintPrice,delivery_mode:re.deliveryMode||"delivery",items:re.items.map(ma=>({product_id:parseInt(ma.backendId||String(ma.id),10),quantity:ma.quantity}))},ut=await ce.post(ie.ORDERS,Ee),mt=ke(ut),Ct=cg(mt);U(Ct),k(ma=>[Ct,...ma]),N([]),n("/order-confirmation",{replace:!0})}catch(Ee){console.error("Failed to create order:",Ee),_("Failed to create order. Please try again.")}},Wt=async re=>{const pe=v.includes(re);try{pe?(await og.removeFromWishlist(re),y(Se=>Se.filter(Re=>Re!==re)),L("success"),_("Removed from Wishlist")):(await og.addToWishlist(re),y(Se=>[...Se,re]),L("success"),_("Added to Wishlist"))}catch(Se){L("error"),_((Se==null?void 0:Se.message)||"Wishlist action failed")}},sa=async(re,pe)=>{if(!(!!Te.getToken()&&!!Te.getBackendUser())){if(w.find(De=>De.id===re.id))N(De=>De.map(Ee=>Ee.id===re.id?{...Ee,quantity:Ee.quantity+pe}:Ee));else{const De={...re,quantity:pe,cartItemId:`temp-${re.id}-${Date.now()}`};N(Ee=>[...Ee,De])}L("success"),_("Added to Cart");return}try{if(await ho.addToCart(re.id,pe),w.find(De=>De.id===re.id))N(De=>De.map(Ee=>Ee.id===re.id?{...Ee,quantity:Ee.quantity+pe}:Ee));else{const De={...re,quantity:pe,cartItemId:`temp-${re.id}-${Date.now()}`};N(Ee=>[...Ee,De])}L("success"),_("Added to Cart")}catch(Re){L("error"),_((Re==null?void 0:Re.message)||"Failed to add to cart")}},us=async(re,pe)=>{if(pe<=0){ms(re);return}const Se=w.find(De=>De.cartItemId===re);if(!Se)return;if(!(!!Te.getToken()&&!!Te.getBackendUser())){N(De=>De.map(Ee=>Ee.cartItemId===re?{...Ee,quantity:pe}:Ee));return}try{const De=Se.backendId||String(Se.id);await ho.updateCartQuantity(De,pe),N(Ee=>Ee.map(ut=>ut.cartItemId===re?{...ut,quantity:pe}:ut))}catch(De){L("error"),_((De==null?void 0:De.message)||"Failed to update quantity")}},ms=async re=>{const pe=w.find(Re=>Re.cartItemId===re);if(!pe)return;if(!(!!Te.getToken()&&!!Te.getBackendUser())){N(Re=>Re.filter(De=>De.cartItemId!==re)),L("success"),_("Removed from Cart");return}try{const Re=pe.backendId||String(pe.id);await ho.removeFromCart(Re),N(De=>De.filter(Ee=>Ee.cartItemId!==re)),L("success"),_("Removed from Cart")}catch(Re){L("error"),_((Re==null?void 0:Re.message)||"Failed to remove item")}},na=re=>{H(re),Te.saveUiState("activeFilters",re)},vt=async re=>{try{const pe=await Fa.createProduct(re);f(Se=>[pe,...Se]),L("success"),_("Product added successfully!")}catch(pe){L("error"),_((pe==null?void 0:pe.message)||"Failed to add product")}},Nt=async re=>{try{const pe=await Fa.updateProduct(re.id,re);f(Se=>Se.map(Re=>Re.id===pe.id?pe:Re)),L("success"),_("Product updated successfully!")}catch(pe){L("error"),_((pe==null?void 0:pe.message)||"Failed to update product")}},xt=async re=>{try{await Fa.deleteProduct(re),f(pe=>pe.filter(Se=>Se.id!==re)),L("success"),_("Product deleted successfully!")}catch(pe){L("error"),_((pe==null?void 0:pe.message)||"Failed to delete product")}},fs=p.useMemo(()=>u.filter(re=>v.includes(re.id)),[v,u]),hs=p.useMemo(()=>w.reduce((re,pe)=>re+pe.quantity,0),[w]),xs=(i==null?void 0:i.role)===Ea.ADMIN||(i==null?void 0:i.role)===Ea.VENDOR||(i==null?void 0:i.role)===Ea.BRAND,se=()=>{q(!M),n(M?"/admin":"/")},Ae=()=>{q(!1),n("/admin")},We=r.pathname,$s=!["/auth","/order-confirmation","/deactivate-account","/privacy-policy","/terms"].includes(We)&&!We.startsWith("/admin"),gs=We==="/order-confirmation",St=We!=="/auth"&&!We.startsWith("/admin");return a.jsxs("div",{className:"font-sans antialiased bg-brand-bg min-h-screen relative",children:[a.jsx(e2,{}),$s&&a.jsx(Fx,{onSearch:me,onLogoClick:Me,onWishlistClick:Ut,wishlistCount:v.length,onCartClick:ea,cartItemCount:hs,onProfileClick:Zt,initialQuery:m,isSignedIn:!!i,userRole:i==null?void 0:i.role,onNavigateToAdmin:xs?Ae:void 0,onTogglePublicView:xs?se:void 0,isPublicView:M,userReward:G,referralCode:Q,referralLink:be}),gs&&a.jsx(Fx,{onSearch:me,onLogoClick:Me,onWishlistClick:()=>{},wishlistCount:0,onCartClick:()=>{},cartItemCount:0,simplified:!0,onProfileClick:Zt,initialQuery:m,isSignedIn:!!i,userRole:i==null?void 0:i.role,referralCode:Q,referralLink:be}),a.jsxs(xy,{children:[a.jsx(Tt,{path:"/",element:a.jsx(wv,{products:u,onProductSelect:kt,wishlist:v,onToggleWishlist:Wt,onAddToCart:sa,onOpenQuickView:yt,onNavigateToCollections:Ft,onStoreSelect:dt,onCategorySelect:ta,onSeeAllProducts:aa})}),a.jsx(Tt,{path:"/auth",element:a.jsx(tv,{onLoginAttempt:je,onSignupAttempt:ue,onSkip:Me,defaultView:F,onViewChange:I})}),a.jsx(Tt,{path:"/search",element:a.jsx(l2,{products:u,onProductSelect:kt,wishlist:v,onToggleWishlist:Wt,onAddToCart:sa,onOpenQuickView:yt,activeFilters:ae,onFilterChange:na,onSearchQueryChange:h})}),a.jsx(Tt,{path:"/product/:productId",element:a.jsx(t2,{wishlist:v,onToggleWishlist:Wt,onAddToCart:sa,onProductSelect:kt,onOpenQuickView:yt,onNavigateToStore:dt})}),a.jsx(Tt,{path:"/wishlist",element:a.jsx(zs,{user:i,isLoading:$,children:a.jsx(Oj,{wishlistedProducts:fs,onProductSelect:kt,onToggleWishlist:Wt,onShopNow:Me,onAddToCart:sa,onOpenQuickView:yt,onGoBack:()=>n(-1)})})}),a.jsx(Tt,{path:"/cart",element:a.jsx(Ij,{cartItems:w,onUpdateQuantity:us,onRemoveItem:ms,onContinueShopping:Me,onCheckout:qt,onGoBack:()=>n(-1)})}),a.jsx(Tt,{path:"/checkout",element:a.jsx(zs,{user:i,isLoading:$,children:a.jsx(Fj,{cartItems:w,onConfirmOrder:va,onContinueShopping:Me,onGoBack:()=>n(-1)})})}),a.jsx(Tt,{path:"/order-confirmation",element:a.jsx(zs,{user:i,isLoading:$,children:a.jsx(Yj,{orderDetails:Y,onContinueShopping:Me,onViewMyOrders:Qa})})}),a.jsx(Tt,{path:"/order/:orderId",element:a.jsx(zs,{user:i,isLoading:$,children:a.jsx(a2,{ordersHistory:P,user:i,isLoading:J})})}),a.jsx(Tt,{path:"/profile",element:a.jsx(zs,{user:i,isLoading:$,children:a.jsx(sN,{user:i,onLogout:ye,setToastMessage:_,orders:P,onShopNow:Me,initialSection:A,onGoBack:()=>n(-1),onNavigateToMlmDashboard:ua,onViewOrderDetails:Ht,onReferralLoaded:re=>{le(re),ge(`https://shauqse.com/register?ref=${re}`)}})})}),a.jsx(Tt,{path:"/collections",element:a.jsx(qN,{onCollectionSelect:ds,onGoBack:()=>n(-1)})}),a.jsx(Tt,{path:"/collection/:collectionId",element:a.jsx(s2,{wishlist:v,onToggleWishlist:Wt,onProductSelect:kt,onAddToCart:sa,onOpenQuickView:yt})}),a.jsx(Tt,{path:"/store/:storeSlug",element:a.jsx(n2,{wishlist:v,onToggleWishlist:Wt,onProductSelect:kt,onAddToCart:sa,onOpenQuickView:yt,onCollectionSelect:ds,onNavigateHome:Me})}),a.jsx(Tt,{path:"/vendor-registration",element:a.jsx(zs,{user:i,isLoading:$,children:a.jsx(FN,{onGoBack:()=>n(-1),onSuccess:Ys})})}),a.jsx(Tt,{path:"/mlm-dashboard",element:a.jsx(zs,{user:i,isLoading:$,children:a.jsx(QN,{onGoBack:()=>n(-1)})})}),a.jsx(Tt,{path:"/admin/*",element:a.jsx(zs,{user:i,isLoading:$,requiredRoles:[Ea.ADMIN,Ea.VENDOR,Ea.BRAND],children:a.jsx(IN,{onLogout:Oe,products:u,onAddProduct:vt,onUpdateProduct:Nt,onDeleteProduct:xt,onNavigateToPublicView:se})})}),a.jsx(Tt,{path:"/deactivate-account",element:a.jsx(zs,{user:i,isLoading:$,children:a.jsx(WN,{onGoBack:()=>n(-1),onDeactivateSuccess:()=>{c(null),n("/auth",{replace:!0})},setToastMessage:_,setToastType:L})})}),a.jsx(Tt,{path:"/privacy-policy",element:a.jsx(KN,{onGoBack:()=>n(-1)})}),a.jsx(Tt,{path:"/terms",element:a.jsx(JN,{onGoBack:()=>n(-1)})}),a.jsx(Tt,{path:"*",element:a.jsx(Bu,{})})]}),xs&&M&&!We.startsWith("/admin")&&a.jsx(HN,{onNavigate:Ae}),g&&a.jsx(rN,{product:g,onClose:ot,onAddToCart:sa,onToggleWishlist:Wt,isWishlisted:v.includes(g.id),onProductSelect:kt}),St&&a.jsx(XN,{onDeactivateClick:()=>n("/deactivate-account"),onPrivacyClick:()=>n("/privacy-policy"),onTermsClick:()=>n("/terms")}),a.jsx(zt,{message:C,show:!!C,onClose:()=>_(""),type:T}),($||J||E>0)&&a.jsx("div",{className:"fixed inset-0 bg-black/10 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx(Ie,{size:"lg",text:$?"Loading...":"Loading data..."})})]})},ap=document.getElementById("root");if(!ap)throw new Error("Could not find root element to mount to");const i2=Sb.createRoot(ap);i2.render(a.jsx(hu.StrictMode,{children:a.jsx(Iy,{children:a.jsx(r2,{})})}));
